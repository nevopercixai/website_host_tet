function ouibounce(e,t){"use strict";function n(e,t){return void 0===e?t:e}function r(){f.addEventListener("mouseleave",a),f.addEventListener("mouseenter",o)}function a(e){e.clientY>l||(h=setTimeout(i,u))}function o(){h&&(clearTimeout(h),h=null)}function i(){s(),d()}function s(){f.removeEventListener("mouseleave",a),f.removeEventListener("mouseenter",o)}var p=t||{},l=n(p.sensitivity,20),c=n(p.timer,1e3),u=n(p.delay,0),d=p.callback||function(){},h=null,f=document.documentElement;return setTimeout(r,c),{fire:i,disable:s,enable:r}}function is_touch_device(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)}function webpushNotEnabled(){var e="safari"in window&&"pushNotification"in window.safari,t="serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window,n=e&&"granted"===safari.pushNotification.permission("web.com.reamaze.push").permission,r=t&&"granted"===Notification.permission,a=e&&!n,o=t&&!r&&"denied"!==Notification.permission;return!window.cordova&&(a||o)}function stripdown(e,t){var n,r,a=new marked.Renderer;t?(n={elements:["span"],attributes:{span:["class"]}},r=!1):(n={elements:[]},r=!0);var o=new Sanitize(n),i=document.createElement("div");i.innerHTML=marked(e,{sanitize:r,gfm:!0,renderer:a,silent:!0});var s=o.clean_node(i),p=document.createElement("div");return p.appendChild(s),p.innerHTML}function encodeToHtmlEntities(e){var t="[\\u{000A0}-\\u{FFFFF}]";return t=new RegExp(t,"gu"),e.replace(t,(function(e){return"&#"+e.codePointAt(0)+";"}))}function getContrastYIQ(e){return"#"===e.slice(0,1)&&(e=e.slice(1)),3===e.length&&(e=e.split("").map((function(e){return e+e})).join("")),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3}function hasCreditCard(e){var t=/[-/#](?:\d[ -]*?){13,16}|((?:\d[ -]*?){13,16})/g;if(e){var n=e.matchAll(t),r=!0,a=!1,o=void 0;try{for(var i,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var p=i.value[1];if(p){var l=new RegExp("http[^\\s]*"+p).test(e),c=new RegExp("[a-zA-Z]+"+p).test(e),u=new RegExp(p+"(?=\\d)").test(e);if(!l&&!c&&!u&&checkCreditCard(p))return!0}}}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}}return!1}function checkCreditCard(e){if(/[^0-9-\s]+/.test(e))return!1;var t=0,n=!1;if(e=e.replace(/\D/g,""),["978","979"].includes(e.substring(0,3)))return!1;for(var r=e.length-1;r>=0;r--){var a=e.charAt(r),o=parseInt(a,10);n&&(o*=2)>9&&(o-=9),t+=o,n=!n}return t%10==0}function getColorFromGdColorPack(e){return colorPackConfig={"000":"#ffd700","001":"#f5b500","002":"#ff9c00","003":"#ee661b","004":"#c84835","005":"#d22f25","006":"#a0262f","007":"#f26193","008":"#da225e","009":"#ad1457","010":"#ac41bf","011":"#7c4889","012":"#7e54c6","013":"#67156e","014":"#59798e","015":"#2994ae","016":"#0075c1","017":"#283878","018":"#4caf51","019":"#799a19","020":"#008d55","021":"#40671d","022":"#c4ad92","023":"#a2938a","024":"#725b54","025":"#4c3b37","026":"#bebebe","027":"#8c8c8c","028":"#5b5b5b","029":"#111111"},colorPackConfig[e]}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function withTimerMixin(e){var t=function(t){function n(){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return _inherits(n,t),_createClass(n,[{key:"componentWillUnmount",value:function(){TimerMixin.componentWillUnmount.bind(this)}},{key:"render",value:function(){return React.createElement(e,_extends({setTimeout:TimerMixin.setTimeout.bind(this),clearTimeout:TimerMixin.clearTimeout.bind(this),setInterval:TimerMixin.setInterval.bind(this),clearInterval:TimerMixin.clearInterval.bind(this),setImmediate:TimerMixin.setImmediate.bind(this),clearImmediate:TimerMixin.clearImmediate.bind(this),requestAnimationFrame:TimerMixin.requestAnimationFrame.bind(this),cancelAnimationFrame:TimerMixin.cancelAnimationFrame.bind(this)},this.props))}}]),n}(React.Component);return t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var JSON;window._original_export=window.export,window._original_exports=window.exports,window._original_require=window.require,window._original_requirejs=window.requirejs,window._original_module=window.module,window._original_define=window.define,window.export=window.exports=window.require=window.requirejs=window.module=window.define=void 0,JSON||(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,a,o,i,s=gap,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof rep&&(p=rep.call(t,e,p)),typeof p){case"string":return quote(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(p)){for(o=p.length,n=0;n<o;n+=1)i[n]=str(n,p)||"null";return a=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+s+"]":"["+i.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(a=str(r=rep[n],p))&&i.push(quote(r)+(gap?": ":":")+a);else for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(a=str(r,p))&&i.push(quote(r)+(gap?": ":":")+a);return a=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+s+"}":"{"+i.join(",")+"}",gap=s,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(void 0!==(r=walk(a,n))?a[n]=r:delete a[n]);return reviver.call(e,t,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"!==n&&!he.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(he.isFunction(t))return he.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return he.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(Ee.test(t))return he.filter(t,e,n);t=he.filter(t,e)}return he.grep(e,(function(e){return he.inArray(e,t)>-1!==n}))}function a(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t={};return he.each(e.match(ze)||[],(function(e,n){t[n]=!0})),t}function i(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(re.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(re.addEventListener||"load"===e.event.type||"complete"===re.readyState)&&(i(),he.ready())}function p(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Pe,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ie.test(n)?he.parseJSON(n):n)}catch(e){}he.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!he.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(Ae(e)){var a,o,i=he.expando,s=e.nodeType,p=s?he.cache:e,l=s?e[i]:e[i]&&i;if(l&&p[l]&&(r||p[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[i]=ne.pop()||he.guid++:i),p[l]||(p[l]=s?{}:{toJSON:he.noop}),"object"!=typeof t&&"function"!=typeof t||(r?p[l]=he.extend(p[l],t):p[l].data=he.extend(p[l].data,t)),o=p[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[he.camelCase(t)]=n),"string"==typeof t?null==(a=o[t])&&(a=o[he.camelCase(t)]):a=o,a}}function u(e,t,n){if(Ae(e)){var r,a,o=e.nodeType,i=o?he.cache:e,s=o?e[he.expando]:he.expando;if(i[s]){if(t&&(r=n?i[s]:i[s].data)){a=(t=he.isArray(t)?t.concat(he.map(t,he.camelCase)):t in r||(t=he.camelCase(t))in r?[t]:t.split(" ")).length;for(;a--;)delete r[t[a]];if(n?!l(r):!he.isEmptyObject(r))return}(n||(delete i[s].data,l(i[s])))&&(o?he.cleanData([e],!0):ue.deleteExpando||i!=i.window?delete i[s]:i[s]=void 0)}}}function d(e,t,n,r){var a,o=1,i=20,s=r?function(){return r.cur()}:function(){return he.css(e,t,"")},p=s(),l=n&&n[3]||(he.cssNumber[t]?"":"px"),c=(he.cssNumber[t]||"px"!==l&&+p)&&Ue.exec(he.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+p||1;do{c/=o=o||".5",he.style(e,t,c+l)}while(o!==(o=s()/p)&&1!==o&&--i)}return n&&(c=+c||+p||0,a=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=a)),a}function h(e){var t=Ge.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){var n,r,a=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[a]);a++)!t||he.nodeName(r,t)?o.push(r):he.merge(o,f(r,t));return void 0===t||t&&he.nodeName(e,t)?he.merge([e],o):o}function m(e,t){for(var n,r=0;null!=(n=e[r]);r++)he._data(n,"globalEval",!t||he._data(t[r],"globalEval"))}function g(e){Ve.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,r,a){for(var o,i,s,p,l,c,u,d=e.length,v=h(t),y=[],b=0;b<d;b++)if((i=e[b])||0===i)if("object"===he.type(i))he.merge(y,i.nodeType?[i]:i);else if(Ye.test(i)){for(p=p||v.appendChild(t.createElement("div")),l=(He.exec(i)||["",""])[1].toLowerCase(),u=Ke[l]||Ke._default,p.innerHTML=u[1]+he.htmlPrefilter(i)+u[2],o=u[0];o--;)p=p.lastChild;if(!ue.leadingWhitespace&&$e.test(i)&&y.push(t.createTextNode($e.exec(i)[0])),!ue.tbody)for(o=(i="table"!==l||Qe.test(i)?"<table>"!==u[1]||Qe.test(i)?0:p:p.firstChild)&&i.childNodes.length;o--;)he.nodeName(c=i.childNodes[o],"tbody")&&!c.childNodes.length&&i.removeChild(c);for(he.merge(y,p.childNodes),p.textContent="";p.firstChild;)p.removeChild(p.firstChild);p=v.lastChild}else y.push(t.createTextNode(i));for(p&&v.removeChild(p),ue.appendChecked||he.grep(f(y,"input"),g),b=0;i=y[b++];)if(r&&he.inArray(i,r)>-1)a&&a.push(i);else if(s=he.contains(i.ownerDocument,i),p=f(v.appendChild(i),"script"),s&&m(p),n)for(o=0;i=p[o++];)We.test(i.type||"")&&n.push(i);return p=null,v}function y(){return!0}function b(){return!1}function C(){try{return re.activeElement}catch(e){}}function x(e,t,n,r,a,o){var i,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)x(e,s,n,r,t[s],o);return e}if(null==r&&null==a?(a=n,r=n=void 0):null==a&&("string"==typeof n?(a=r,r=void 0):(a=r,r=n,n=void 0)),!1===a)a=b;else if(!a)return e;return 1===o&&(i=a,a=function(e){return he().off(e),i.apply(this,arguments)},a.guid=i.guid||(i.guid=he.guid++)),e.each((function(){he.event.add(this,t,a,r,n)}))}function w(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function E(e){return e.type=(null!==he.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){if(1===t.nodeType&&he.hasData(e)){var n,r,a,o=he._data(e),i=he._data(t,o),s=o.events;if(s)for(n in delete i.handle,i.events={},s)for(r=0,a=s[n].length;r<a;r++)he.event.add(t,n,s[n][r]);i.data&&(i.data=he.extend({},i.data))}}function S(e,t){var n,r,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ue.noCloneEvent&&t[he.expando]){for(r in(a=he._data(t)).events)he.removeEvent(t,r,a.handle);t.removeAttribute(he.expando)}"script"===n&&t.text!==e.text?(E(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.html5Clone&&e.innerHTML&&!he.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ve.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function R(e,t,n,r){t=oe.apply([],t);var a,o,i,s,p,l,c=0,u=e.length,d=u-1,h=t[0],m=he.isFunction(h);if(m||u>1&&"string"==typeof h&&!ue.checkClone&&it.test(h))return e.each((function(a){var o=e.eq(a);m&&(t[0]=h.call(this,a,o.html())),R(o,t,n,r)}));if(u&&(a=(l=v(t,e[0].ownerDocument,!1,e,r)).firstChild,1===l.childNodes.length&&(l=a),a||r)){for(i=(s=he.map(f(l,"script"),E)).length;c<u;c++)o=l,c!==d&&(o=he.clone(o,!0,!0),i&&he.merge(s,f(o,"script"))),n.call(e[c],o,c);if(i)for(p=s[s.length-1].ownerDocument,he.map(s,_),c=0;c<i;c++)o=s[c],We.test(o.type||"")&&!he._data(o,"globalEval")&&he.contains(p,o)&&(o.src?he._evalUrl&&he._evalUrl(o.src):he.globalEval((o.text||o.textContent||o.innerHTML||"").replace(pt,"")));l=a=null}return e}function N(e,t,n){for(var r,a=t?he.filter(t,e):e,o=0;null!=(r=a[o]);o++)n||1!==r.nodeType||he.cleanData(f(r)),r.parentNode&&(n&&he.contains(r.ownerDocument,r)&&m(f(r,"script")),r.parentNode.removeChild(r));return e}function k(e,t){var n=he(t.createElement(e)).appendTo(t.body),r=he.css(n[0],"display");return n.detach(),r}function z(e){var t=re,n=ut[e];return n||("none"!==(n=k(e,t))&&n||((t=((ct=(ct||he("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||ct[0].contentDocument).document).write(),t.close(),n=k(e,t),ct.detach()),ut[e]=n),n}function O(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function A(e){if(e in St)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Tt.length;n--;)if((e=Tt[n]+t)in St)return e}function I(e,t){for(var n,r,a,o=[],i=0,s=e.length;i<s;i++)(r=e[i]).style&&(o[i]=he._data(r,"olddisplay"),n=r.style.display,t?(o[i]||"none"!==n||(r.style.display=""),""===r.style.display&&Be(r)&&(o[i]=he._data(r,"olddisplay",z(r.nodeName)))):(a=Be(r),(n&&"none"!==n||!a)&&he._data(r,"olddisplay",a?n:he.css(r,"display"))));for(i=0;i<s;i++)(r=e[i]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[i]||"":"none"));return e}function P(e,t,n){var r=wt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function D(e,t,n,r,a){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,i=0;o<4;o+=2)"margin"===n&&(i+=he.css(e,n+Fe[o],!0,a)),r?("content"===n&&(i-=he.css(e,"padding"+Fe[o],!0,a)),"margin"!==n&&(i-=he.css(e,"border"+Fe[o]+"Width",!0,a))):(i+=he.css(e,"padding"+Fe[o],!0,a),"padding"!==n&&(i+=he.css(e,"border"+Fe[o]+"Width",!0,a)));return i}function M(e,t,n){var r=!0,a="width"===t?e.offsetWidth:e.offsetHeight,o=gt(e),i=ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,o);if(a<=0||null==a){if(((a=vt(e,t,o))<0||null==a)&&(a=e.style[t]),ht.test(a))return a;r=i&&(ue.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+D(e,t,n||(i?"border":"content"),r,o)+"px"}function j(e,t,n,r,a){return new j.prototype.init(e,t,n,r,a)}function L(){return e.setTimeout((function(){Rt=void 0})),Rt=he.now()}function U(e,t){var n,r={height:e},a=0;for(t=t?1:0;a<4;a+=2-t)r["margin"+(n=Fe[a])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e,t,n){for(var r,a=(V.tweeners[t]||[]).concat(V.tweeners["*"]),o=0,i=a.length;o<i;o++)if(r=a[o].call(n,t,e))return r}function B(e,t,n){var r,a,o,i,s,p,l,c=this,u={},d=e.style,h=e.nodeType&&Be(e),f=he._data(e,"fxshow");for(r in n.queue||(null==(s=he._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,p=s.empty.fire,s.empty.fire=function(){s.unqueued||p()}),s.unqueued++,c.always((function(){c.always((function(){s.unqueued--,he.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(l=he.css(e,"display"))?he._data(e,"olddisplay")||z(e.nodeName):l)&&"none"===he.css(e,"float")&&(ue.inlineBlockNeedsLayout&&"inline"!==z(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ue.shrinkWrapBlocks()||c.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),t)if(a=t[r],kt.exec(a)){if(delete t[r],o=o||"toggle"===a,a===(h?"hide":"show")){if("show"!==a||!f||void 0===f[r])continue;h=!0}u[r]=f&&f[r]||he.style(e,r)}else l=void 0;if(he.isEmptyObject(u))"inline"===("none"===l?z(e.nodeName):l)&&(d.display=l);else for(r in f?"hidden"in f&&(h=f.hidden):f=he._data(e,"fxshow",{}),o&&(f.hidden=!h),h?he(e).show():c.done((function(){he(e).hide()})),c.done((function(){var t;for(t in he._removeData(e,"fxshow"),u)he.style(e,t,u[t])})),u)i=F(h?f[r]:0,r,c),r in f||(f[r]=i.start,h&&(i.end=i.start,i.start="width"===r||"height"===r?1:0))}function q(e,t){var n,r,a,o,i;for(n in e)if(a=t[r=he.camelCase(n)],o=e[n],he.isArray(o)&&(a=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(i=he.cssHooks[r])&&"expand"in i)for(n in o=i.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=a);else t[r]=a}function V(e,t,n){var r,a,o=0,i=V.prefilters.length,s=he.Deferred().always((function(){delete p.elem})),p=function(){if(a)return!1;for(var t=Rt||L(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,i=l.tweens.length;o<i;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&i?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:Rt||L(),duration:n.duration,tweens:[],createTween:function(t,n){var r=he.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(a)return this;for(a=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(q(c,l.opts.specialEasing);o<i;o++)if(r=V.prefilters[o].call(l,e,c,l.opts))return he.isFunction(r.stop)&&(he._queueHooks(l.elem,l.opts.queue).stop=he.proxy(r.stop,r)),r;return he.map(c,F,l),he.isFunction(l.opts.start)&&l.opts.start.call(e,l),he.fx.timer(he.extend(p,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function H(e){return he.attr(e,"class")||""}function W(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,o=t.toLowerCase().match(ze)||[];if(he.isFunction(n))for(;r=o[a++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function $(e,t,n,r){function a(s){var p;return o[s]=!0,he.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||i||o[l]?i?!(p=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),p}var o={},i=e===en;return a(t.dataTypes[0])||!o["*"]&&a("*")}function G(e,t){var n,r,a=he.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((a[r]?e:n||(n={}))[r]=t[r]);return n&&he.extend(!0,e,n),e}function K(e,t,n){for(var r,a,o,i,s=e.contents,p=e.dataTypes;"*"===p[0];)p.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(i in s)if(s[i]&&s[i].test(a)){p.unshift(i);break}if(p[0]in n)o=p[0];else{for(i in n){if(!p[0]||e.converters[i+" "+p[0]]){o=i;break}r||(r=i)}o=o||r}if(o)return o!==p[0]&&p.unshift(o),n[o]}function Y(e,t,n,r){var a,o,i,s,p,l={},c=e.dataTypes.slice();if(c[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!p&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),p=o,o=c.shift())if("*"===o)o=p;else if("*"!==p&&p!==o){if(!(i=l[p+" "+o]||l["* "+o]))for(a in l)if((s=a.split(" "))[1]===o&&(i=l[p+" "+s[0]]||l["* "+s[0]])){!0===i?i=l[a]:!0!==l[a]&&(o=s[0],c.unshift(s[1]));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+p+" to "+o}}}return{state:"success",data:t}}function Q(e){return e.style&&e.style.display||he.css(e,"display")}function X(e){if(!he.contains(e.ownerDocument||re,e))return!0;for(;e&&1===e.nodeType;){if("none"===Q(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function J(e,t,n,r){var a;if(he.isArray(t))he.each(t,(function(t,a){n||on.test(e)?r(e,a):J(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,n,r)}));else if(n||"object"!==he.type(t))r(e,t);else for(a in t)J(e+"["+a+"]",t[a],n,r)}function Z(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return he.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],re=e.document,ae=ne.slice,oe=ne.concat,ie=ne.push,se=ne.indexOf,pe={},le=pe.toString,ce=pe.hasOwnProperty,ue={},de="1.12.4",he=function(e,t){return new he.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ge=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:de,constructor:he,selector:"",length:0,toArray:function(){return ae.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ae.call(this)},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ie,sort:ne.sort,splice:ne.splice},he.extend=he.fn.extend=function(){var e,t,n,r,a,o,i=arguments[0]||{},s=1,p=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[s]||{},s++),"object"==typeof i||he.isFunction(i)||(i={}),s===p&&(i=this,s--);s<p;s++)if(null!=(a=arguments[s]))for(r in a)e=i[r],i!==(n=a[r])&&(l&&n&&(he.isPlainObject(n)||(t=he.isArray(n)))?(t?(t=!1,o=e&&he.isArray(e)?e:[]):o=e&&he.isPlainObject(e)?e:{},i[r]=he.extend(l,o,n)):void 0!==n&&(i[r]=n));return i},he.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray||function(e){return"array"===he.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!he.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==he.type(e)||e.nodeType||he.isWindow(e))return!1;try{if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!ue.ownFirst)for(t in e)return ce.call(e,t);for(t in e);return void 0===t||ce.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[le.call(e)]||"object":typeof e},globalEval:function(t){t&&he.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(me,"ms-").replace(ge,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,a=0;if(n(e))for(r=e.length;a<r&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?he.merge(r,"string"==typeof e?[e]:e):ie.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(se)return se.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;)e[a++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[a++]=t[r++];return e.length=a,e},grep:function(e,t,n){for(var r=[],a=0,o=e.length,i=!n;a<o;a++)!t(e[a],a)!==i&&r.push(e[a]);return r},map:function(e,t,r){var a,o,i=0,s=[];if(n(e))for(a=e.length;i<a;i++)null!=(o=t(e[i],i,r))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,r))&&s.push(o);return oe.apply([],s)},guid:1,proxy:function(e,t){var n,r,a;if("string"==typeof t&&(a=e[t],t=e,e=a),he.isFunction(e))return n=ae.call(arguments,2),r=function(){return e.apply(t||this,n.concat(ae.call(arguments)))},r.guid=e.guid=e.guid||he.guid++,r},now:function(){return+new Date},support:ue}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=ne[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){pe["[object "+t+"]"]=t.toLowerCase()}));var ye=function(e){function t(e,t,n,r){var a,o,i,s,p,l,u,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:F)!==A&&O(t),t=t||A,P)){if(11!==m&&(l=ve.exec(e)))if(a=l[1]){if(9===m){if(!(i=t.getElementById(a)))return n;if(i.id===a)return n.push(i),n}else if(f&&(i=f.getElementById(a))&&L(t,i)&&i.id===a)return n.push(i),n}else{if(l[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=l[3])&&x.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&!W[e+" "]&&(!D||!D.test(e))){if(1!==m)f=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=U),o=(u=T(e)).length,p=de.test(s)?"#"+s:"[id='"+s+"']";o--;)u[o]=p+" "+d(u[o]);h=u.join(","),f=ye.test(e)&&c(t.parentNode)||t}if(h)try{return J.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{s===U&&t.removeAttribute("id")}}}return R(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[U]=!0,e}function a(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function i(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function p(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r((function(t){return t=+t,r((function(n,r){for(var a,o=e([],n.length,t),i=o.length;i--;)n[a=o[i]]&&(n[a]=!(r[a]=n[a]))}))}))}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,a=n&&"parentNode"===r,o=q++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o)}:function(t,n,i){var s,p,l,c=[B,o];if(i){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,i))return!0}else for(;t=t[r];)if(1===t.nodeType||a){if((s=(p=(l=t[U]||(t[U]={}))[t.uniqueID]||(l[t.uniqueID]={}))[r])&&s[0]===B&&s[1]===o)return c[2]=s[2];if(p[r]=c,c[2]=e(t,n,i))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var a=0,o=n.length;a<o;a++)t(e,n[a],r);return r}function g(e,t,n,r,a){for(var o,i=[],s=0,p=e.length,l=null!=t;s<p;s++)(o=e[s])&&(n&&!n(o,r,a)||(i.push(o),l&&t.push(s)));return i}function v(e,t,n,a,o,i){return a&&!a[U]&&(a=v(a)),o&&!o[U]&&(o=v(o,i)),r((function(r,i,s,p){var l,c,u,d=[],h=[],f=i.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,d,e,s,p),b=n?o||(r?e:f||a)?[]:i:y;if(n&&n(y,b,s,p),a)for(l=g(b,h),a(l,[],s,p),c=l.length;c--;)(u=l[c])&&(b[h[c]]=!(y[h[c]]=u));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(u=b[c])&&l.push(y[c]=u);o(null,b=[],l,p)}for(c=b.length;c--;)(u=b[c])&&(l=o?ee(r,u):d[c])>-1&&(r[l]=!(i[l]=u))}}else b=g(b===i?b.splice(f,b.length):b),o?o(null,i,b,p):J.apply(i,b)}))}function y(e){for(var t,n,r,a=e.length,o=w.relative[e[0].type],i=o||w.relative[" "],s=o?1:0,p=h((function(e){return e===t}),i,!0),l=h((function(e){return ee(t,e)>-1}),i,!0),c=[function(e,n,r){var a=!o&&(r||n!==N)||((t=n).nodeType?p(e,n,r):l(e,n,r));return t=null,a}];s<a;s++)if(n=w.relative[e[s].type])c=[h(f(c),n)];else{if((n=w.filter[e[s].type].apply(null,e[s].matches))[U]){for(r=++s;r<a&&!w.relative[e[r].type];r++);return v(s>1&&f(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&y(e.slice(s,r)),r<a&&y(e=e.slice(r)),r<a&&d(e))}c.push(n)}return f(c)}function b(e,n){var a=n.length>0,o=e.length>0,i=function(r,i,s,p,l){var c,u,d,h=0,f="0",m=r&&[],v=[],y=N,b=r||o&&w.find.TAG("*",l),C=B+=null==y?1:Math.random()||.1,x=b.length;for(l&&(N=i===A||i||l);f!==x&&null!=(c=b[f]);f++){if(o&&c){for(u=0,i||c.ownerDocument===A||(O(c),s=!P);d=e[u++];)if(d(c,i||A,s)){p.push(c);break}l&&(B=C)}a&&((c=!d&&c)&&h--,r&&m.push(c))}if(h+=f,a&&f!==h){for(u=0;d=n[u++];)d(m,v,i,s);if(r){if(h>0)for(;f--;)m[f]||v[f]||(v[f]=Q.call(p));v=g(v)}J.apply(p,v),l&&!r&&v.length>0&&h+n.length>1&&t.uniqueSort(p)}return l&&(B=C,N=y),m};return a?r(i):i}var C,x,w,E,_,T,S,R,N,k,z,O,A,I,P,D,M,j,L,U="sizzle"+1*new Date,F=e.document,B=0,q=0,V=n(),H=n(),W=n(),$=function(e,t){return e===t&&(z=!0),0},G=1<<31,K={}.hasOwnProperty,Y=[],Q=Y.pop,X=Y.push,J=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",ie=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),pe=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ue=new RegExp(oe),de=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+oe),
CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=function(){O()};try{J.apply(Y=Z.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch(e){J={apply:Y.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(C in x=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==A&&9===r.nodeType&&r.documentElement?(I=(A=r).documentElement,P=!_(A),(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("pagehide",we,!1):n.attachEvent&&n.attachEvent("onpagehide",we)),x.attributes=a((function(e){return e.className="i",!e.getAttribute("className")})),x.getElementsByTagName=a((function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length})),x.getElementsByClassName=ge.test(A.getElementsByClassName),x.getById=a((function(e){return I.appendChild(e).id=U,!A.getElementsByName||!A.getElementsByName(U).length})),x.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Ce,xe);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(Ce,xe);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],a=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[a++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&P)return t.getElementsByClassName(e)},M=[],D=[],(x.qsa=ge.test(A.querySelectorAll))&&(a((function(e){I.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||D.push(".#.+[+~]")})),a((function(e){var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")}))),(x.matchesSelector=ge.test(j=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&a((function(e){x.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),M.push("!=",oe)})),D=D.length&&new RegExp(D.join("|")),M=M.length&&new RegExp(M.join("|")),t=ge.test(I.compareDocumentPosition),L=t||ge.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return z=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument===F&&L(F,e)?-1:t===A||t.ownerDocument===F&&L(F,t)?1:k?ee(k,e)-ee(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return z=!0,0;var n,r=0,a=e.parentNode,o=t.parentNode,s=[e],p=[t];if(!a||!o)return e===A?-1:t===A?1:a?-1:o?1:k?ee(k,e)-ee(k,t):0;if(a===o)return i(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)p.unshift(n);for(;s[r]===p[r];)r++;return r?i(s[r],p[r]):s[r]===F?-1:p[r]===F?1:0},A):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&O(e),n=n.replace(ce,"='$1']"),x.matchesSelector&&P&&!W[n+" "]&&(!M||!M.test(n))&&(!D||!D.test(n)))try{var r=j.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&O(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&O(e);var n=w.attrHandle[t.toLowerCase()],r=n&&K.call(w.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:x.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,a=0;if(z=!x.detectDuplicates,k=!x.sortStable&&e.slice(0),e.sort($),z){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return k=null,e},E=t.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(Ce,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,n,r){return function(a){var o=t.attr(a,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,a){var o="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===a?function(e){return!!e.parentNode}:function(t,n,p){var l,c,u,d,h,f,m=o!==i?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!p&&!s,b=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[i?g.firstChild:g.lastChild],i&&y){for(b=(h=(l=(c=(u=(d=g)[U]||(d[U]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===B&&l[1])&&l[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(b=h=0)||f.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[B,h,b];break}}else if(y&&(b=h=(l=(c=(u=(d=t)[U]||(d[U]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===B&&l[1]),!1===b)for(;(d=++h&&d&&d[m]||(b=h=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(u=d[U]||(d[U]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]=[B,b]),d!==t)););return(b-=a)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var a,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[U]?o(n):o.length>1?(a=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r((function(e,t){for(var r,a=o(e,n),i=a.length;i--;)e[r=ee(e,a[i])]=!(t[r]=a[i])})):function(e){return o(e,0,a)}):o}},pseudos:{not:r((function(e){var t=[],n=[],a=S(e.replace(se,"$1"));return a[U]?r((function(e,t,n,r){for(var o,i=a(e,null,r,[]),s=e.length;s--;)(o=i[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,a(t,null,o,n),t[0]=null,!n.pop()}})),has:r((function(e){return function(n){return t(e,n).length>0}})),contains:r((function(e){return e=e.replace(Ce,xe),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}})),lang:r((function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ce,xe).toLowerCase(),function(t){var n;do{if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l((function(){return[0]})),last:l((function(e,t){return[t-1]})),eq:l((function(e,t,n){return[n<0?n+t:n]})),even:l((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:l((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:l((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:l((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},w.pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[C]=s(C);for(C in{submit:!0,reset:!0})w.pseudos[C]=p(C);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,T=t.tokenize=function(e,n){var r,a,o,i,s,p,l,c=H[e+" "];if(c)return n?0:c.slice(0);for(s=e,p=[],l=w.preFilter;s;){for(i in r&&!(a=pe.exec(s))||(a&&(s=s.slice(a[0].length)||s),p.push(o=[])),r=!1,(a=le.exec(s))&&(r=a.shift(),o.push({value:r,type:a[0].replace(se," ")}),s=s.slice(r.length)),w.filter)!(a=he[i].exec(s))||l[i]&&!(a=l[i](a))||(r=a.shift(),o.push({value:r,type:i,matches:a}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):H(e,p).slice(0)},S=t.compile=function(e,t){var n,r=[],a=[],o=W[e+" "];if(!o){for(t||(t=T(e)),n=t.length;n--;)(o=y(t[n]))[U]?r.push(o):a.push(o);(o=W(e,b(a,r))).selector=e}return o},R=t.select=function(e,t,n,r){var a,o,i,s,p,l="function"==typeof e&&e,u=!r&&T(e=l.selector||e);if(n=n||[],1===u.length){if((o=u[0]=u[0].slice(0)).length>2&&"ID"===(i=o[0]).type&&x.getById&&9===t.nodeType&&P&&w.relative[o[1].type]){if(!(t=(w.find.ID(i.matches[0].replace(Ce,xe),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(a=he.needsContext.test(e)?0:o.length;a--&&(i=o[a],!w.relative[s=i.type]);)if((p=w.find[s])&&(r=p(i.matches[0].replace(Ce,xe),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(a,1),!(e=r.length&&d(o)))return J.apply(n,r),n;break}}return(l||S(e,u))(r,t,!P,n,!t||ye.test(e)&&c(t.parentNode)||t),n},x.sortStable=U.split("").sort($).join("")===U,x.detectDuplicates=!!z,O(),x.sortDetached=a((function(e){return 1&e.compareDocumentPosition(A.createElement("div"))})),a((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||o("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),x.attributes&&a((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||o("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),a((function(e){return null==e.getAttribute("disabled")}))||o(te,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),t}(e);he.find=ye,he.expr=ye.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=ye.uniqueSort,he.text=ye.getText,he.isXMLDoc=ye.isXML,he.contains=ye.contains;var be=function(e,t,n){for(var r=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&he(e).is(n))break;r.push(e)}return r},Ce=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=he.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ee=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?he.find.matchesSelector(r,e)?[r]:[]:he.find.matches(e,he.grep(t,(function(e){return 1===e.nodeType})))},he.fn.extend({find:function(e){var t,n=[],r=this,a=r.length;if("string"!=typeof e)return this.pushStack(he(e).filter((function(){for(t=0;t<a;t++)if(he.contains(r[t],this))return!0})));for(t=0;t<a;t++)he.find(e,r[t],n);return(n=this.pushStack(a>1?he.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&xe.test(e)?he(e):e||[],!1).length}});var _e,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(he.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||_e,"string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Te.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),we.test(r[1])&&he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((a=re.getElementById(r[2]))&&a.parentNode){if(a.id!==r[2])return _e.find(e);this.length=1,this[0]=a}return this.context=re,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):he.isFunction(e)?void 0!==n.ready?n.ready(e):e(he):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),he.makeArray(e,this))}).prototype=he.fn,_e=he(re);var Se=/^(?:parents|prev(?:Until|All))/,Re={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t,n=he(e,this),r=n.length;return this.filter((function(){for(t=0;t<r;t++)if(he.contains(this,n[t]))return!0}))},closest:function(e,t){for(var n,r=0,a=this.length,o=[],i=xe.test(e)||"string"!=typeof e?he(e,t||this.context):0;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?he.inArray(this[0],he(e)):he.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return Ce((e.parentNode||{}).firstChild,e)},children:function(e){return Ce(e.firstChild)},contents:function(e){return he.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:he.merge([],e.childNodes)}},(function(e,t){he.fn[e]=function(n,r){var a=he.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(a=he.filter(r,a)),this.length>1&&(Re[e]||(a=he.uniqueSort(a)),Se.test(e)&&(a=a.reverse())),this.pushStack(a)}}));var Ne,ke,ze=/\S+/g;for(ke in he.Callbacks=function(e){e="string"==typeof e?o(e):he.extend({},e);var t,n,r,a,i=[],s=[],p=-1,l=function(){for(a=e.once,r=t=!0;s.length;p=-1)for(n=s.shift();++p<i.length;)!1===i[p].apply(n[0],n[1])&&e.stopOnFalse&&(p=i.length,n=!1);e.memory||(n=!1),t=!1,a&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(p=i.length-1,s.push(n)),function t(n){he.each(n,(function(n,r){he.isFunction(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==he.type(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return he.each(arguments,(function(e,t){for(var n;(n=he.inArray(t,i,n))>-1;)i.splice(n,1),n<=p&&p--})),this},has:function(e){return e?he.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return a=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return a=!0,n||c.disable(),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},he.extend({Deferred:function(e){var t=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return he.Deferred((function(n){he.each(t,(function(t,o){var i=he.isFunction(e[t])&&e[t];a[o[1]]((function(){var e=i&&i.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,i?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?he.extend(e,r):r}},a={};return r.pipe=r.then,he.each(t,(function(e,o){var i=o[2],s=o[3];r[o[1]]=i.add,s&&i.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),a[o[0]]=function(){return a[o[0]+"With"](this===a?r:this,arguments),this},a[o[0]+"With"]=i.fireWith})),r.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,r,a=0,o=ae.call(arguments),i=o.length,s=1!==i||e&&he.isFunction(e.promise)?i:0,p=1===s?e:he.Deferred(),l=function(e,n,r){return function(a){n[e]=this,r[e]=arguments.length>1?ae.call(arguments):a,r===t?p.notifyWith(n,r):--s||p.resolveWith(n,r)}};if(i>1)for(t=new Array(i),n=new Array(i),r=new Array(i);a<i;a++)o[a]&&he.isFunction(o[a].promise)?o[a].promise().progress(l(a,n,t)).done(l(a,r,o)).fail(p.reject):--s;return s||p.resolveWith(r,o),p.promise()}}),he.fn.ready=function(e){return he.ready.promise().done(e),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0,!0!==e&&--he.readyWait>0||(Ne.resolveWith(re,[he]),he.fn.triggerHandler&&(he(re).triggerHandler("ready"),he(re).off("ready"))))}}),he.ready.promise=function(t){if(!Ne)if(Ne=he.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)e.setTimeout(he.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{re.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&re.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!he.isReady){try{n.doScroll("left")}catch(n){return e.setTimeout(t,50)}i(),he.ready()}}()}return Ne.promise(t)},he.ready.promise(),he(ue))break;ue.ownFirst="0"===ke,ue.inlineBlockNeedsLayout=!1,he((function(){var e,t,n,r;(n=re.getElementsByTagName("body")[0])&&n.style&&(t=re.createElement("div"),(r=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ue.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))})),function(){var e=re.createElement("div");ue.deleteExpando=!0;try{delete e.test}catch(e){ue.deleteExpando=!1}e=null}();var Oe,Ae=function(e){var t=he.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pe=/([A-Z])/g;he.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?he.cache[e[he.expando]]:e[he.expando])&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),he.fn.extend({data:function(e,t){var n,r,a,o=this[0],i=o&&o.attributes;if(void 0===e){if(this.length&&(a=he.data(o),1===o.nodeType&&!he._data(o,"parsedAttrs"))){for(n=i.length;n--;)i[n]&&0===(r=i[n].name).indexOf("data-")&&p(o,r=he.camelCase(r.slice(5)),a[r]);he._data(o,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each((function(){he.data(this,e)})):arguments.length>1?this.each((function(){he.data(this,e,t)})):o?p(o,e,he.data(o,e)):void 0},removeData:function(e){return this.each((function(){he.removeData(this,e)}))}}),he.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=he._data(e,t),n&&(!r||he.isArray(n)?r=he._data(e,t,he.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),r=n.length,a=n.shift(),o=he._queueHooks(e,t),i=function(){he.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete o.stop,a.call(e,i,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return he._data(e,n)||he._data(e,n,{empty:he.Callbacks("once memory").add((function(){he._removeData(e,t+"queue"),he._removeData(e,n)}))})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):void 0===t?this:this.each((function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){he.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=he.Deferred(),o=this,i=this.length,s=function(){--r||a.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)(n=he._data(o[i],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),a.promise(t)}}),ue.shrinkWrapBlocks=function(){return null!=Oe?Oe:(Oe=!1,(t=re.getElementsByTagName("body")[0])&&t.style?(e=re.createElement("div"),(n=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(re.createElement("div")).style.width="5px",Oe=3!==e.offsetWidth),t.removeChild(n),Oe):void 0);var e,t,n};var De,Me,je,Le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Le+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===he.css(e,"display")||!he.contains(e.ownerDocument,e)},qe=function(e,t,n,r,a,o,i){var s=0,p=e.length,l=null==n;if("object"===he.type(n))for(s in a=!0,n)qe(e,t,s,n[s],!0,o,i);else if(void 0!==r&&(a=!0,he.isFunction(r)||(i=!0),l&&(i?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(he(e),n)})),t))for(;s<p;s++)t(e[s],n,i?r:r.call(e[s],s,t(e[s],n)));return a?e:l?t.call(e):p?t(e[0],n):o},Ve=/^(?:checkbox|radio)$/i,He=/<([\w:-]+)/,We=/^$|\/(?:java|ecma)script/i,$e=/^\s+/,Ge="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";De=re.createElement("div"),Me=re.createDocumentFragment(),je=re.createElement("input"),De.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ue.leadingWhitespace=3===De.firstChild.nodeType,ue.tbody=!De.getElementsByTagName("tbody").length,ue.htmlSerialize=!!De.getElementsByTagName("link").length,ue.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,je.type="checkbox",je.checked=!0,Me.appendChild(je),ue.appendChecked=je.checked,De.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!De.cloneNode(!0).lastChild.defaultValue,Me.appendChild(De),(je=re.createElement("input")).setAttribute("type","radio"),je.setAttribute("checked","checked"),je.setAttribute("name","t"),De.appendChild(je),ue.checkClone=De.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.noCloneEvent=!!De.addEventListener,De[he.expando]=1,ue.attributes=!De.getAttribute(he.expando);var Ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td;var Ye=/<|&#?\w+;/,Qe=/<tbody/i;!function(){var t,n,r=re.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ue[t]=n in e)||(r.setAttribute(n,"t"),ue[t]=!1===r.attributes[n].expando);r=null}();var Xe=/^(?:input|select|textarea)$/i,Je=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,r,a){var o,i,s,p,l,c,u,d,h,f,m,g=he._data(e);if(g){for(n.handler&&(n=(p=n).handler,a=p.selector),n.guid||(n.guid=he.guid++),(i=g.events)||(i=g.events={}),(c=g.handle)||(c=g.handle=function(e){return void 0===he||e&&he.event.triggered===e.type?void 0:he.event.dispatch.apply(c.elem,arguments)},c.elem=e),s=(t=(t||"").match(ze)||[""]).length;s--;)h=m=(o=tt.exec(t[s])||[])[1],f=(o[2]||"").split(".").sort(),h&&(l=he.event.special[h]||{},h=(a?l.delegateType:l.bindType)||h,l=he.event.special[h]||{},u=he.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&he.expr.match.needsContext.test(a),namespace:f.join(".")},p),(d=i[h])||((d=i[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,f,c)||(e.addEventListener?e.addEventListener(h,c,!1):e.attachEvent&&e.attachEvent("on"+h,c))),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),a?d.splice(d.delegateCount++,0,u):d.push(u),he.event.global[h]=!0);e=null}},remove:function(e,t,n,r,a){var o,i,s,p,l,c,u,d,h,f,m,g=he.hasData(e)&&he._data(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(ze)||[""]).length;l--;)if(h=m=(s=tt.exec(t[l])||[])[1],f=(s[2]||"").split(".").sort(),h){for(u=he.event.special[h]||{},d=c[h=(r?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),p=o=d.length;o--;)i=d[o],!a&&m!==i.origType||n&&n.guid!==i.guid||s&&!s.test(i.namespace)||r&&r!==i.selector&&("**"!==r||!i.selector)||(d.splice(o,1),i.selector&&d.delegateCount--,u.remove&&u.remove.call(e,i));p&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||he.removeEvent(e,h,g.handle),delete c[h])}else for(h in c)he.event.remove(e,h+t[l],n,r,!0);he.isEmptyObject(c)&&(delete g.handle,he._removeData(e,"events"))}},trigger:function(t,n,r,a){var o,i,s,p,l,c,u,d=[r||re],h=ce.call(t,"type")?t.type:t,f=ce.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||re,3!==r.nodeType&&8!==r.nodeType&&!et.test(h+he.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),i=h.indexOf(":")<0&&"on"+h,(t=t[he.expando]?t:new he.Event(h,"object"==typeof t&&t)).isTrigger=a?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:he.makeArray(n,[t]),l=he.event.special[h]||{},a||!l.trigger||!1!==l.trigger.apply(r,n))){if(!a&&!l.noBubble&&!he.isWindow(r)){for(p=l.delegateType||h,et.test(p+h)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(r.ownerDocument||re)&&d.push(c.defaultView||c.parentWindow||e)}for(u=0;(s=d[u++])&&!t.isPropagationStopped();)t.type=u>1?p:l.bindType||h,(o=(he._data(s,"events")||{})[t.type]&&he._data(s,"handle"))&&o.apply(s,n),(o=i&&s[i])&&o.apply&&Ae(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=h,!a&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),n))&&Ae(r)&&i&&r[h]&&!he.isWindow(r)){(c=r[i])&&(r[i]=null),he.event.triggered=h;try{r[h]()}catch(e){}he.event.triggered=void 0,c&&(r[i]=c)}return t.result}},dispatch:function(e){e=he.event.fix(e);var t,n,r,a,o,i=[],s=ae.call(arguments),p=(he._data(this,"events")||{})[e.type]||[],l=he.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(i=he.event.handlers.call(this,e,p),t=0;(a=i[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(o=a.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((he.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,a,o,i=[],s=t.delegateCount,p=e.target;if(s&&p.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;p!=this;p=p.parentNode||this)if(1===p.nodeType&&(!0!==p.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[a=(o=t[n]).selector+" "]&&(r[a]=o.needsContext?he(a,this).index(p)>-1:he.find(a,this,null,[p]).length),r[a]&&r.push(o);r.length&&i.push({elem:p,handlers:r})}return s<t.length&&i.push({elem:this,handlers:t.slice(s)}),i},fix:function(e){if(e[he.expando])return e;var t,n,r,a=e.type,o=e,i=this.fixHooks[a];for(i||(this.fixHooks[a]=i=Ze.test(a)?this.mouseHooks:Je.test(a)?this.keyHooks:{}),r=i.props?this.props.concat(i.props):this.props,e=new he.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,a,o=t.button,i=t.fromElement;return null==e.pageX&&null!=t.clientX&&(a=(r=e.target.ownerDocument||re).documentElement,n=r.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&i&&(e.relatedTarget=i===e.target?t.toElement:i),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(he.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},
he.removeEvent=re.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},he.Event=function(e,t){if(!(this instanceof he.Event))return new he.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?y:b):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),this[he.expando]=!0},he.Event.prototype={constructor:he.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,a=e.relatedTarget,o=e.handleObj;return a&&(a===r||he.contains(r,a))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),ue.submit||(he.event.special.submit={setup:function(){if(he.nodeName(this,"form"))return!1;he.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=he.nodeName(t,"input")||he.nodeName(t,"button")?he.prop(t,"form"):void 0;n&&!he._data(n,"submit")&&(he.event.add(n,"submit._submit",(function(e){e._submitBubble=!0})),he._data(n,"submit",!0))}))},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&he.event.simulate("submit",this.parentNode,e))},teardown:function(){if(he.nodeName(this,"form"))return!1;he.event.remove(this,"._submit")}}),ue.change||(he.event.special.change={setup:function(){if(Xe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(he.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)})),he.event.add(this,"click._change",(function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),he.event.simulate("change",this,e)}))),!1;he.event.add(this,"beforeactivate._change",(function(e){var t=e.target;Xe.test(t.nodeName)&&!he._data(t,"change")&&(he.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||he.event.simulate("change",this.parentNode,e)})),he._data(t,"change",!0))}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return he.event.remove(this,"._change"),!Xe.test(this.nodeName)}}),ue.focusin||he.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var r=this.ownerDocument||this,a=he._data(r,t);a||r.addEventListener(e,n,!0),he._data(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this,a=he._data(r,t)-1;a?he._data(r,t,a):(r.removeEventListener(e,n,!0),he._removeData(r,t))}}})),he.fn.extend({on:function(e,t,n,r){return x(this,e,t,n,r)},one:function(e,t,n,r){return x(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=b),this.each((function(){he.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){he.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)}});var nt=/ jQuery\d+="(?:null|\d+)"/g,rt=new RegExp("<(?:"+Ge+")[\\s/>]","i"),at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ot=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,lt=h(re).appendChild(re.createElement("div"));he.extend({htmlPrefilter:function(e){return e.replace(at,"<$1></$2>")},clone:function(e,t,n){var r,a,o,i,s,p=he.contains(e.ownerDocument,e);if(ue.html5Clone||he.isXMLDoc(e)||!rt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(o=lt.firstChild)),!(ue.noCloneEvent&&ue.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(r=f(o),s=f(e),i=0;null!=(a=s[i]);++i)r[i]&&S(a,r[i]);if(t)if(n)for(s=s||f(e),r=r||f(o),i=0;null!=(a=s[i]);i++)T(a,r[i]);else T(e,o);return(r=f(o,"script")).length>0&&m(r,!p&&f(e,"script")),r=s=a=null,o},cleanData:function(e,t){for(var n,r,a,o,i=0,s=he.expando,p=he.cache,l=ue.attributes,c=he.event.special;null!=(n=e[i]);i++)if((t||Ae(n))&&(o=(a=n[s])&&p[a])){if(o.events)for(r in o.events)c[r]?he.event.remove(n,r):he.removeEvent(n,r,o.handle);p[a]&&(delete p[a],l||void 0===n.removeAttribute?n[s]=void 0:n.removeAttribute(s),ne.push(a))}}}),he.fn.extend({domManip:R,detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return qe(this,(function(e){return void 0===e?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))}),null,e,arguments.length)},append:function(){return R(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,e).appendChild(e)}))},prepend:function(){return R(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return R(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return R(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&he.cleanData(f(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&he.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return he.clone(this,e,t)}))},html:function(e){return qe(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(nt,""):void 0;if("string"==typeof e&&!ot.test(e)&&(ue.htmlSerialize||!rt.test(e))&&(ue.leadingWhitespace||!$e.test(e))&&!Ke[(He.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(he.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return R(this,arguments,(function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(f(this)),n&&n.replaceChild(t,this))}),e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){he.fn[e]=function(e){for(var n,r=0,a=[],o=he(e),i=o.length-1;r<=i;r++)n=r===i?this:this.clone(!0),he(o[r])[t](n),ie.apply(a,n.get());return this.pushStack(a)}}));var ct,ut={HTML:"block",BODY:"block"},dt=/^margin/,ht=new RegExp("^("+Le+")(?!px)[a-z%]+$","i"),ft=function(e,t,n,r){var a,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in a=n.apply(e,r||[]),t)e.style[o]=i[o];return a},mt=re.documentElement;!function(){function t(){var t,c,u=re.documentElement;u.appendChild(p),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=a=s=!1,r=i=!0,e.getComputedStyle&&(c=e.getComputedStyle(l),n="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,a="4px"===(c||{width:"4px"}).width,l.style.marginRight="50%",r="4px"===(c||{marginRight:"4px"}).marginRight,(t=l.appendChild(re.createElement("div"))).style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",i=!parseFloat((e.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",(o=0===l.getClientRects().length)&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l.childNodes[0].style.borderCollapse="separate",(t=l.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),u.removeChild(p)}var n,r,a,o,i,s,p=re.createElement("div"),l=re.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",ue.opacity="0.5"===l.style.opacity,ue.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===l.style.backgroundClip,(p=re.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",p.appendChild(l),ue.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,he.extend(ue,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),a},pixelMarginRight:function(){return null==n&&t(),r},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),i},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var gt,vt,yt=/^(top|right|bottom|left)$/;e.getComputedStyle?(gt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},vt=function(e,t,n){var r,a,o,i,s=e.style;return""!==(i=(n=n||gt(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==i||he.contains(e.ownerDocument,e)||(i=he.style(e,t)),n&&!ue.pixelMarginRight()&&ht.test(i)&&dt.test(t)&&(r=s.width,a=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=i,i=n.width,s.width=r,s.minWidth=a,s.maxWidth=o),void 0===i?i:i+""}):mt.currentStyle&&(gt=function(e){return e.currentStyle},vt=function(e,t,n){var r,a,o,i,s=e.style;return null==(i=(n=n||gt(e))?n[t]:void 0)&&s&&s[t]&&(i=s[t]),ht.test(i)&&!yt.test(t)&&(r=s.left,(o=(a=e.runtimeStyle)&&a.left)&&(a.left=e.currentStyle.left),s.left="fontSize"===t?"1em":i,i=s.pixelLeft+"px",s.left=r,o&&(a.left=o)),void 0===i?i:i+""||"auto"});var bt=/alpha\([^)]*\)/i,Ct=/opacity\s*=\s*([^)]*)/i,xt=/^(none|table(?!-c[ea]).+)/,wt=new RegExp("^("+Le+")(.*)$","i"),Et={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",fontWeight:"400"},Tt=["Webkit","O","Moz","ms"],St=re.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=vt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ue.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,i,s=he.camelCase(t),p=e.style;if(t=he.cssProps[s]||(he.cssProps[s]=A(s)||s),i=he.cssHooks[t]||he.cssHooks[s],void 0===n)return i&&"get"in i&&void 0!==(a=i.get(e,!1,r))?a:p[t];if(!("string"===(o=typeof n)&&(a=Ue.exec(n))&&a[1]&&(n=d(e,t,a),o="number"),null==n||n!=n||("number"===o&&(n+=a&&a[3]||(he.cssNumber[s]?"":"px")),ue.clearCloneStyle||""!==n||0!==t.indexOf("background")||(p[t]="inherit"),i&&"set"in i&&void 0===(n=i.set(e,n,r)))))try{p[t]=n}catch(e){}}},css:function(e,t,n,r){var a,o,i,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=A(s)||s),(i=he.cssHooks[t]||he.cssHooks[s])&&"get"in i&&(o=i.get(e,!0,n)),void 0===o&&(o=vt(e,t,r)),"normal"===o&&t in _t&&(o=_t[t]),""===n||n?(a=parseFloat(o),!0===n||isFinite(a)?a||0:o):o}}),he.each(["height","width"],(function(e,t){he.cssHooks[t]={get:function(e,n,r){if(n)return xt.test(he.css(e,"display"))&&0===e.offsetWidth?ft(e,Et,(function(){return M(e,t,r)})):M(e,t,r)},set:function(e,n,r){var a=r&&gt(e);return P(e,n,r?D(e,t,r,ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,a),a):0)}}})),ue.opacity||(he.cssHooks.opacity={get:function(e,t){return Ct.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,a=he.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===he.trim(o.replace(bt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=bt.test(o)?o.replace(bt,a):o+" "+a)}}),he.cssHooks.marginRight=O(ue.reliableMarginRight,(function(e,t){if(t)return ft(e,{display:"inline-block"},vt,[e,"marginRight"])})),he.cssHooks.marginLeft=O(ue.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(vt(e,"marginLeft"))||(he.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ft(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})):0))+"px"})),he.each({margin:"",padding:"",border:"Width"},(function(e,t){he.cssHooks[e+t]={expand:function(n){for(var r=0,a={},o="string"==typeof n?n.split(" "):[n];r<4;r++)a[e+Fe[r]+t]=o[r]||o[r-2]||o[0];return a}},dt.test(e)||(he.cssHooks[e+t].set=P)})),he.fn.extend({css:function(e,t){return qe(this,(function(e,t,n){var r,a,o={},i=0;if(he.isArray(t)){for(r=gt(e),a=t.length;i<a;i++)o[t[i]]=he.css(e,t[i],!1,r);return o}return void 0!==n?he.style(e,t,n):he.css(e,t)}),e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Be(this)?he(this).show():he(this).hide()}))}}),he.Tween=j,j.prototype={constructor:j,init:function(e,t,n,r,a,o){this.elem=e,this.prop=n,this.easing=a||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=j.prototype.init,he.fx.step={};var Rt,Nt,kt=/^(?:toggle|show|hide)$/,zt=/queueHooks$/;he.Animation=he.extend(V,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return d(n.elem,e,Ue.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(ze);for(var n,r=0,a=e.length;r<a;r++)n=e[r],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),he.speed=function(e,t,n){var r=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return r.duration=he.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=he.isEmptyObject(e),o=he.speed(t,n,r),i=function(){var t=V(this,he.extend({},e),o);(a||he._data(this,"finish"))&&t.stop(!0)};return i.finish=i,a||!1===o.queue?this.each(i):this.queue(o.queue,i)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,a=null!=e&&e+"queueHooks",o=he.timers,i=he._data(this);if(a)i[a]&&i[a].stop&&r(i[a]);else for(a in i)i[a]&&i[a].stop&&zt.test(a)&&r(i[a]);for(a=o.length;a--;)o[a].elem!==this||null!=e&&o[a].queue!==e||(o[a].anim.stop(n),t=!1,o.splice(a,1));!t&&n||he.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=he._data(this),r=n[e+"queue"],a=n[e+"queueHooks"],o=he.timers,i=r?r.length:0;for(n.finish=!0,he.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<i;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),he.each(["toggle","show","hide"],(function(e,t){var n=he.fn[t];he.fn[t]=function(e,r,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(U(t,!0),e,r,a)}})),he.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){he.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),he.timers=[],he.fx.tick=function(){var e,t=he.timers,n=0;for(Rt=he.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||he.fx.stop(),Rt=void 0},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){Nt||(Nt=e.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){e.clearInterval(Nt),Nt=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx&&he.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var a=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(a)}}))},function(){var e,t=re.createElement("input"),n=re.createElement("div"),r=re.createElement("select"),a=r.appendChild(re.createElement("option"));(n=re.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),(e=n.getElementsByTagName("a")[0]).style.cssText="top:1px",ue.getSetAttribute="t"!==n.className,ue.style=/top/.test(e.getAttribute("style")),ue.hrefNormalized="/a"===e.getAttribute("href"),ue.checkOn=!!t.value,ue.optSelected=a.selected,ue.enctype=!!re.createElement("form").enctype,r.disabled=!0,ue.optDisabled=!a.disabled,(t=re.createElement("input")).setAttribute("value",""),ue.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ue.radioValue="t"===t.value}();var Ot=/\r/g,At=/[\x20\t\r\n\f]+/g;he.fn.extend({val:function(e){var t,n,r,a=this[0];return arguments.length?(r=he.isFunction(e),this.each((function(n){var a;1===this.nodeType&&(null==(a=r?e.call(this,n,he(this).val()):e)?a="":"number"==typeof a?a+="":he.isArray(a)&&(a=he.map(a,(function(e){return null==e?"":e+""}))),(t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))}))):a?(t=he.valHooks[a.type]||he.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:"string"==typeof(n=a.value)?n.replace(Ot,""):null==n?"":n:void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:he.trim(he.text(e)).replace(At," ")}},select:{get:function(e){for(var t,n,r=e.options,a=e.selectedIndex,o="select-one"===e.type||a<0,i=o?null:[],s=o?a+1:r.length,p=a<0?s:o?a:0;p<s;p++)if(((n=r[p]).selected||p===a)&&(ue.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),o)return t;i.push(t)}return i},set:function(e,t){for(var n,r,a=e.options,o=he.makeArray(t),i=a.length;i--;)if(r=a[i],he.inArray(he.valHooks.option.get(r),o)>-1)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),a}}}}),he.each(["radio","checkbox"],(function(){he.valHooks[this]={set:function(e,t){if(he.isArray(t))return e.checked=he.inArray(he(e).val(),t)>-1}},ue.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var It,Pt,Dt=he.expr.attrHandle,Mt=/^(?:checked|selected)$/i,jt=ue.getSetAttribute,Lt=ue.input;he.fn.extend({attr:function(e,t){return qe(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){he.removeAttr(this,e)}))}}),he.extend({attr:function(e,t,n){var r,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(t=t.toLowerCase(),a=he.attrHooks[t]||(he.expr.match.bool.test(t)?Pt:It)),void 0!==n?null===n?void he.removeAttr(e,t):a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(r=a.get(e,t))?r:null==(r=he.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!ue.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,a=0,o=t&&t.match(ze);if(o&&1===e.nodeType)for(;n=o[a++];)r=he.propFix[n]||n,he.expr.match.bool.test(n)?Lt&&jt||!Mt.test(n)?e[r]=!1:e[he.camelCase("default-"+n)]=e[r]=!1:he.attr(e,n,""),e.removeAttribute(jt?n:r)}}),Pt={set:function(e,t,n){return!1===t?he.removeAttr(e,n):Lt&&jt||!Mt.test(n)?e.setAttribute(!jt&&he.propFix[n]||n,n):e[he.camelCase("default-"+n)]=e[n]=!0,n}},he.each(he.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Dt[t]||he.find.attr;Lt&&jt||!Mt.test(t)?Dt[t]=function(e,t,r){var a,o;return r||(o=Dt[t],Dt[t]=a,a=null!=n(e,t,r)?t.toLowerCase():null,Dt[t]=o),a}:Dt[t]=function(e,t,n){if(!n)return e[he.camelCase("default-"+t)]?t.toLowerCase():null}})),Lt&&jt||(he.attrHooks.value={set:function(e,t,n){if(!he.nodeName(e,"input"))return It&&It.set(e,t,n);e.defaultValue=t}}),jt||(It={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Dt.id=Dt.name=Dt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},he.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:It.set},he.attrHooks.contenteditable={set:function(e,t,n){It.set(e,""!==t&&t,n)}},he.each(["width","height"],(function(e,t){he.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}}))),ue.style||(he.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ut=/^(?:input|select|textarea|button|object)$/i,Ft=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return qe(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return e=he.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(e){}}))}}),he.extend({prop:function(e,t,n){var r,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,a=he.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:e[t]=n:a&&"get"in a&&null!==(r=a.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):Ut.test(e.nodeName)||Ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ue.hrefNormalized||he.each(["href","src"],(function(e,t){he.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),ue.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){he.propFix[this.toLowerCase()]=this})),ue.enctype||(he.propFix.enctype="encoding");var Bt=/[\t\r\n\f]/g;he.fn.extend({addClass:function(e){var t,n,r,a,o,i,s,p=0;if(he.isFunction(e))return this.each((function(t){he(this).addClass(e.call(this,t,H(this)))}));if("string"==typeof e&&e)for(t=e.match(ze)||[];n=this[p++];)if(a=H(n),r=1===n.nodeType&&(" "+a+" ").replace(Bt," ")){for(i=0;o=t[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a!==(s=he.trim(r))&&he.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,a,o,i,s,p=0;if(he.isFunction(e))return this.each((function(t){he(this).removeClass(e.call(this,t,H(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(ze)||[];n=this[p++];)if(a=H(n),r=1===n.nodeType&&(" "+a+" ").replace(Bt," ")){for(i=0;o=t[i++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a!==(s=he.trim(r))&&he.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):he.isFunction(e)?this.each((function(n){he(this).toggleClass(e.call(this,n,H(this),t),t)})):this.each((function(){var t,r,a,o;if("string"===n)for(r=0,a=he(this),o=e.match(ze)||[];t=o[r++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||((t=H(this))&&he._data(this,"__className__",t),he.attr(this,"class",t||!1===e?"":he._data(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(Bt," ").indexOf(t)>-1)return!0;return!1}}),he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var qt=e.location,Vt=he.now(),Ht=/\?/,Wt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;he.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,a=he.trim(t+"");return a&&!he.trim(a.replace(Wt,(function(e,t,a,o){return n&&t&&(r=0),0===r?e:(n=a||t,r+=!o-!a,"")})))?Function("return "+a)():he.error("Invalid JSON: "+t)},he.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(new e.DOMParser).parseFromString(t,"text/xml"):((n=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+t),n};var $t=/#.*$/,Gt=/([?&])_=[^&]*/,Kt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Yt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qt=/^(?:GET|HEAD)$/,Xt=/^\/\//,Jt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Zt={},en={},tn="*/".concat("*"),nn=qt.href,rn=Jt.exec(nn.toLowerCase())||[];he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:nn,type:"GET",isLocal:Yt.test(rn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?G(G(e,he.ajaxSettings),t):G(he.ajaxSettings,e)},ajaxPrefilter:W(Zt),ajaxTransport:W(en),ajax:function(t,n){function r(t,n,r,a){var o,u,y,b,x,E=n;2!==C&&(C=2,p&&e.clearTimeout(p),c=void 0,s=a||"",w.readyState=t>0?4:0,o=t>=200&&t<300||304===t,r&&(b=K(d,w,r)),b=Y(d,b,w,o),o?(d.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(he.lastModified[i]=x),(x=w.getResponseHeader("etag"))&&(he.etag[i]=x)),204===t||"HEAD"===d.type?E="nocontent":304===t?E="notmodified":(E=b.state,u=b.data,o=!(y=b.error))):(y=E,!t&&E||(E="error",t<0&&(t=0))),w.status=t,w.statusText=(n||E)+"",o?m.resolveWith(h,[u,E,w]):m.rejectWith(h,[w,E,y]),w.statusCode(v),v=void 0,l&&f.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?u:y]),g.fireWith(h,[w,E]),l&&(f.trigger("ajaxComplete",[w,d]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var a,o,i,s,p,l,c,u,d=he.ajaxSetup({},n),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?he(h):he.event,m=he.Deferred(),g=he.Callbacks("once memory"),v=d.statusCode||{},y={},b={},C=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!u)for(u={};t=Kt.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return C||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(C<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return c&&c.abort(t),r(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||nn)+"").replace($t,"").replace(Xt,rn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=he.trim(d.dataType||"*").toLowerCase().match(ze)||[""],null==d.crossDomain&&(a=Jt.exec(d.url.toLowerCase()),d.crossDomain=!(!a||a[1]===rn[1]&&a[2]===rn[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(rn[3]||("http:"===rn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=he.param(d.data,d.traditional)),$(Zt,d,n,w),2===C)return w;for(o in(l=he.event&&d.global)&&0==he.active++&&he.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Qt.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(Ht.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Gt.test(i)?i.replace(Gt,"$1_="+Vt++):i+(Ht.test(i)?"&":"?")+"_="+Vt++)),d.ifModified&&(he.lastModified[i]&&w.setRequestHeader("If-Modified-Since",he.lastModified[i]),he.etag[i]&&w.setRequestHeader("If-None-Match",he.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+tn+"; q=0.01":""):d.accepts["*"]),d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(!1===d.beforeSend.call(h,w,d)||2===C))return w.abort();for(o in x="abort",{success:1,error:1,complete:1})w[o](d[o]);if(c=$(en,d,n,w)){if(w.readyState=1,l&&f.trigger("ajaxSend",[w,d]),2===C)return w;d.async&&d.timeout>0&&(p=e.setTimeout((function(){w.abort("timeout")}),d.timeout));try{C=1,c.send(y,r)}catch(e){if(!(C<2))throw e;r(-1,e)}}else r(-1,"No Transport");return w},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,void 0,t,"script")}}),he.each(["get","post"],(function(e,t){he[t]=function(e,n,r,a){return he.isFunction(n)&&(a=a||r,r=n,n=void 0),he.ajax(he.extend({url:e,type:t,dataType:a,data:n,success:r},he.isPlainObject(e)&&e))}})),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},he.fn.extend({wrapAll:function(e){if(he.isFunction(e))return this.each((function(t){he(this).wrapAll(e.call(this,t))}));if(this[0]){var t=he(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return he.isFunction(e)?this.each((function(t){he(this).wrapInner(e.call(this,t))})):this.each((function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=he.isFunction(e);return this.each((function(n){he(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)})).end()}}),he.expr.filters.hidden=function(e){return ue.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:X(e)},he.expr.filters.visible=function(e){return!he.expr.filters.hidden(e)}
;var an=/%20/g,on=/\[\]$/,sn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,ln=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,r=[],a=function(e,t){t=he.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,(function(){a(this.name,this.value)}));else for(n in e)J(n,e[n],t,a);return r.join("&").replace(an,"+")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&ln.test(this.nodeName)&&!pn.test(e)&&(this.checked||!Ve.test(e))})).map((function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,(function(e){return{name:t.name,value:e.replace(sn,"\r\n")}})):{name:t.name,value:n.replace(sn,"\r\n")}})).get()}}),he.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():re.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var cn=0,un={},dn=he.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onpagehide",(function(){for(var e in un)un[e](void 0,!0)})),ue.cors=!!dn&&"withCredentials"in dn,(dn=ue.ajax=!!dn)&&he.ajaxTransport((function(t){var n;if(!t.crossDomain||ue.cors)return{send:function(r,a){var o,i=t.xhr(),s=++cn;if(i.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)i[o]=t.xhrFields[o];for(o in t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)void 0!==r[o]&&i.setRequestHeader(o,r[o]+"");i.send(t.hasContent&&t.data||null),n=function(e,r){var o,p,l;if(n&&(r||4===i.readyState))if(delete un[s],n=void 0,i.onreadystatechange=he.noop,r)4!==i.readyState&&i.abort();else{l={},o=i.status,"string"==typeof i.responseText&&(l.text=i.responseText);try{p=i.statusText}catch(e){p=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&a(o,p,l,i.getAllResponseHeaders())},t.async?4===i.readyState?e.setTimeout(n):i.onreadystatechange=un[s]=n:n()},abort:function(){n&&n(void 0,!0)}}})),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),he.ajaxTransport("script",(function(e){if(e.crossDomain){var t,n=re.head||he("head")[0]||re.documentElement;return{send:function(r,a){(t=re.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||a(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}));var hn=[],fn=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||he.expando+"_"+Vt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",(function(t,n,r){var a,o,i,s=!1!==t.jsonp&&(fn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&fn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(fn,"$1"+a):!1!==t.jsonp&&(t.url+=(Ht.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return i||he.error(a+" was not called"),i[0]},t.dataTypes[0]="json",o=e[a],e[a]=function(){i=arguments},r.always((function(){void 0===o?he(e).removeProp(a):e[a]=o,t[a]&&(t.jsonpCallback=n.jsonpCallback,hn.push(a)),i&&he.isFunction(o)&&o(i[0]),i=o=void 0})),"script"})),he.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var r=we.exec(e),a=!n&&[];return r?[t.createElement(r[1])]:(r=v([e],t,a),a&&a.length&&he(a).remove(),he.merge([],r.childNodes))};var mn=he.fn.load;he.fn.load=function(e,t,n){if("string"!=typeof e&&mn)return mn.apply(this,arguments);var r,a,o,i=this,s=e.indexOf(" ");return s>-1&&(r=he.trim(e.slice(s,e.length)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),i.length>0&&he.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done((function(e){o=arguments,i.html(r?he("<div>").append(he.parseHTML(e)).find(r):e)})).always(n&&function(e,t){i.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){he.fn[t]=function(e){return this.on(t,e)}})),he.expr.filters.animated=function(e){return he.grep(he.timers,(function(t){return e===t.elem})).length},he.offset={setOffset:function(e,t,n){var r,a,o,i,s,p,l=he.css(e,"position"),c=he(e),u={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=he.css(e,"top"),p=he.css(e,"left"),("absolute"===l||"fixed"===l)&&he.inArray("auto",[o,p])>-1?(i=(r=c.position()).top,a=r.left):(i=parseFloat(o)||0,a=parseFloat(p)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(u.top=t.top-s.top+i),null!=t.left&&(u.left=t.left-s.left+a),"using"in t?t.using.call(e,u):c.css(u)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){he.offset.setOffset(this,e,t)}));var t,n,r={top:0,left:0},a=this[0],o=a&&a.ownerDocument;return o?(t=o.documentElement,he.contains(t,a)?(void 0!==a.getBoundingClientRect&&(r=a.getBoundingClientRect()),n=te(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===he.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(n=e.offset()),n.top+=he.css(e[0],"borderTopWidth",!0),n.left+=he.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-he.css(r,"marginTop",!0),left:t.left-n.left-he.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&!he.nodeName(e,"html")&&"static"===he.css(e,"position");)e=e.offsetParent;return e||mt}))}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);he.fn[e]=function(r){return qe(this,(function(e,r,a){var o=te(e);if(void 0===a)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?he(o).scrollLeft():a,n?a:he(o).scrollTop()):e[r]=a}),e,r,arguments.length,null)}})),he.each(["top","left"],(function(e,t){he.cssHooks[t]=O(ue.pixelPosition,(function(e,n){if(n)return n=vt(e,t),ht.test(n)?he(e).position()[t]+"px":n}))})),he.each({Height:"height",Width:"width"},(function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){he.fn[r]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),i=n||(!0===r||!0===a?"margin":"border");return qe(this,(function(t,n,r){var a;return he.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===r?he.css(t,n,i):he.style(t,n,r,i)}),t,o?r:void 0,o,null)}}))})),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return he}));var gn=e.jQuery,vn=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=vn),t&&e.jQuery===he&&(e.jQuery=gn),he},t||(e.jQuery=e.$=he),he})),function(e){var t,n,r,a,o=1,i=this,s=!1,p="postMessage",l="addEventListener",c=i[p];e[p]=function(t,n,r){n&&(t="string"==typeof t?t:e.param(t),r=r||parent,c?r[p](t,n.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):n&&(r.location=n.replace(/#.*$/,"")+"#"+ +new Date+o+++"&"+t))},e.receiveMessage=a=function(o,p,u){c?(o&&(r&&a(),r=function(t){if("string"==typeof p&&t.origin!==p||e.isFunction(p)&&p(t.origin)===s)return s;o(t)}),i[l]?i[o?l:"removeEventListener"]("message",r,s):i[o?"attachEvent":"detachEvent"]("onmessage",r)):(t&&clearInterval(t),t=null,o&&(u="number"==typeof p?p:"number"==typeof u?u:100,t=setInterval((function(){var e=document.location.hash,t=/^#?\d+&/;e!==n&&t.test(e)&&(n=e,o({data:e.replace(t,"")}))}),u)))}}(jQuery),function(e,t){var n,r=e.jQuery||e.Cowboy||(e.Cowboy={});r.throttle=n=function(e,n,a,o){function i(){function r(){p=+new Date,a.apply(l,u)}function i(){s=t}var l=this,c=+new Date-p,u=arguments;o&&!s&&r(),s&&clearTimeout(s),o===t&&c>e?r():!0!==n&&(s=setTimeout(o?i:r,o===t?e-c:e))}var s,p=0;return"boolean"!=typeof n&&(o=a,a=n,n=t),r.guid&&(i.guid=a.guid=a.guid||r.guid++),i},r.debounce=function(e,r,a){return a===t?n(e,r,!1):n(e,a,!1!==r)}}(this),function(e){if(!e.support.cors&&window.XDomainRequest){var t=/^https?:\/\//i,n=/^get|post$/i,r=new RegExp("^"+location.protocol,"i"),a=/\/xml/i;e.ajaxTransport("text html xml json",(function(e,o){if(e.crossDomain&&e.async&&n.test(e.type)&&t.test(e.url)&&r.test(e.url)){var i=null,s=(o.dataType||"").toLowerCase();return{send:function(t,n){i=new XDomainRequest,/^\d+$/.test(o.timeout)&&(i.timeout=o.timeout),i.ontimeout=function(){n(500,"timeout")},i.onload=function(){var e="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,t={code:200,message:"success"},r={text:i.responseText};try{if("json"===s)try{r.json=JSON.parse(i.responseText)}catch(e){t.code=500,t.message="parseerror"}else if("xml"===s||"text"!==s&&a.test(i.contentType)){var o=new ActiveXObject("Microsoft.XMLDOM");o.async=!1;try{o.loadXML(i.responseText)}catch(e){o=void 0}if(!o||!o.documentElement||o.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+i.responseText;r.xml=o}}catch(e){throw e}finally{n(t.code,t.message,r,e)}},i.onerror=function(){n(500,"error",{text:i.responseText})},i.open(e.type,e.url),i.send(o.data)},abort:function(){i&&i.abort()}}}}))}}(jQuery),function(e){e.deparam=function(t,n){var r={},a={true:!0,false:!1,null:null};return e.each(t.replace(/\+/g," ").split("&"),(function(t,o){var i,s=o.split("="),p=decodeURIComponent(s[0]),l=r,c=0,u=p.split("]["),d=u.length-1;if(/\[/.test(u[0])&&/\]$/.test(u[d])?(u[d]=u[d].replace(/\]$/,""),d=(u=u.shift().split("[").concat(u)).length-1):d=0,2===s.length)if(i=decodeURIComponent(s[1]),n&&(i=i&&!isNaN(i)?+i:"undefined"===i?void 0:void 0!==a[i]?a[i]:i),d)for(;c<=d;c++)l=l[p=""===u[c]?l.length:u[c]]=c<d?l[p]||(u[c+1]&&isNaN(u[c+1])?{}:[]):i;else e.isArray(r[p])?r[p].push(i):void 0!==r[p]?r[p]=[r[p],i]:r[p]=i;else p&&(r[p]=n?void 0:"")})),r}}(jQuery),jQuery.namespace=function(e){for(var t=window,n=e.split("."),r=0;r<n.length;r++)void 0===t[n[r]]&&(t[n[r]]=new Object),t=t[n[r]];return t},function(){var e;window.supports_localstorage=function(){if(void 0!==e)return e;try{localStorage.setItem("RMZ","RMZ"),localStorage.removeItem("RMZ"),e=!0}catch(t){e=!1}return e}}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"!=typeof require?e(require("jquery")):e(jQuery)}((function(e){var t,n=0,r=Array.prototype.slice;e.cleanData=(t=e.cleanData,function(n){var r,a,o;for(o=0;null!=(a=n[o]);o++)try{(r=e._data(a,"events"))&&r.remove&&e(a).triggerHandler("remove")}catch(e){}t(n)}),e.widget=function(t,n,r){var a,o,i,s,p={},l=t.split(".")[0];return t=t.split(".")[1],a=l+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[l]=e[l]||{},o=e[l][t],i=e[l][t]=function(e,t){if(!this._createWidget)return new i(e,t);arguments.length&&this._createWidget(e,t)},e.extend(i,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(r,(function(t,r){var a,o;e.isFunction(r)?p[t]=(a=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=a,this._superApply=o,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}):p[t]=r})),i.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},p,{constructor:i,namespace:l,widgetName:t,widgetFullName:a}),o?(e.each(o._childConstructors,(function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,i,n._proto)})),delete o._childConstructors):n._childConstructors.push(i),e.widget.bridge(t,i),i},e.widget.extend=function(t){for(var n,a,o=r.call(arguments,1),i=0,s=o.length;i<s;i++)for(n in o[i])a=o[i][n],o[i].hasOwnProperty(n)&&void 0!==a&&(e.isPlainObject(a)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],a):e.widget.extend({},a):t[n]=a);return t},e.widget.bridge=function(t,n){var a=n.prototype.widgetFullName||t;e.fn[t]=function(o){var i="string"==typeof o,s=r.call(arguments,1),p=this;return i?this.each((function(){var n,r=e.data(this,a);return"instance"===o?(p=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s))!==r&&void 0!==n?(p=n&&n.jquery?p.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")})):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each((function(){var t=e.data(this,a);t?(t.option(o||{}),t._init&&t._init()):e.data(this,a,new n(o,this))}))),p}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,a,o,i=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(i={},r=t.split("."),t=r.shift(),r.length){for(a=i[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)a[r[o]]=a[r[o]]||{},a=a[r[o]];if(t=r.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];i[t]=n}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var a,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=a=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,a=this.widget()),e.each(r,(function(r,i){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof i?o[i]:i).apply(o,arguments)}"string"!=typeof i&&(s.guid=i.guid=i.guid||s.guid||e.guid++);var p=r.match(/^([\w:-]*)\s*(.*)$/),l=p[1]+o.eventNamespace,c=p[2];c?a.delegate(c,l,s):n.bind(l,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var a,o,i=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(a in o)a in n||(n[a]=o[a]);return this.element.trigger(n,r),!(e.isFunction(i)&&!1===i.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(r,a,o){"string"==typeof a&&(a={effect:a});var i,s=a?!0===a||"number"==typeof a?n:a.effect||n:t;"number"==typeof(a=a||{})&&(a={duration:a}),i=!e.isEmptyObject(a),a.complete=o,a.delay&&r.delay(a.delay),i&&e.effects&&e.effects.effect[s]?r[t](a):s!==t&&r[s]?r[s](a.duration,a.easing,o):r.queue((function(n){e(this)[t](),o&&o.call(r[0]),n()}))}}));e.widget})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}((function(e){"use strict";function t(t){var n="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var a=r.dataTransfer;a&&-1!==e.inArray("Files",a.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:r}))&&(r.preventDefault(),n&&(a.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,(function(e,n){t=t.replace("{"+e+"}",n)})),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done((function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||r>n)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,(function(e,t){n.push({name:e,value:t})})),n):[]},_getTotal:function(t){var n=0;return e.each(t,(function(e,t){n+=t.size||1})),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r,a=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&a-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=a,r=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=r-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(a,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=r,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(a,r,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",(function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)})),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,r=this,a=t.files[0],o=t.multipart||!e.support.xhrFileUpload,i="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",a)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(a.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:i,value:t.blob}):e.each(t.files,(function(r,a){n.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||i,value:a})}))):(r._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),(function(e,t){n.append(t.name,t.value)}))),t.blob?n.append(i,t.blob,a.name):e.each(t.files,(function(a,o){(r._isInstanceOf("File",o)||r._isInstanceOf("Blob",o))&&n.append("array"===e.type(t.paramName)&&t.paramName[a]||i,o,o.uploadName||o.name)}))),t.data=n):(t.contentType=a.type||"application/octet-stream",t.data=t.blob||a),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each((function(){for(var t=e(this),n=t.prop("name")||"files[]",a=(t.prop("files")||[1]).length;a;)r.push(n),a-=1})),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var a=e.Deferred(),o=a.promise();return n=n||this.options.context||o,!0===t?a.resolveWith(n,r):!1===t&&a.rejectWith(n,r),o.abort=a.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var r=this,a=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||a([this])).then((function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():a(arguments)})).then(t,o)),this._processQueue||a([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r,a,o=this,i=t.files[0],s=i.size,p=t.uploadedBytes,l=t.maxChunkSize||s,c=this._blobSlice,u=e.Deferred(),d=u.promise();return!(!(this._isXHRUpload(t)&&c&&(p||l<s))||t.data)&&(!!n||(p>=s?(i.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",i.error])):(a=function(){var n=e.extend({},t),d=n._progress.loaded;n.blob=c.call(i,p,p+l,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+p+"-"+(p+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),r=(!1!==o._trigger("chunksend",null,n)&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done((function(r,i,l){p=o._getUploadedBytes(l)||p+n.chunkSize,d+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:p-n.uploadedBytes,total:p-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=p,n.result=r,n.textStatus=i,n.jqXHR=l,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),p<s?a():u.resolveWith(n.context,[r,i,l])})).fail((function(e,t,r){n.jqXHR=e,n.textStatus=t,n.errorThrown=r,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),u.rejectWith(n.context,[e,t,r])}))},this._enhancePromise(d),d.abort=function(){return r.abort()},a(),d)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,a){var o=a._progress.total,i=a._response;a._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),a),i.result=a.result=t,i.textStatus=a.textStatus=n,i.jqXHR=a.jqXHR=r,this._trigger("done",null,a)},_onFail:function(e,t,n,r){var a=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),a.jqXHR=r.jqXHR=e,a.textStatus=r.textStatus=t,a.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r,a,o,i,s=this,p=s._getAJAXSettings(n),l=function(){return s._sending+=1,p._bitrateTimer=new s._BitrateTimer,r=r||((a||!1===s._trigger("send",e.Event("send",{delegatedEvent:t}),p))&&s._getXHRPromise(!1,p.context,a)||s._chunkedUpload(p)||e.ajax(p)).done((function(e,t,n){s._onDone(e,t,n,p)})).fail((function(e,t,n){s._onFail(e,t,n,p)})).always((function(e,t,n){if(s._onAlways(e,t,n,p),s._sending-=1,s._active-=1,p.limitConcurrentUploads&&p.limitConcurrentUploads>s._sending)for(var r=s._slots.shift();r;){if("pending"===s._getDeferredState(r)){r.resolve();break}r=s._slots.shift()}0===s._active&&s._trigger("stop")}))};return this._beforeSend(t,p),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),i=o.then(l)):(this._sequence=this._sequence.then(l,l),i=this._sequence),i.abort=function(){return a=[void 0,"abort","abort"],r?r.abort():(o&&o.rejectWith(p.context,a),l())},this._enhancePromise(i)):l()},_onAdd:function(t,n){var r,a,o,i,s=this,p=!0,l=e.extend({},this.options,n),c=n.files,u=c.length,d=l.limitMultiFileUploads,h=l.limitMultiFileUploadSize,f=l.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(l),v=0;if(!u)return!1;if(h&&void 0===c[0].size&&(h=void 0),(l.singleFileUploads||d||h)&&this._isXHRUpload(l))if(l.singleFileUploads||h||!d)if(!l.singleFileUploads&&h)for(o=[],r=[],i=0;i<u;i+=1)m+=c[i].size+f,(i+1===u||m+c[i+1].size+f>h||d&&i+1-v>=d)&&(o.push(c.slice(v,i+1)),(a=g.slice(v,i+1)).length||(a=g),r.push(a),v=i+1,m=0);else r=g;else for(o=[],r=[],i=0;i<u;i+=d)o.push(c.slice(i,i+d)),(a=g.slice(i,i+d)).length||(a=g),r.push(a);else o=[c],r=[g];return n.originalFiles=c,e.each(o||c,(function(a,i){var l=e.extend({},n);return l.files=o?i:[i],l.paramName=r[a],s._initResponseObject(l),s._initProgressObject(l),s._addConvenienceMethods(t,l),p=s._trigger("add",e.Event("add",{delegatedEvent:t}),l)})),p},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0),a=n.is(document.activeElement);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),n.after(r).detach(),a&&r.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map((function(e,t){return t===n[0]?r[0]:t})),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var r,a=this,o=e.Deferred(),i=[],s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},p=function(e){a._handleFileTreeEntries(e,n+t.name+"/").done((function(e){o.resolve(e)})).fail(s)},l=function(){r.readEntries((function(e){e.length?(i=i.concat(e),l()):p(i)}),s)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file((function(e){e.relativePath=n,o.resolve(e)}),s):t.isDirectory?(r=t.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,(function(e){return r._handleFileTreeEntry(e,n)}))).then((function(){return Array.prototype.concat.apply([],arguments)}))},_getDroppedFiles:function(t){var n=(t=t||{}).items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,(function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()}))):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var n,r,a=(t=e(t)).prop("webkitEntries")||t.prop("entries");if(a&&a.length)return this._handleFileTreeEntries(a);if((n=e.makeArray(t.prop("files"))).length)void 0===n[0].name&&n[0].fileName&&e.each(n,(function(e,t){t.name=t.fileName,t.size=t.fileSize}));else{if(!(r=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then((function(){return Array.prototype.concat.apply([],arguments)})):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)}
;this._getFileInputFiles(r.fileInput).always((function(a){r.files=a,n.options.replaceFileInput&&n._replaceFileInput(r),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),r)&&n._onAdd(t,r)}))},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,(function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)})),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,a={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always((function(r){a.files=r,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),a)&&n._onAdd(t,a)})))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(t,n){var r=-1!==e.inArray(t,this._specialOptions);r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=this.element.data();e.each(this.element[0].attributes,(function(e,a){var o,i=a.name.toLowerCase();/^data-/.test(i)&&(i=i.slice(5).replace(/-[a-z]/g,(function(e){return e.charAt(1).toUpperCase()})),o=r[i],t._isRegExpOption(i,o)&&(o=t._getRegExp(o)),n[i]=o)}))},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always((function(e){t.files=e,n._onAdd(null,t)})):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,a=this,o=e.Deferred(),i=o.promise();return i.abort=function(){return r=!0,n?n.abort():(o.reject(null,"abort","abort"),i)},this._getFileInputFiles(t.fileInput).always((function(e){r||(e.length?(t.files=e,(n=a._onSend(null,t)).then((function(e,t,n){o.resolve(e,t,n)}),(function(e,t,n){o.reject(e,t,n)}))):o.reject())})),this._enhancePromise(i)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}((function(e){"use strict";var t=0,n=e,r="parseJSON";"JSON"in window&&"parse"in JSON&&(n=JSON,r="parse"),e.ajaxTransport("iframe",(function(n){if(n.async){var r,a,o,i=n.initialIframeSrc||"javascript:false;";return{send:function(s,p){(r=e('<form style="display:none;"></form>')).attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),a=e('<iframe src="'+i+'" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",(function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];a.unbind("load").bind("load",(function(){var t;try{if(!(t=a.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=void 0}p(200,"success",{iframe:t}),e('<iframe src="'+i+'"></iframe>').appendTo(r),window.setTimeout((function(){r.remove()}),0)})),r.prop("target",a.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,(function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(r)})),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after((function(e){return t[e]})),n.paramName&&n.fileInput.each((function(t){e(this).prop("name",o[t]||n.paramName)})),r.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),r.submit(),t&&t.length&&n.fileInput.each((function(n,r){var a=e(t[n]);e(r).prop("name",a.prop("name")).attr("form",a.attr("form")),a.replaceWith(r)}))})),r.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",i),r&&r.remove()}}}})),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&n[r](e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Socked=t():e.Socked=t()}(this,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2).extend,i=n(3),s=n(49),p=n(50);e.exports=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.appId=t,this.options=this.setOptions(n||{}),this._channels={},this._socket=i(this.options.url?this.options.url:"ws"+(this.options.ssl?"s":"")+"://"+this.options.host+"/"+this.appId,this.options),this.subscribeEvents(),this._emitter=new p,this.connected=!1,this.connecting=!1}return a(e,[{key:"setOptions",value:function(e){return o({host:"www.socked.io",path:"/app",ssl:!0,authUrl:"/authenticate",transports:["websocket"]},e)}},{key:"subscribeEvents",value:function(){var e=this;this._socket.on("msg",(function(t){t.channel&&e.channel(t.channel)&&e.channel(t.channel).handleEvent(t),e._emitter.emit(t.event,t)})).on("connecting",(function(){e.connecting=!0,e._emitter.emit("connecting")})).on("internal:connect_success",(function(){e.connecting=!1,e.connected=!0,e.subscribeAllChannels(),e._emitter.emit("connected")})).on("internal:connect_error",(function(t){e.connecting=!1,e.connected=!1,e._emitter.emit("connect_error",t),e.disconnect()})).on("disconnect",(function(){e.unsubscribeAllChannels(),e.connecting=!1,e.connected=!1,e._emitter.emit("disconnected")})).on("error",(function(t){"internal:connect_error"==t?(e.connecting=!1,e.connected=!1,e._emitter.emit("connect_error",{}),e.disconnect()):e._emitter.emit("error",t)}))}},{key:"unsubscribeAllChannels",value:function(){var e=this;Object.keys(this._channels).forEach((function(t){e._channels[t].unsubscribe()}))}},{key:"subscribeAllChannels",value:function(){var e=this;Object.keys(this._channels).forEach((function(t){e._channels[t].subscribe()}))}},{key:"unsubscribeEvents",value:function(){this._socket.off("msg")}},{key:"connect",value:function(){this.connecting||this._socket.connect()}},{key:"disconnect",value:function(){this._socket.disconnect()}},{key:"channels",value:function(){return this._channels}},{key:"channel",value:function(e){return this._channels[e]}},{key:"subscribe",value:function(e){var t=this.channel(e);return t||(this._channels[e]=t=this._createChannel(e)),t.subscriptionPending||t.subscribe(),t}},{key:"unsubscribe",value:function(e){var t=this.channel(e);t&&(t.unsubscribe(),delete this._channels[e])}},{key:"trigger",value:function(e,t,n,r,a){var o={event:e};t&&(o.data=t),r&&(o.sig=r),n&&(o.channel=n),a&&(o.toUserId=a),this._socket.emit("msg",o)}},{key:"on",value:function(e,t){this._emitter.on(e,t)}},{key:"off",value:function(e,t){this._emitter.off(e,t)}},{key:"once",value:function(e,t){this._emitter.once(e,t)}},{key:"_createChannel",value:function(e){return new s(e,this)}}]),e}()},function(e,t){"use strict";e.exports=t={},t.extend=function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}},function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=a(e),o=r.source,p=r.id,l=r.path,c=s[p]&&l in s[p].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||c?n=i(o,t):(s[p]||(s[p]=i(o,t)),n=s[p]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}var a=n(4),o=n(7),i=n(18);n(6)("socket.io-client");e.exports=t=r;var s=t.managers={};t.protocol=o.protocol,t.connect=r,t.Manager=n(18),t.Socket=n(43)},function(e,t,n){(function(t){function r(e,n){var r=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=a(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}var a=n(5);n(6)("socket.io-client:url");e.exports=r}).call(t,function(){return this}())},function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var r=e,a=e.indexOf("["),o=e.indexOf("]");-1!=a&&-1!=o&&(e=e.substring(0,a)+e.substring(a,o).replace(/:/g,";")+e.substring(o,e.length));for(var i=t.exec(e||""),s={},p=14;p--;)s[n[p]]=i[p]||"";return-1!=a&&-1!=o&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e){"use strict";e.exports=function(){return function(){}}},function(e,t,n){function r(){}function a(e){var n=""+e.type;return t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data&&(n+=JSON.stringify(e.data)),n}function o(e,t){function n(e){var n=h.deconstructPacket(e),r=a(n.packet),o=n.buffers;o.unshift(r),t(o)}h.removeBlobs(e,n)}function i(){this.reconstructor=null}function s(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return c("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var a="";"-"!==e.charAt(++n)&&(a+=e.charAt(n),n!=e.length););if(a!=Number(a)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(n+1))for(r.nsp="";++n;){if(","===(i=e.charAt(n)))break;if(r.nsp+=i,n===e.length)break}else r.nsp="/";var o=e.charAt(n+1);if(""!==o&&Number(o)==o){for(r.id="";++n;){var i;if(null==(i=e.charAt(n))||Number(i)!=i){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var s=p(e.substr(n));if(!(!1!==s&&(r.type===t.ERROR||f(s))))return c("invalid payload");r.data=s}return r}function p(e){try{return JSON.parse(e)}catch(e){return!1}}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:t.ERROR,data:"parser error: "+e}}n(6)("socket.io-parser");var u=n(8),d=n(9),h=n(15),f=n(16),m=n(17);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=i,r.prototype.encode=function(e,n){(e.type!==t.EVENT&&e.type!==t.ACK||!d(e.data)||(e.type=e.type===t.EVENT?t.BINARY_EVENT:t.BINARY_ACK),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?o(e,n):n([a(e)])},u(i.prototype),i.prototype.add=function(e){var n;if("string"==typeof e)n=s(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new l(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!m(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(t){function r(e){if(!e||"object"!=typeof e)return!1;if(a(e)){for(var n=0,o=e.length;n<o;n++)if(r(e[n]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||i&&e instanceof Blob||s&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return r(e.toJSON(),!0);for(var p in e)if(Object.prototype.hasOwnProperty.call(e,p)&&r(e[p]))return!0;return!1}var a=n(14),o=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.exports=r}).call(t,n(10).Buffer)},function(e,t,n){(function(e){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function a(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=i.prototype:(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?u(e,t,n):f(e,t)}function p(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return p(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function c(e,t){if(p(t),e=o(e,t<0?0:0|m(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n),a=(e=o(e,r)).write(t,n);return a!==r&&(e=e.slice(0,a)),e}function d(e,t){var n=t.length<0?0:0|m(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=i.prototype:e=d(e,t),e}function f(e,t){if(i.isBuffer(t)){var n=0|m(t.length);return 0===(e=o(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Q(t.length)?o(e,0):d(e,t);if("Buffer"===t.type&&Z(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),i.alloc(+e)}function v(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return N(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function C(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,a);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,a){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var i,s=1,p=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,p/=2,l/=2,n/=2}if(a){var c=-1;for(i=n;i<p;i++)if(o(e,i)===o(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*s}else-1!==c&&(i-=i-c),c=-1}else for(n+l>p&&(n=p-l),i=n;i>=0;i--){for(var u=!0,d=0;d<l;d++)if(o(e,i+d)!==o(t,d)){u=!1;break}if(u)return i}return-1}function w(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var i=0;i<r;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[n+i]=s}return i}function E(e,t,n,r){return Y(W(t,e.length-n),e,n,r)}function _(e,t,n,r){return Y($(t),e,n,r)}function T(e,t,n,r){return _(e,t,n,r)}function S(e,t,n,r){return Y(K(t),e,n,r)}function R(e,t,n,r){return Y(G(t,e.length-n),e,n,r)}function N(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var o,i,s,p,l=e[a],c=null,u=l>239?4:l>223?3:l>191?2:1;if(a+u<=n)switch(u){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[a+1]))&&(p=(31&l)<<6|63&o)>127&&(c=p);break;case 3:o=e[a+1],i=e[a+2],128==(192&o)&&128==(192&i)&&(p=(15&l)<<12|(63&o)<<6|63&i)>2047&&(p<55296||p>57343)&&(c=p);break;case 4:o=e[a+1],i=e[a+2],s=e[a+3],128==(192&o)&&128==(192&i)&&128==(192&s)&&(p=(15&l)<<18|(63&o)<<12|(63&i)<<6|63&s)>65535&&p<1114112&&(c=p)}null===c?(c=65533,u=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),a+=u}return z(r)}function z(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",o=t;o<n;++o)a+=H(e[o]);return a}function P(e,t,n){for(var r=e.slice(t,n),a="",o=0;o<r.length;o+=2)a+=String.fromCharCode(r[o]+256*r[o+1]);return a}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,a,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-n,2);a<o;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-n,4);a<o;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function U(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,a){return a||U(e,t,n,4,34028234663852886e22,-34028234663852886e22),J.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,a){return a||U(e,t,n,8,17976931348623157e292,-17976931348623157e292),J.write(e,t,n,r,52,8),n+8}function q(e){if((e=V(e).replace(te,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var n;t=t||1/0;for(var r=e.length,a=null,o=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,a,o=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,a=n%256,o.push(a),o.push(r);return o}function K(e){return X.toByteArray(q(e))}function Y(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function Q(e){return e!=e}var X=n(11),J=n(12),Z=n(13);t.Buffer=i,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:r(),t.kMaxLength=a(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return s(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return l(null,e,t,n)},i.allocUnsafe=function(e){return c(null,e)},i.allocUnsafeSlow=function(e){return c(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,o=Math.min(n,r);a<o;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):y.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,a){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(a>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),p=Math.min(o,s),l=this.slice(r,a),c=e.slice(t,n),u=0;u<p;++u)if(l[u]!==c[u]){o=l[u],s=c[u];break}return o<s?-1:s<o?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return C(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return C(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;i.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=i.prototype;else{var a=t-e;n=new i(a,void 0);for(var o=0;o<a;++o)n[o]=this[o+e]}return n},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},i.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=t,a=1,o=this[e+--r];r>0&&(a*=256);)o+=this[e+--r]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),J.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),J.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),J.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),J.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,
this[t+3]=255&e):L(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}var o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}var o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,o=r-n;if(this===e&&n<t&&t<r)for(a=o-1;a>=0;--a)e[a+t]=this[a+n];else if(o<1e3||!i.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=i.isBuffer(e)?e:W(new i(e,r).toString()),p=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%p]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function a(e){var t,r,a,o,i,s=e.length;o=n(e),i=new c(3*s/4-o),r=o>0?s-4:s;var p=0;for(t=0;t<r;t+=4)a=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],i[p++]=a>>16&255,i[p++]=a>>8&255,i[p++]=255&a;return 2===o?(a=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,i[p++]=255&a):1===o&&(a=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,i[p++]=a>>8&255,i[p++]=255&a),i}function o(e){return p[e>>18&63]+p[e>>12&63]+p[e>>6&63]+p[63&e]}function i(e,t,n){for(var r,a=[],i=t;i<n;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],a.push(o(r));return a.join("")}function s(e){for(var t,n=e.length,r=n%3,a="",o=[],s=16383,l=0,c=n-r;l<c;l+=s)o.push(i(e,l,l+s>c?c:l+s));return 1===r?(t=e[n-1],a+=p[t>>2],a+=p[t<<4&63],a+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],a+=p[t>>10],a+=p[t>>4&63],a+=p[t<<2&63],a+="="),o.push(a),o.join("")}t.byteLength=r,t.toByteArray=a,t.fromByteArray=s;for(var p=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=u.length;d<h;++d)p[d]=u[d],l[u.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var o,i,s=8*a-r-1,p=(1<<s)-1,l=p>>1,c=-7,u=n?a-1:0,d=n?-1:1,h=e[t+u];for(u+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+u],u+=d,c-=8);for(i=o&(1<<-c)-1,o>>=-c,c+=r;c>0;i=256*i+e[t+u],u+=d,c-=8);if(0===o)o=1-l;else{if(o===p)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,r),o-=l}return(h?-1:1)*i*Math.pow(2,o-r)},t.write=function(e,t,n,r,a,o){var i,s,p,l=8*o-a-1,c=(1<<l)-1,u=c>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-i))<1&&(i--,p*=2),(t+=i+u>=1?d/p:d*Math.pow(2,1-u))*p>=2&&(i++,p/=2),i+u>=c?(s=0,i=c):i+u>=1?(s=(t*p-1)*Math.pow(2,a),i+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,a),i=0));a>=8;e[n+h]=255&s,h+=f,s/=256,a-=8);for(i=i<<a|s,l+=a;l>0;e[n+h]=255&i,h+=f,i/=256,l-=8);e[n+h-f]|=128*m}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,t,n){(function(e){function r(e,t){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(o(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=r(e[s],t);return a}if("object"==typeof e&&!(e instanceof Date)){a={};for(var p in e)a[p]=r(e[p],t);return a}return e}function a(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(o(e))for(var n=0;n<e.length;n++)e[n]=a(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=a(e[r],t);return e}var o=n(16),i=n(17),s=Object.prototype.toString,p="function"==typeof e.Blob||"[object BlobConstructor]"===s.call(e.Blob),l="function"==typeof e.File||"[object FileConstructor]"===s.call(e.File);t.deconstructPacket=function(e){var t=[],n=e.data,a=e;return a.data=r(n,t),a.attachments=t.length,{packet:a,buffers:t}},t.reconstructPacket=function(e,t){return e.data=a(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){function n(e,s,c){if(!e)return e;if(p&&e instanceof Blob||l&&e instanceof File){r++;var u=new FileReader;u.onload=function(){c?c[s]=this.result:a=this.result,--r||t(a)},u.readAsArrayBuffer(e)}else if(o(e))for(var d=0;d<e.length;d++)n(e[d],d,e);else if("object"==typeof e&&!i(e))for(var h in e)n(e[h],h,e)}var r=0,a=e;n(a),r||t(a)}}).call(t,function(){return this}())},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,t){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))}e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var a=n(19),o=n(43),i=n(44),s=n(7),p=n(46),l=n(47),c=(n(6)("socket.io-client:manager"),n(42)),u=n(48),d=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},i(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(~this.readyState.indexOf("open"))return this;this.engine=a(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=p(t,"open",(function(){n.onopen(),e&&e()})),o=p(t,"error",(function(t){if(n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()}));if(!1!==this._timeout){var i=this._timeout,s=setTimeout((function(){r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",i)}),i);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(o),this},r.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(p(e,"data",l(this,"ondata"))),this.subs.push(p(e,"ping",l(this,"onping"))),this.subs.push(p(e,"pong",l(this,"onpong"))),this.subs.push(p(e,"error",l(this,"onerror"))),this.subs.push(p(e,"close",l(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",l(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~c(a.connecting,r)||a.connecting.push(r)}var r=this.nsps[e];if(!r){r=new o(this,e,t),this.nsps[e]=r;var a=this;r.on("connecting",n),r.on("connect",(function(){r.id=a.generateId(e)})),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=c(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):e.onreconnect()})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(20),e.exports.parser=n(27)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=l(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=l(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var a="object"==typeof t&&t;a.global===a&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function a(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=n(21),i=n(35),s=(n(6)("engine.io-client:socket"),n(42)),p=n(27),l=n(5),c=n(36);e.exports=r,r.priorWebsocketSuccess=!1,i(r.prototype),r.protocol=p.protocol,r.Socket=r,r.Transport=n(26),r.transports=n(21),r.parser=n(27),r.prototype.createTransport=function(e){var t=a(this.query);t.EIO=p.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new o[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},r.prototype.probe=function(e){function t(){if(u.onlyBinaryUpgrades){var e=!this.supportsBinary&&u.transport.supportsBinary;c=c||e}c||(l.send([{type:"ping",data:"probe"}]),l.once("packet",(function(e){if(!c)if("pong"===e.type&&"probe"===e.data){if(u.upgrading=!0,u.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"===l.name,u.transport.pause((function(){c||"closed"!==u.readyState&&(p(),u.setTransport(l),l.send([{type:"upgrade"}]),u.emit("upgrade",l),l=null,u.upgrading=!1,u.flush())}))}else{var t=new Error("probe error");t.transport=l.name,u.emit("upgradeError",t)}})))}function n(){c||(c=!0,p(),l.close(),l=null)}function a(e){var t=new Error("probe error: "+e);t.transport=l.name,n(),u.emit("upgradeError",t)}function o(){a("transport closed")}function i(){a("socket closed")}function s(e){l&&e.name!==l.name&&n()}function p(){l.removeListener("open",t),l.removeListener("error",a),l.removeListener("close",o),u.removeListener("close",i),u.removeListener("upgrading",s)}var l=this.createTransport(e,{probe:1}),c=!1,u=this;r.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",a),l.once("close",o),this.once("close",i),this.once("upgrading",s),l.open()},r.prototype.onOpen=function(){if(this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var a={type:e,data:t,options:n};this.emit("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():e()})):this.upgrading?n():e()}return this},r.prototype.onError=function(e){r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){function r(t){var n=!1,r=!1,s=!1!==t.jsonp;if(e.location){var p="https:"===location.protocol,l=location.port;l||(l=p?443:80),n=t.hostname!==location.hostname||l!==t.port,r=t.secure!==p}if(t.xdomain=n,t.xscheme=r,"open"in new a(t)&&!t.forceJSONP)return new o(t);if(!s)throw new Error("JSONP disabled");return new i(t)}var a=n(22),o=n(24),i=n(39),s=n(40);t.polling=r,t.websocket=s}).call(t,function(){return this}())},function(e,t,n){(function(t){var r=n(23);e.exports=function(e){var n=e.xdomain,a=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!a&&o)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function r(){}function a(e){if(p.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function i(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=n(22),p=n(25),l=n(35),c=n(37);n(6)("engine.io-client:polling-xhr");e.exports=a,e.exports.Request=o,c(a,p),a.prototype.supportsBinary=!0,a.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},a.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),a=this;r.on("success",t),r.on("error",(function(e){a.onError("xhr post error",e)})),this.sendXhr=r},a.prototype.doPoll=function(){var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},l(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),r=this;try{n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this.extraHeaders[a])}catch(e){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState)try{var e=n.getResponseHeader("Content-Type");r.supportsBinary&&"application/octet-stream"===e&&(n.responseType="arraybuffer")}catch(e){}4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout((function(){r.onError(n.status)}),0))},n.send(this.data)}catch(e){return void setTimeout((function(){r.onError(e)}),0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",i):t.addEventListener&&t.addEventListener("beforeunload",i,!1))}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),a.call(this,e)}var a=n(26),o=n(36),i=n(27),s=n(37),p=n(38);n(6)("engine.io-client:polling");e.exports=r;var l=null!=new(n(22))({xdomain:!1}).responseType;s(r,a),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||t()}))),this.writable||(r++,this.once("drain",(function(){--r||t()})))}else t()},r.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this,n=function(e){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};i.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())},r.prototype.doClose=function(){function e(){t.write([{type:"close"}])}var t=this;"open"===this.readyState?e():this.once("open",e)},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=p()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var a=n(27),o=n(35);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=a.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function r(e,n){return n("b"+t.packets[e.type]+e.data.data)}function a(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var a=e.data,o=new Uint8Array(a),i=new Uint8Array(1+a.byteLength);i[0]=y[e.type];for(var s=0;s<o.length;s++)i[s+1]=o[s];return r(i.buffer)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var a=new FileReader;return a.onload=function(){e.data=a.result,t.encodePacket(e,n,!0,r)},a.readAsArrayBuffer(e.data)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(v)return o(e,n,r);var a=new Uint8Array(1);return a[0]=y[e.type],r(new x([a.buffer,e.data]))}function s(e){try{e=f.decode(e,{strict:!1})}catch(e){return!1}return e}function p(e,t,n){for(var r=new Array(e.length),a=h(e.length,n),o=function(e,n,a){t(n,(function(t,n){r[e]=n,a(t,r)}))},i=0;i<e.length;i++)o(i,e[i],a)}var l,c=n(28),u=n(9),d=n(29),h=n(30),f=n(31);e&&e.ArrayBuffer&&(l=n(33));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=m||g;t.protocol=3;var y=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=c(y),C={type:"error",data:"parser error"},x=n(34);t.encodePacket=function(t,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var p=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&p instanceof ArrayBuffer)return a(t,n,s);if(x&&p instanceof e.Blob)return i(t,n,s);if(p&&p.base64)return r(t,s);var l=y[t.type];return void 0!==t.data&&(l+=o?f.encode(String(t.data),{strict:!1}):String(t.data)),s(""+l)},t.encodeBase64Packet=function(n,r){var a,o="b"+t.packets[n.type];if(x&&n.data instanceof e.Blob){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];r(o+e)},i.readAsDataURL(n.data)}try{a=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),p=new Array(s.length),l=0;l<s.length;l++)p[l]=s[l];a=String.fromCharCode.apply(null,p)}return o+=e.btoa(a),r(o)},t.decodePacket=function(e,n,r){if(void 0===e)return C;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=s(e)))return C;var a=e.charAt(0);return Number(a)==a&&b[a]?e.length>1?{type:b[a],data:e.substring(1)}:{type:b[a]}:C}a=new Uint8Array(e)[0];var o=d(e,1);return x&&"blob"===n&&(o=new x([o])),{type:b[a],data:o}},t.decodeBase64Packet=function(e,t){var n=b[e.charAt(0)]
;if(!l)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=l.decode(e.substr(1));return"blob"===t&&x&&(r=new x([r])),{type:n,data:r}},t.encodePayload=function(e,n,r){function a(e){return e.length+":"+e}function o(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,a(e))}))}"function"==typeof n&&(r=n,n=null);var i=u(e);return n&&i?x&&!v?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void p(e,o,(function(e,t){return r(t.join(""))})):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var a;if("function"==typeof n&&(r=n,n=null),""===e)return r(C,0,1);for(var o,i,s="",p=0,l=e.length;p<l;p++){var c=e.charAt(p);if(":"===c){if(""===s||s!=(o=Number(s)))return r(C,0,1);if(s!=(i=e.substr(p+1,o)).length)return r(C,0,1);if(i.length){if(a=t.decodePacket(i,n,!1),C.type===a.type&&C.data===a.data)return r(C,0,1);if(!1===r(a,p+o,l))return}p+=o,s=""}else s+=c}return""!==s?r(C,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}if(!e.length)return n(new ArrayBuffer(0));p(e,r,(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),a=new Uint8Array(r),o=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);n=r.buffer}a[o++]=t?0:1;var s=n.byteLength.toString();for(i=0;i<s.length;i++)a[o++]=parseInt(s[i]);a[o++]=255;for(r=new Uint8Array(n),i=0;i<r.length;i++)a[o++]=r[i]})),n(a.buffer)}))},t.encodePayloadAsBlob=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),i=new Uint8Array(o.length+1);for(a=0;a<o.length;a++)i[a]=parseInt(o[a]);if(i[o.length]=255,x){var s=new x([t.buffer,i.buffer,e]);n(null,s)}}))}p(e,r,(function(e,t){return n(new x(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var a=e,o=[];a.byteLength>0;){for(var i=new Uint8Array(a),s=0===i[0],p="",l=1;255!==i[l];l++){if(p.length>310)return r(C,0,1);p+=i[l]}a=d(a,2+p.length),p=parseInt(p);var c=d(a,0,p);if(s)try{c=String.fromCharCode.apply(null,new Uint8Array(c))}catch(e){var u=new Uint8Array(c);c="";for(l=0;l<u.length;l++)c+=String.fromCharCode(u[l])}o.push(c),a=d(a,p)}var h=o.length;o.forEach((function(e,a){r(t.decodePacket(e,n,!0),a,h)}))}}).call(t,function(){return this}())},function(e){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var a=new Uint8Array(e),o=new Uint8Array(n-t),i=t,s=0;i<n;i++,s++)o[s]=a[i];return o.buffer}},function(e){function t(e,t,r){function a(e,n){if(a.count<=0)throw new Error("after called too many times");--a.count,e?(o=!0,t(e),t=r):0!==a.count||o||t(null,n)}var o=!1;return r=r||n,a.count=e,0===e?t():a}function n(){}e.exports=t},function(e,t,n){var r;(function(e,a){!function(){function o(e){for(var t,n,r=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function i(e){for(var t,n=e.length,r=-1,a="";++r<n;)(t=e[r])>65535&&(a+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),a+=b(t);return a}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function p(e,t){return b(e>>t&63|128)}function l(e,t){if(!(4294967168&e))return b(e);var n="";return 4294965248&e?4294901760&e?4292870144&e||(n=b(e>>18&7|240),n+=p(e,12),n+=p(e,6)):(s(e,t)||(e=65533),n=b(e>>12&15|224),n+=p(e,6)):n=b(e>>6&31|192),n+=b(63&e|128)}function c(e,t){for(var n=!1!==(t=t||{}).strict,r=o(e),a=r.length,i=-1,s="";++i<a;)s+=l(r[i],n);return s}function u(){if(y>=v)throw Error("Invalid byte index");var e=255&g[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,n;if(y>v)throw Error("Invalid byte index");if(y==v)return!1;if(t=255&g[y],y++,!(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|u())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|u()<<6|u())>=2048)return s(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}function h(e,t){var n=!1!==(t=t||{}).strict;g=o(e),v=g.length,y=0;for(var r,a=[];!1!==(r=d(n));)a.push(r);return i(a)}var f="object"==typeof t&&t,m=("object"==typeof e&&e&&e.exports,"object"==typeof a&&a);m.global!==m&&m.window;var g,v,y,b=String.fromCharCode,C={version:"2.1.2",encode:c,decode:h};void 0===(r=function(){return C}.call(t,n,t,e))||(e.exports=r)}()}).call(t,n(32)(e),function(){return this}())},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),a=r.length,o="";for(n=0;n<a;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return a%3==2?o=o.substring(0,o.length-1)+"=":a%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,a,o,i,s=.75*e.length,p=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<p;t+=4)r=n[e.charCodeAt(t)],a=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],i=n[e.charCodeAt(t+3)],u[l++]=r<<2|a>>4,u[l++]=(15&a)<<4|o>>2,u[l++]=(3&o)<<6|63&i;return c}}()},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var a=new Uint8Array(n.byteLength);a.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=a.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;n(e);for(var a=0;a<e.length;a++)r.append(e[a]);return t.type?r.getBlob(t.type):r.getBlob()}function a(e,t){return n(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),s=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),p=o&&o.prototype.append&&o.prototype.getBlob;e.exports=i?s?t.Blob:a:p?r:void 0}).call(t,function(){return this}())},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,a=n.length;r<a;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e){"use strict";function t(e){var t="";do{t=o[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function n(e){var t=0;for(l=0;l<e.length;l++)t=t*i+s[e.charAt(l)];return t}function r(){var e=t(+new Date);return e!==a?(p=0,a=e):e+"."+t(p++)}for(var a,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,s={},p=0,l=0;l<i;l++)s[o[l]]=l;r.encode=t,r.decode=n,e.exports=r},function(e,t,n){(function(t){function r(){}function a(e){o.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push((function(e){n.onData(e)})),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=r)}),!1)}var o=n(25),i=n(37);e.exports=a;var s,p=/\n/g,l=/\\n/g;i(a,o),a.prototype.supportsBinary=!1,a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},a.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},a.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(e){a.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+a.iframeId+'">';o=document.createElement(e)}catch(e){(o=document.createElement("iframe")).name=a.iframeId,o.src="javascript:0"}o.id=a.iframeId,a.form.appendChild(o),a.iframe=o}var a=this;if(!this.form){var o,i=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.uri(),r(),e=e.replace(l,"\\\n"),this.area.value=e.replace(p,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===a.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){(function(t){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=c&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(u=a),o.call(this,e)}var a,o=n(26),i=n(27),s=n(36),p=n(37),l=n(38),c=(n(6)("engine.io-client:websocket"),t.WebSocket||t.MozWebSocket);if("undefined"==typeof window)try{a=n(41)}catch(e){}var u=c;u||"undefined"!=typeof window||(u=a),e.exports=r,p(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new u(e,t):new u(e):new u(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){function n(){r.emit("flush"),setTimeout((function(){r.writable=!0,r.emit("drain")}),0)}var r=this;this.writable=!1;for(var a=e.length,o=0,s=a;o<s;o++)!function(e){i.encodePacket(e,r.supportsBinary,(function(o){if(!r.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),r.perMessageDeflate)("string"==typeof o?t.Buffer.byteLength(o):o.length)<r.perMessageDeflate.threshold&&(i.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(o):r.ws.send(o,i)}catch(e){}--a||n()}))}(e[o])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===r.prototype.name)}}).call(t,function(){return this}())},function(){},function(e){var t=[].indexOf;e.exports=function(e,n){if(t)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1}},function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var a=n(7),o=n(44),i=n(45),s=n(46),p=n(47),l=(n(6)("socket.io-client:socket"),n(36));e.exports=r;var c={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",p(this,"onopen")),s(e,"packet",p(this,"onpacket")),s(e,"close",p(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},r.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(c.hasOwnProperty(e))return u.apply(this,arguments),this;var t=i(arguments),n={type:a.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var e="object"==typeof this.query?l.encode(this.query):this.query;this.packet({type:a.CONNECT,query:e})}else this.packet({type:a.CONNECT})},r.prototype.onclose=function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case a.CONNECT:this.onconnect();break;case a.EVENT:case a.BINARY_EVENT:this.onevent(e);break;case a.ACK:case a.BINARY_ACK:this.onack(e);break;case a.DISCONNECT:this.ondisconnect();break;case a.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?u.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=i(arguments);t.packet({type:a.ACK,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)u.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&this.packet({type:a.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){function t(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=t},function(e){function t(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=t},function(e){var t=[].slice;e.exports=function(e,n){if("string"==typeof n&&(n=e[n]),"function"!=typeof n)throw new Error("bind() requires a function");var r=t.call(arguments,2);return function(){return n.apply(e,r.concat(t.call(arguments)))}}},function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(50),i=n(51),s=function(){function e(t,n){r(this,e),this.name=t,this.socked=n,this.subscribed=!1,this.subscriptionPending=!1,this.user={},this.users=new i(this)}return a(e,[{key:"isPresence",value:function(){return 0===this.name.indexOf("presence-")}},{key:"authorize",value:function(e){var t=new XMLHttpRequest,n=this.socked.options.authUrl+"?app="+encodeURIComponent(this.socked.appId)+"&channel="+encodeURIComponent(this.name)+"&socket_id="+encodeURIComponent(this.socked._socket.id);if(this.socked.options.auth&&this.socked.options.auth.params)for(var r in this.socked.options.auth.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent("function"==typeof this.socked.options.auth.params[r]?this.socked.options.auth.params[r]():this.socked.options.auth.params[r]);t.open("GET",n,!0),t.onload=function(){if(t.status>=200&&t.status<400){var n=JSON.parse(t.responseText);n&&!n.error?e(null,n.sig,n.user):e({code:401,error:"Authentication error."})}else e({code:t.status,error:"Authentication error."})},t.send()}},{key:"subscribe",value:function(){var e=this;if(!this.subscribed&&!this.subscriptionPending){if(!this.socked.connected)throw"Socked is not connected.";this.subscriptionPending=!0,this.authorize((function(t,n,r){t?e.subscriptionPending=!1:(e.socked.trigger("subscribe",{user:r},e.name,n),e.socked.options&&e.socked.options.auth&&e.socked.options.auth.callback&&e.socked.options.auth.callback(r))}))}}},{key:"unsubscribe",value:function(){this.subscriptionPending=!1,this.subscribed&&(this.subscribed=!1,this.users.clear(),this.socked.trigger("unsubscribe",null,this.name))}},{key:"handleEvent",value:function(e){0===e.event.indexOf("internal:")?"internal:subscription_success"===e.event?(this.subscriptionPending=!1,this.subscribed=!0,this.user=e.user,e.users&&(this.users.clear(),this.users.addUsers(e.users))):"internal:subscription_error"===e.event&&(this.subscriptionPending=!1,this.subscribed=!1):"subscribed_channel"==e.event?this.users.addUser(e.user):"unsubscribed_channel"==e.event&&this.users.removeUser(e.user),this.emit(e.event,e)}},{key:"trigger",value:function(e,t,n){if(!this.subscribed)throw new Error("Unable to send message. Channel '"+this.name+"' is not subscribed.");if(0!==e.indexOf("client-")&&0!==e.indexOf("private-"))throw new Error("Unable to send message. Event name must begin with 'client-' or 'private-'.");this.socked.trigger(e,t,this.name,null,n)}},{key:"event",value:function(e,t){if(!this.subscribed)throw new Error("Unable to send event. Channel '"+this.name+"' is not subscribed.");var n=JSON.parse(JSON.stringify(t));n.event=e,this.socked.trigger("event",n,this.name)}}]),e}();o(s.prototype),e.exports=s},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(52),i=function(){function e(t){r(this,e),this.channel=t,this.users={}}return a(e,[{key:"addUsers",value:function(e){this.users=o(this.users,e||{})}},{key:"addUser",value:function(e){this.users[e.id]=e}},{key:"getUsers",value:function(){var e=this;return Object.keys(this.users).map((function(t){return e.users[t]}))}},{key:"removeUser",value:function(e){delete this.users[e.id]}},{key:"count",value:function(){return Object.keys(this.users).length}},{key:"clear",value:function(){this.users={}}}]),e}();e.exports=i},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e){for(var n,i,s=t(e),p=1;p<arguments.length;p++){for(var l in n=Object(arguments[p]))a.call(n,l)&&(s[l]=n[l]);if(r){i=r(n);for(var c=0;c<i.length;c++)o.call(n,i[c])&&(s[i[c]]=n[i[c]])}}return s}}])}));var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var p=s.get;if(void 0===p)return;return p.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,s=l=void 0}},GLOBAL="undefined"==typeof window?global:window,setter=function(e,t,n){return function(r,a){var o=e(function(){t.call(this,o),r.apply(this,arguments)}.bind(this),a);return this[n]?this[n].push(o):this[n]=[o],o}},clearer=function(e,t){return function(n){if(this[t]){var r=this[t].indexOf(n);-1!==r&&this[t].splice(r,1)}e(n)}},_timeouts="TimerMixin_timeouts",_clearTimeout=clearer(GLOBAL.clearTimeout,_timeouts),_setTimeout=setter(GLOBAL.setTimeout,_clearTimeout,_timeouts),_intervals="TimerMixin_intervals",_clearInterval=clearer(GLOBAL.clearInterval,_intervals),_setInterval=setter(GLOBAL.setInterval,(function(){}),_intervals),_immediates="TimerMixin_immediates",_clearImmediate=clearer(GLOBAL.clearImmediate,_immediates),_setImmediate=setter(GLOBAL.setImmediate,_clearImmediate,_immediates),_rafs="TimerMixin_rafs",_cancelAnimationFrame=clearer(GLOBAL.cancelAnimationFrame,_rafs),_requestAnimationFrame=setter(GLOBAL.requestAnimationFrame,_cancelAnimationFrame,_rafs),TimerMixin={componentWillUnmount:function(){this[_timeouts]&&this[_timeouts].forEach((function(e){GLOBAL.clearTimeout(e)})),this[_timeouts]=null,this[_intervals]&&this[_intervals].forEach((function(e){GLOBAL.clearInterval(e)})),this[_intervals]=null,this[_immediates]&&this[_immediates].forEach((function(e){GLOBAL.clearImmediate(e)})),this[_immediates]=null,this[_rafs]&&this[_rafs].forEach((function(e){GLOBAL.cancelAnimationFrame(e)})),this[_rafs]=null},setTimeout:_setTimeout,clearTimeout:_clearTimeout,setInterval:_setInterval,clearInterval:_clearInterval,setImmediate:_setImmediate,clearImmediate:_clearImmediate,requestAnimationFrame:_requestAnimationFrame,cancelAnimationFrame:_cancelAnimationFrame};!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Flux=t():e.Flux=t()}(this,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports.Dispatcher=n(1)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=n(2),o="ID_",i=function(){function e(){r(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t=o+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||a(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||a(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||a(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(this._callbacks[n]||a(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&a(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=i},function(e){"use strict";function t(e,t,n,r,a,o,i,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,i,s],c=0;(p=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw p.framesToPop=1,p}}e.exports=t}])})),"function"==typeof Node&&Node.prototype&&function(){var e=Node.prototype.removeChild;Node.prototype.removeChild=function(t){return t.parentNode!==this?(console&&console.error("Cannot remove a child from a different parent",t,this),t):e.apply(this,arguments)};var t=Node.prototype.insertBefore;Node.prototype.insertBefore=function(e,n){return n&&n.parentNode!==this?(console&&console.error("Cannot insert before a reference node from a different parent",n,this),e):t.apply(this,arguments)}}(),window._ReactOriginal=window.React||null,window._ReactDOMOriginal=window.ReactDOM||null,window._createReactClassOriginal=window.createReactClass||null,window._PropTypesOriginal=window.PropTypes||null,function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(4),a=n(23),o=n(7),i=n(9);window.React=r,window.ReactDOM=a,window.createReactClass=o,window.PropTypes=i},function(e){"use strict";var t={};e.exports=t},function(e){"use strict";function t(e,t,r,a,o,i,s,p){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,a,o,i,s,p],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(){};e.exports=t},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),
"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e){for(var n,i,s=t(e),p=1;p<arguments.length;p++){for(var l in n=Object(arguments[p]))a.call(n,l)&&(s[l]=n[l]);if(r){i=r(n);for(var c=0;c<i.length;c++)o.call(n,i[c])&&(s[i[c]]=n[i[c]])}}return s}},function(e,t,n){"use strict";e.exports=n(11)},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){"use strict";function r(e){return e}function a(e,t,n){function a(e,t){var n=y.hasOwnProperty(t)?y[t]:null;E.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function l(e,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var i in n.hasOwnProperty(p)&&C.mixins(e,n.mixins),n)if(n.hasOwnProperty(i)&&i!==p){var l=n[i],c=r.hasOwnProperty(i);if(a(c,i),C.hasOwnProperty(i))C[i](e,l);else{var u=y.hasOwnProperty(i);if("function"==typeof l&&!u&&!c&&!1!==n.autobind)o.push(i,l),r[i]=l;else if(c){var f=y[i];s(u&&("DEFINE_MANY_MERGED"===f||"DEFINE_MANY"===f),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",f,i),"DEFINE_MANY_MERGED"===f?r[i]=d(r[i],l):"DEFINE_MANY"===f&&(r[i]=h(r[i],l))}else r[i]=l}}}}function c(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(s(!(n in C),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var a=b.hasOwnProperty(n)?b[n]:null;return s("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=d(e[n],r))}e[n]=r}}}function u(e,t){for(var n in s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function d(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var a={};return u(a,n),u(a,r),a}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function f(e,t){return t.bind(e)}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],a=t[n+1];e[r]=f(e,a)}}function g(e){var t=r((function(e,r,a){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;s("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o}));for(var a in t.prototype=new _,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],v.forEach(l.bind(null,t)),l(t,x),l(t,e),l(t,w),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),y)t.prototype[a]||(t.prototype[a]=null);return t}var v=[],y={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},C={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)l(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){c(e,t)},autobind:function(){}},x={componentDidMount:function(){this.__isMounted=!0}},w={componentWillUnmount:function(){this.__isMounted=!1}},E={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},_=function(){};return o(_.prototype,e.prototype,E),g}var o=n(3),i=n(1),s=n(2),p="mixins";e.exports=a},function(e,t,n){"use strict";var r=n(4),a=n(6);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=a(r.Component,r.isValidElement,o)},function(e,t,n){"use strict";function r(){}var a=n(10);e.exports=function(){function e(e,t,n,r,o,i){if(i!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){e.exports=n(8)()},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);y(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function a(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||A}function o(){}function i(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||A}function s(e,t,n){var r=void 0,a={},o=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)D.call(t,r)&&!M.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var p=Array(s),l=0;l<s;l++)p[l]=arguments[l+2];a.children=p}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:w,type:e,key:o,ref:i,props:a,_owner:P.current}}function p(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}function l(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}function c(e,t,n,r){if(L.length){var a=L.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function d(e,t,n,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case w:case E:i=!0}}if(i)return n(a,e,""===t?"."+h(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var p=t+h(o=e[s],s);i+=d(o,p,n,a)}else if(null==e?p=null:p="function"==typeof(p=O&&e[O]||e["@@iterator"])?p:null,"function"==typeof p)for(e=p.call(e),s=0;!(o=e.next()).done;)i+=d(o=o.value,p=t+h(o,s++),n,a);else"object"===o&&r("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return i}function h(e,t){return"object"==typeof e&&null!==e&&null!=e.key?l(e.key):t.toString(36)}function f(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,r,n,C.thatReturnsArgument):null!=e&&(p(e)&&(t=a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n,e={$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function g(e,t,n,r,a){var o="";null!=n&&(o=(""+n).replace(j,"$&/")+"/"),t=c(t,o,r,a),null==e||d(e,"",m,t),u(t)}var v=n(3),y=n(2),b=n(1),C=n(5),x="function"==typeof Symbol&&Symbol.for,w=x?Symbol.for("react.element"):60103,E=x?Symbol.for("react.portal"):60106,_=x?Symbol.for("react.fragment"):60107,T=x?Symbol.for("react.strict_mode"):60108,S=x?Symbol.for("react.profiler"):60114,R=x?Symbol.for("react.provider"):60109,N=x?Symbol.for("react.context"):60110,k=x?Symbol.for("react.async_mode"):60111,z=x?Symbol.for("react.forward_ref"):60112;x&&Symbol.for("react.timeout");var O="function"==typeof Symbol&&Symbol.iterator,A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};a.prototype.isReactComponent={},a.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=a.prototype;var I=i.prototype=new o;I.constructor=i,v(I,a.prototype),I.isPureReactComponent=!0;var P={current:null},D=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0},j=/\/+/g,L=[],U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return g(e,r,null,t,n),r},forEach:function(e,t,n){return null==e?e:(t=c(null,null,t,n),null==e||d(e,"",f,t),void u(t))},count:function(e){return null==e?0:d(e,"",C.thatReturnsNull,null)},toArray:function(e){var t=[];return g(e,t,null,C.thatReturnsArgument),t},only:function(e){return p(e)||r("143"),e}},createRef:function(){return{current:null}},Component:a,PureComponent:i,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:N,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:R,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:z,render:e}},Fragment:_,StrictMode:T,unstable_AsyncMode:k,unstable_Profiler:S,createElement:s,cloneElement:function(e,t,n){null==e&&r("267",e);var a=void 0,o=v({},e.props),i=e.key,s=e.ref,p=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,p=P.current),void 0!==t.key&&(i=""+t.key);var l=void 0;for(a in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)D.call(t,a)&&!M.hasOwnProperty(a)&&(o[a]=void 0===t[a]&&void 0!==l?l[a]:t[a])}if(1===(a=arguments.length-2))o.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:w,type:e.type,key:i,ref:s,props:o,_owner:p}},createFactory:function(e){var t=s.bind(null,e);return t.type=e,t},isValidElement:p,version:"16.4.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:P,assign:v}},F={default:U},B=F&&U||F;e.exports=B.default?B.default:B},function(e){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!a(e)&&(a(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var a=n(18);e.exports=r},function(e){"use strict";function t(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=t},,,function(e){"use strict";function t(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=t},function(e,t,n){"use strict";function r(e){return a(e)&&3==e.nodeType}var a=n(17);e.exports=r},,function(e){"use strict";function t(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function n(e,n){if(t(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(var i=0;i<a.length;i++)if(!r.call(n,a[i])||!t(e[a[i]],n[a[i]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},,function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);Pr(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function a(e,t,n){this._hasCaughtError=!1,this._caughtError=null;var r=Array.prototype.slice.call(arguments,3);try{t.apply(n,r)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}function o(){if(Vr._hasRethrowError){var e=Vr._rethrowError;throw Vr._rethrowError=null,Vr._hasRethrowError=!1,e}}function i(){if(Hr)for(var e in Wr){var t=Wr[e],n=Hr.indexOf(e);if(-1<n||r("96",e),!$r[n])for(var a in t.extractEvents||r("97",e),$r[n]=t,n=t.eventTypes){var o=void 0,i=n[a],p=t,l=a;Gr.hasOwnProperty(l)&&r("99",l),Gr[l]=i;var c=i.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&s(c[o],p,l);o=!0}else i.registrationName?(s(i.registrationName,p,l),o=!0):o=!1;o||r("98",a,e)}}}function s(e,t,n){Kr[e]&&r("100",e),Kr[e]=t,Yr[e]=t.eventTypes[n].dependencies}function p(e){Hr&&r("101"),Hr=Array.prototype.slice.call(e),i()}function l(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var a=e[t];Wr.hasOwnProperty(t)&&Wr[t]===a||(Wr[t]&&r("102",t),Wr[t]=a,n=!0)}n&&i()}function c(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=Zr(r),Vr.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function u(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function d(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function h(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var a=0;a<n.length&&!e.isPropagationStopped();a++)c(e,t,n[a],r[a]);else n&&c(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function f(e){return h(e,!0)}function m(e){return h(e,!1)}function g(e,t){var n=e.stateNode;if(!n)return null;var a=Xr(n);if(!a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&r("231",t,typeof n),n)}function v(e,t){null!==e&&(ea=u(ea,e)),e=ea,ea=null,e&&(d(e,t?f:m),ea&&r("95"),Vr.rethrowCaughtError())}function y(e,t,n,r){for(var a=null,o=0;o<$r.length;o++){var i=$r[o];i&&(i=i.extractEvents(e,t,n,r))&&(a=u(a,i))}v(a,!1)}function b(e){if(e[aa])return e[aa];for(;!e[aa];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[aa]).tag||6===e.tag?e:null}function C(e){return 5===e.tag||6===e.tag?e.stateNode:void r("33")}function x(e){return e[oa]||null}function w(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function E(e,t,n){for(var r=[];e;)r.push(e),e=w(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function _(e,t,n){(t=g(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=u(n._dispatchListeners,t),n._dispatchInstances=u(n._dispatchInstances,e))}function T(e){e&&e.dispatchConfig.phasedRegistrationNames&&E(e._targetInst,_,e)}function S(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;E(t=t?w(t):null,_,e)}}function R(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=g(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=u(n._dispatchListeners,t),n._dispatchInstances=u(n._dispatchInstances,e))}function N(e){e&&e.dispatchConfig.registrationName&&R(e._targetInst,null,e)}function k(e){d(e,T)}function z(e,t,n,r){if(n&&r)e:{for(var a=n,o=r,i=0,s=a;s;s=w(s))i++;s=0;for(var p=o;p;p=w(p))s++;for(;0<i-s;)a=w(a),i--;for(;0<s-i;)o=w(o),s--;for(;i--;){if(a===o||a===o.alternate)break e;a=w(a),o=w(o)}a=null}else a=null;for(o=a,a=[];n&&n!==o&&(null===(i=n.alternate)||i!==o);)a.push(n),n=w(n);for(n=[];r&&r!==o&&(null===(i=r.alternate)||i!==o);)n.push(r),r=w(r);for(r=0;r<a.length;r++)R(a[r],"bubbled",e);for(e=n.length;0<e--;)R(n[e],"captured",t)}function O(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function A(e){if(la[e])return la[e];if(!pa[e])return e;var t,n=pa[e];for(t in n)if(n.hasOwnProperty(t)&&t in ca)return la[e]=n[t];return e}function I(){return!ga&&Mr.canUseDOM&&(ga="textContent"in document.documentElement?"textContent":"innerText"),ga}function P(){if(va._fallbackText)return va._fallbackText;var e,t,n=va._startText,r=n.length,a=D(),o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return va._fallbackText=a.slice(e,1<t?1-t:void 0),va._fallbackText}function D(){return"value"in va._root?va._root.value:va._root[I()]}function M(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Lr.thatReturnsTrue:Lr.thatReturnsFalse,this.isPropagationStopped=Lr.thatReturnsFalse,this}function j(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function L(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function U(e){e.eventPool=[],e.getPooled=j,e.release=L}function F(e,t){switch(e){case"keyup":return-1!==wa.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function B(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function q(e,t){switch(e){case"compositionend":return B(t);case"keypress":return 32!==t.which?null:(ka=!0,Ra);case"textInput":return(e=t.data)===Ra&&ka?null:e;default:return null}}function V(e,t){if(za)return"compositionend"===e||!Ea&&F(e,t)?(e=P(),va._root=null,va._startText=null,va._fallbackText=null,za=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sa?null:t.data}}function H(e){if(e=Jr(e)){Aa&&"function"==typeof Aa.restoreControlledState||r("194");var t=Xr(e.stateNode);Aa.restoreControlledState(e.stateNode,e.type,t)}}function W(e){Pa?Da?Da.push(e):Da=[e]:Pa=e}function $(){return null!==Pa||null!==Da}function G(){if(Pa){var e=Pa,t=Da;if(Da=Pa=null,H(e),t)for(e=0;e<t.length;e++)H(t[e])}}function K(e,t){return e(t)}function Y(e,t,n){return e(t,n)}function Q(){}function X(e,t){if(ja)return e(t);ja=!0;try{return K(e,t)}finally{ja=!1,$()&&(Q(),G())}}function J(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!La[e.type]:"textarea"===t}function Z(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ee(e,t){return!(!Mr.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ne(e){var t=te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function re(e){e._valueTracker||(e._valueTracker=ne(e))}function ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=te(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function oe(e){return null==e?null:"function"==typeof(e=Xa&&e[Xa]||e["@@iterator"])?e:null}function ie(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case Ka:return"AsyncMode";case Ga:return"Context.Consumer";case Va:return"ReactFragment";case qa:return"ReactPortal";case Wa:return"Profiler("+e.pendingProps.id+")";case $a:return"Context.Provider";case Ha:return"StrictMode";case Qa:return"Timeout"}return"object"==typeof t&&null!==t&&t.$$typeof===Ya?""!==(e=t.render.displayName||t.render.name||"")?"ForwardRef("+e+")":"ForwardRef":null}function se(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,a=ie(e),o=null;n&&(o=ie(n)),a="\n    in "+(a||"Unknown")+((n=r)?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:a=""}t+=a,e=e.return}while(e);return t}function pe(e){return!!Za.call(to,e)||!Za.call(eo,e)&&(Ja.test(e)?to[e]=!0:(eo[e]=!0,!1))}function le(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function ce(e,t,n,r){if(null==t||le(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ue(e,t,n,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t}function de(e){return e[1].toUpperCase()}function he(e,t,n,r){var a=no.hasOwnProperty(t)?no[t]:null;(null!==a?0===a.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(ce(t,n,a,r)&&(n=null),r||null===a?pe(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function fe(e,t){var n=t.checked;return jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function me(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ce(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ge(e,t){null!=(t=t.checked)&&he(e,"checked",t,!1)}function ve(e,t){ge(e,t);var n=Ce(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?be(e,t.type,n):t.hasOwnProperty("defaultValue")&&be(e,t.type,Ce(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ye(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var r=e.value;n||t===r||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==n&&(e.name=n)}function be(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function xe(e,t,n){return(e=M.getPooled(ao.change,e,t,n)).type="change",W(n),k(e),e}function we(e){v(e,!1)}function Ee(e){if(ae(C(e)))return e}function _e(e,t){if("change"===e)return t}function Te(){oo&&(oo.detachEvent("onpropertychange",Se),io=oo=null)}function Se(e){"value"===e.propertyName&&Ee(io)&&X(we,e=xe(io,e,Z(e)))}function Re(e,t,n){"focus"===e?(Te(),io=n,(oo=t).attachEvent("onpropertychange",Se)):"blur"===e&&Te()}function Ne(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ee(io)}function ke(e,t){if("click"===e)return Ee(t)}function ze(e,t){if("input"===e||"change"===e)return Ee(t)}function Oe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=co[e])&&!!t[e]}function Ae(){return Oe}function Ie(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(2&t.effectTag)return 1;for(;t.return;)if(2&(t=t.return).effectTag)return 1}return 3===t.tag?2:3}function Pe(e){2!==Ie(e)&&r("188")}function De(e){var t=e.alternate;if(!t)return 3===(t=Ie(e))&&r("188"),1===t?null:e;for(var n=e,a=t;;){var o=n.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var s=o.child;s;){if(s===n)return Pe(o),e;if(s===a)return Pe(o),t;s=s.sibling}r("188")}if(n.return!==a.return)n=o,a=i;else{s=!1;for(var p=o.child;p;){if(p===n){s=!0,n=o,a=i;break}if(p===a){s=!0,a=o,n=i;break}p=p.sibling}if(!s){for(p=i.child;p;){if(p===n){s=!0,n=i,a=o;break}if(p===a){s=!0,a=i,n=o;break}p=p.sibling}s||r("189")}}n.alternate!==a&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function Me(e){if(!(e=De(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function je(e){if(!(e=De(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Le(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ue(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},Ro[e]=t,No[n]=t}function Fe(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=b(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],y(e.topLevelType,t,e.nativeEvent,Z(e.nativeEvent))}function Be(e){Ao=!!e}function qe(e,t){if(!t)return null;var n=(zo(e)?He:We).bind(null,e);t.addEventListener(e,n,!1)}function Ve(e,t){if(!t)return null;var n=(zo(e)?He:We).bind(null,e);t.addEventListener(e,n,!0)}function He(e,t){Y(We,e,t)}function We(e,t){if(Ao){var n=Z(t);if(null===(n=b(n))||"number"!=typeof n.tag||2===Ie(n)||(n=null),Oo.length){var r=Oo.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{X(Fe,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Oo.length&&Oo.push(e)}}}function $e(e){return Object.prototype.hasOwnProperty.call(e,Mo)||(e[Mo]=Do++,Po[e[Mo]]={}),Po[e[Mo]]}function Ge(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,t){var n,r=Ge(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ge(r)}}function Ye(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Qe(e,t){if(qo||null==Uo||Uo!==Ur())return null;var n=Uo;return"selectionStart"in n&&Ye(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Bo&&Fr(Bo,n)?null:(Bo=n,(e=M.getPooled(Lo.select,Fo,e,t)).type="select",e.target=Uo,k(e),e)}function Xe(e){var t="";return Dr.Children.forEach(e,(function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)})),t}function Je(e,t){return e=jr({children:void 0},t),(t=Xe(t.children))&&(e.children=t),e}function Ze(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function et(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function tt(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nt(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function rt(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function at(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function ot(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ot(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function st(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function pt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=n,o=t[n];a=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||mi.hasOwnProperty(a)&&mi[a]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}function lt(e,t,n){t&&(vi[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",n()))}function ct(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ut(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Yr[t];for(var r=0;r<t.length;r++){var a=t[r];if(!n.hasOwnProperty(a)||!n[a]){switch(a){case"scroll":Ve("scroll",e);break;case"focus":case"blur":Ve("focus",e),Ve("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ee(a,!0)&&Ve(a,e);break;case"invalid":case"submit":case"reset":break;default:-1===ma.indexOf(a)&&qe(a,e)}n[a]=!0}}}function dt(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===di.html&&(r=ot(e)),r===di.html?"script"===e?((e=n.createElement("div")).innerHTML="<script></script>",
e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function ht(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function ft(e,t,n,r){var a=ct(t,n);switch(t){case"iframe":case"object":qe("load",e);var o=n;break;case"video":case"audio":for(o=0;o<ma.length;o++)qe(ma[o],e);o=n;break;case"source":qe("error",e),o=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),o=n;break;case"form":qe("reset",e),qe("submit",e),o=n;break;case"details":qe("toggle",e),o=n;break;case"input":me(e,n),o=fe(e,n),qe("invalid",e),ut(r,"onChange");break;case"option":o=Je(e,n);break;case"select":et(e,n),o=jr({},n,{value:void 0}),qe("invalid",e),ut(r,"onChange");break;case"textarea":nt(e,n),o=tt(e,n),qe("invalid",e),ut(r,"onChange");break;default:o=n}lt(t,o,yi);var i,s=o;for(i in s)if(s.hasOwnProperty(i)){var p=s[i];"style"===i?pt(e,p,yi):"dangerouslySetInnerHTML"===i?null!=(p=p?p.__html:void 0)&&fi(e,p):"children"===i?"string"==typeof p?("textarea"!==t||""!==p)&&st(e,p):"number"==typeof p&&st(e,""+p):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(Kr.hasOwnProperty(i)?null!=p&&ut(r,i):null!=p&&he(e,i,p,a))}switch(t){case"input":re(e),ye(e,n,!1);break;case"textarea":re(e),at(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?Ze(e,!!n.multiple,t,!1):null!=n.defaultValue&&Ze(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Lr)}}function mt(e,t,n,r,a){var o=null;switch(t){case"input":n=fe(e,n),r=fe(e,r),o=[];break;case"option":n=Je(e,n),r=Je(e,r),o=[];break;case"select":n=jr({},n,{value:void 0}),r=jr({},r,{value:void 0}),o=[];break;case"textarea":n=tt(e,n),r=tt(e,r),o=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=Lr)}lt(t,r,yi),t=e=void 0;var i=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var s=n[e];for(t in s)s.hasOwnProperty(t)&&(i||(i={}),i[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(Kr.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in r){var p=r[e];if(s=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&p!==s&&(null!=p||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||p&&p.hasOwnProperty(t)||(i||(i={}),i[t]="");for(t in p)p.hasOwnProperty(t)&&s[t]!==p[t]&&(i||(i={}),i[t]=p[t])}else i||(o||(o=[]),o.push(e,i)),i=p;else"dangerouslySetInnerHTML"===e?(p=p?p.__html:void 0,s=s?s.__html:void 0,null!=p&&s!==p&&(o=o||[]).push(e,""+p)):"children"===e?s===p||"string"!=typeof p&&"number"!=typeof p||(o=o||[]).push(e,""+p):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(Kr.hasOwnProperty(e)?(null!=p&&ut(a,e),o||s===p||(o=[])):(o=o||[]).push(e,p))}return i&&(o=o||[]).push("style",i),o}function gt(e,t,n,r,a){"input"===n&&"radio"===a.type&&null!=a.name&&ge(e,a),ct(n,r),r=ct(n,a);for(var o=0;o<t.length;o+=2){var i=t[o],s=t[o+1];"style"===i?pt(e,s,yi):"dangerouslySetInnerHTML"===i?fi(e,s):"children"===i?st(e,s):he(e,i,s,r)}switch(n){case"input":ve(e,a);break;case"textarea":rt(e,a);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!a.multiple,null!=(n=a.value)?Ze(e,!!a.multiple,n,!1):t!==!!a.multiple&&(null!=a.defaultValue?Ze(e,!!a.multiple,a.defaultValue,!0):Ze(e,!!a.multiple,a.multiple?[]:"",!1))}}function vt(e,t,n,r,a){switch(t){case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(r=0;r<ma.length;r++)qe(ma[r],e);break;case"source":qe("error",e);break;case"img":case"image":case"link":qe("error",e),qe("load",e);break;case"form":qe("reset",e),qe("submit",e);break;case"details":qe("toggle",e);break;case"input":me(e,n),qe("invalid",e),ut(a,"onChange");break;case"select":et(e,n),qe("invalid",e),ut(a,"onChange");break;case"textarea":nt(e,n),qe("invalid",e),ut(a,"onChange")}for(var o in lt(t,n,yi),r=null,n)if(n.hasOwnProperty(o)){var i=n[o];"children"===o?"string"==typeof i?e.textContent!==i&&(r=["children",i]):"number"==typeof i&&e.textContent!==""+i&&(r=["children",""+i]):Kr.hasOwnProperty(o)&&null!=i&&ut(a,o)}switch(t){case"input":re(e),ye(e,n,!0);break;case"textarea":re(e),at(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=Lr)}return r}function yt(e,t){return e.nodeValue!==t}function bt(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ct(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html}function xt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function wt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Et(e){return{current:e}}function _t(e){0>Si||(e.current=Ti[Si],Ti[Si]=null,Si--)}function Tt(e,t){Si++,Ti[Si]=e.current,e.current=t}function St(e){return Nt(e)?ki:Ri.current}function Rt(e,t){var n=e.type.contextTypes;if(!n)return qr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Nt(e){return 2===e.tag&&null!=e.type.childContextTypes}function kt(e){Nt(e)&&(_t(Ni,e),_t(Ri,e))}function zt(e){_t(Ni,e),_t(Ri,e)}function Ot(e,t,n){Ri.current!==qr&&r("168"),Tt(Ri,t,e),Tt(Ni,n,e)}function At(e,t){var n=e.stateNode,a=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var o in n=n.getChildContext())o in a||r("108",ie(e)||"Unknown",o);return jr({},t,n)}function It(e){if(!Nt(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||qr,ki=Ri.current,Tt(Ri,t,e),Tt(Ni,Ni.current,e),!0}function Pt(e,t){var n=e.stateNode;if(n||r("169"),t){var a=At(e,ki);n.__reactInternalMemoizedMergedChildContext=a,_t(Ni,e),_t(Ri,e),Tt(Ri,a,e)}else _t(Ni,e);Tt(Ni,t,e)}function Dt(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Mt(e,t,n){var r=e.alternate;return null===r?((r=new Dt(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jt(e,t,n){var a=e.type,o=e.key;if(e=e.props,"function"==typeof a)var i=a.prototype&&a.prototype.isReactComponent?2:0;else if("string"==typeof a)i=5;else switch(a){case Va:return Lt(e.children,t,n,o);case Ka:i=11,t|=3;break;case Ha:i=11,t|=2;break;case Wa:return(a=new Dt(15,e,o,4|t)).type=Wa,a.expirationTime=n,a;case Qa:i=16,t|=2;break;default:e:{switch("object"==typeof a&&null!==a?a.$$typeof:null){case $a:i=13;break e;case Ga:i=12;break e;case Ya:i=14;break e;default:r("130",null==a?a:typeof a,"")}i=void 0}}return(t=new Dt(i,e,o,t)).type=a,t.expirationTime=n,t}function Lt(e,t,n,r){return(e=new Dt(10,e,r,t)).expirationTime=n,e}function Ut(e,t,n){return(e=new Dt(6,e,null,t)).expirationTime=n,e}function Ft(e,t,n){return(t=new Dt(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bt(e,t,n){return e={current:t=new Dt(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}function qt(e){return function(t){try{return e(t)}catch(e){}}}function Vt(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);zi=qt((function(e){return t.onCommitFiberRoot(n,e)})),Oi=qt((function(e){return t.onCommitFiberUnmount(n,e)}))}catch(e){}return!0}function Ht(e){"function"==typeof zi&&zi(e)}function Wt(e){"function"==typeof Oi&&Oi(e)}function $t(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Gt(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Kt(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Yt(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function Qt(e,t,n){var r=e.alternate;if(null===r){var a=e.updateQueue,o=null;null===a&&(a=e.updateQueue=$t(e.memoizedState))}else a=e.updateQueue,o=r.updateQueue,null===a?null===o?(a=e.updateQueue=$t(e.memoizedState),o=r.updateQueue=$t(r.memoizedState)):a=e.updateQueue=Gt(o):null===o&&(o=r.updateQueue=Gt(a));null===o||a===o?Yt(a,t,n):null===a.lastUpdate||null===o.lastUpdate?(Yt(a,t,n),Yt(o,t,n)):(Yt(a,t,n),o.lastUpdate=t)}function Xt(e,t,n){var r=e.updateQueue;null===(r=null===r?e.updateQueue=$t(e.memoizedState):Jt(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function Jt(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Gt(t)),t}function Zt(e,t,n,r,a,o){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(o,r,a):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null==(a="function"==typeof(e=n.payload)?e.call(o,r,a):e))break;return jr({},r,a);case 2:Ai=!0}return r}function en(e,t,n,r,a){if(Ai=!1,!(0===t.expirationTime||t.expirationTime>a)){for(var o=(t=Jt(e,t)).baseState,i=null,s=0,p=t.firstUpdate,l=o;null!==p;){var c=p.expirationTime;c>a?(null===i&&(i=p,o=l),(0===s||s>c)&&(s=c)):(l=Zt(e,t,p,l,n,r),null!==p.callback&&(e.effectTag|=32,p.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=p:(t.lastEffect.nextEffect=p,t.lastEffect=p))),p=p.next}for(c=null,p=t.firstCapturedUpdate;null!==p;){var u=p.expirationTime;u>a?(null===c&&(c=p,null===i&&(o=l)),(0===s||s>u)&&(s=u)):(l=Zt(e,t,p,l,n,r),null!==p.callback&&(e.effectTag|=32,p.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=p:(t.lastCapturedEffect.nextEffect=p,t.lastCapturedEffect=p))),p=p.next}null===i&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===i&&null===c&&(o=l),t.baseState=o,t.firstUpdate=i,t.firstCapturedUpdate=c,t.expirationTime=s,e.memoizedState=l}}function tn(e,t){"function"!=typeof e&&r("191",e),e.call(t)}function nn(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,tn(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)null!==(t=e.callback)&&(e.callback=null,tn(t,n)),e=e.nextEffect}function rn(e,t){return{value:e,source:t,stack:se(t)}}function an(e){var t=e.type._context;Tt(Di,t._changedBits,e),Tt(Pi,t._currentValue,e),Tt(Ii,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function on(e){var t=Di.current,n=Pi.current;_t(Ii,e),_t(Pi,e),_t(Di,e),(e=e.type._context)._currentValue=n,e._changedBits=t}function sn(e){return e===Mi&&r("174"),e}function pn(e,t){Tt(Ui,t,e),Tt(Li,e,e),Tt(ji,Mi,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:it(null,"");break;default:t=it(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}_t(ji,e),Tt(ji,t,e)}function ln(e){_t(ji,e),_t(Li,e),_t(Ui,e)}function cn(e){Li.current===e&&(_t(ji,e),_t(Li,e))}function un(e,t,n){var r=e.memoizedState;r=null==(t=t(n,r))?r:jr({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}function dn(e,t,n,r,a,o){var i=e.stateNode;return e=e.type,"function"==typeof i.shouldComponentUpdate?i.shouldComponentUpdate(n,a,o):!(e.prototype&&e.prototype.isPureReactComponent&&Fr(t,n)&&Fr(r,a))}function hn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fi.enqueueReplaceState(t,t.state,null)}function fn(e,t){var n=e.type,r=e.stateNode,a=e.pendingProps,o=St(e);r.props=a,r.state=e.memoizedState,r.refs=qr,r.context=Rt(e,o),null!==(o=e.updateQueue)&&(en(e,o,a,r,t),r.state=e.memoizedState),"function"==typeof(o=e.type.getDerivedStateFromProps)&&(un(e,o,a),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&Fi.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(en(e,o,a,r,t),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}function mn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var a=void 0;n&&(2!==n.tag&&r("110"),a=n.stateNode),a||r("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs===qr?a.refs={}:a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}"string"!=typeof e&&r("148"),n._owner||r("254",e)}return e}function gn(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function vn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Mt(e,t,n)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function p(e,t,n,r){return null===t||6!==t.tag?((t=Ut(n,e.mode,r)).return=e,t):((t=o(t,n,r)).return=e,t)}function l(e,t,n,r){return null!==t&&t.type===n.type?((r=o(t,n.props,r)).ref=mn(e,t,n),r.return=e,r):((r=jt(n,e.mode,r)).ref=mn(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ft(n,e.mode,r)).return=e,t):((t=o(t,n.children||[],r)).return=e,t)}function u(e,t,n,r,a){return null===t||10!==t.tag?((t=Lt(n,e.mode,r,a)).return=e,t):((t=o(t,n,r)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ut(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ba:return(n=jt(t,e.mode,n)).ref=mn(e,null,t),n.return=e,n;case qa:return(t=Ft(t,e.mode,n)).return=e,t}if(Bi(t)||oe(t))return(t=Lt(t,e.mode,n,null)).return=e,t;gn(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:p(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ba:return n.key===a?n.type===Va?u(e,t,n.props.children,r,a):l(e,t,n,r):null;case qa:return n.key===a?c(e,t,n,r):null}if(Bi(n)||oe(n))return null!==a?null:u(e,t,n,r,null);gn(e,n)}return null}function f(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return p(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ba:return e=e.get(null===r.key?n:r.key)||null,r.type===Va?u(t,e,r.props.children,a,r.key):l(t,e,r,a);case qa:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(Bi(r)||oe(r))return u(t,e=e.get(n)||null,r,a,null);gn(t,r)}return null}function m(r,o,s,p){for(var l=null,c=null,u=o,m=o=0,g=null;null!==u&&m<s.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var v=h(r,u,s[m],p);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(r,u),o=i(v,o,m),null===c?l=v:c.sibling=v,c=v,u=g}if(m===s.length)return n(r,u),l;if(null===u){for(;m<s.length;m++)(u=d(r,s[m],p))&&(o=i(u,o,m),null===c?l=u:c.sibling=u,c=u);return l}for(u=a(r,u);m<s.length;m++)(g=f(u,r,m,s[m],p))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),o=i(g,o,m),null===c?l=g:c.sibling=g,c=g);return e&&u.forEach((function(e){return t(r,e)})),l}function g(o,s,p,l){var c=oe(p);"function"!=typeof c&&r("150"),null==(p=c.call(p))&&r("151");for(var u=c=null,m=s,g=s=0,v=null,y=p.next();null!==m&&!y.done;g++,y=p.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(o,m,y.value,l);if(null===b){m||(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===u?c=b:u.sibling=b,u=b,m=v}if(y.done)return n(o,m),c;if(null===m){for(;!y.done;g++,y=p.next())null!==(y=d(o,y.value,l))&&(s=i(y,s,g),null===u?c=y:u.sibling=y,u=y);return c}for(m=a(o,m);!y.done;g++,y=p.next())null!==(y=f(m,o,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===u?c=y:u.sibling=y,u=y);return e&&m.forEach((function(e){return t(o,e)})),c}return function(e,a,i,p){var l="object"==typeof i&&null!==i&&i.type===Va&&null===i.key;l&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case Ba:e:{for(c=i.key,l=a;null!==l;){if(l.key===c){if(10===l.tag?i.type===Va:l.type===i.type){n(e,l.sibling),(a=o(l,i.type===Va?i.props.children:i.props,p)).ref=mn(e,l,i),a.return=e,e=a;break e}n(e,l);break}t(e,l),l=l.sibling}i.type===Va?((a=Lt(i.props.children,e.mode,p,i.key)).return=e,e=a):((p=jt(i,e.mode,p)).ref=mn(e,a,i),p.return=e,e=p)}return s(e);case qa:e:{for(l=i.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(e,a.sibling),(a=o(a,i.children||[],p)).return=e,e=a;break e}n(e,a);break}t(e,a),a=a.sibling}(a=Ft(i,e.mode,p)).return=e,e=a}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==a&&6===a.tag?(n(e,a.sibling),(a=o(a,i,p)).return=e,e=a):(n(e,a),(a=Ut(i,e.mode,p)).return=e,e=a),s(e);if(Bi(i))return m(e,a,i,p);if(oe(i))return g(e,a,i,p);if(c&&gn(e,i),void 0===i&&!l)switch(e.tag){case 2:case 1:r("152",(p=e.type).displayName||p.name||"Component")}return n(e,a)}}function yn(e,t){var n=new Dt(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function bn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Cn(e){if($i){var t=Wi;if(t){var n=t;if(!bn(e,t)){if(!(t=xt(n))||!bn(e,t))return e.effectTag|=2,$i=!1,void(Hi=e);yn(Hi,n)}Hi=e,Wi=wt(t)}else e.effectTag|=2,$i=!1,Hi=e}}function xn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Hi=e}function wn(e){if(e!==Hi)return!1;if(!$i)return xn(e),$i=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ct(t,e.memoizedProps))for(t=Wi;t;)yn(e,t),t=xt(t);return xn(e),Wi=Hi?xt(e.stateNode):null,!0}function En(){Wi=Hi=null,$i=!1}function _n(e,t,n){Tn(e,t,n,t.expirationTime)}function Tn(e,t,n,r){t.child=null===e?Vi(t,null,n,r):qi(t,e.child,n,r)}function Sn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Rn(e,t,n,r,a){Sn(e,t);var o=!!(64&t.effectTag);if(!n&&!o)return r&&Pt(t,!1),On(e,t);n=t.stateNode,Ua.current=t;var i=o?null:n.render();return t.effectTag|=1,o&&(Tn(e,t,null,a),t.child=null),Tn(e,t,i,a),t.memoizedState=n.state,t.memoizedProps=n.props,r&&Pt(t,!0),t.child}function Nn(e){var t=e.stateNode;t.pendingContext?Ot(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ot(e,t.context,!1),pn(e,t.containerInfo)}function kn(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){switch(a.tag){case 12:var o=0|a.stateNode;if(a.type===t&&o&n){for(o=a;null!==o;){var i=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==i&&(0===i.expirationTime||i.expirationTime>r)&&(i.expirationTime=r);else{if(null===i||!(0===i.expirationTime||i.expirationTime>r))break;i.expirationTime=r}o=o.return}o=null}else o=a.child;break;case 13:o=a.type===e.type?null:a.child;break;default:o=a.child}if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function zn(e,t,n){var r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=!0;if(Ni.current)i=!1;else if(o===a)return t.stateNode=0,an(t),On(e,t);var s=a.value;if(t.memoizedProps=a,null===o)s=1073741823;else if(o.value===a.value){if(o.children===a.children&&i)return t.stateNode=0,an(t),On(e,t);s=0}else{var p=o.value;if(p===s&&(0!==p||1/p==1/s)||p!=p&&s!=s){if(o.children===a.children&&i)return t.stateNode=0,an(t),On(e,t);s=0}else if(s="function"==typeof r._calculateChangedBits?r._calculateChangedBits(p,s):1073741823,0===(s|=0)){if(o.children===a.children&&i)return t.stateNode=0,an(t),On(e,t)}else kn(t,r,s,n)}return t.stateNode=s,an(t),_n(e,t,a.children),t.child}function On(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){var n=Mt(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mt(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function An(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:Nn(t);break;case 2:It(t);break;case 4:pn(t,t.stateNode.containerInfo);break;case 13:an(t)}return null}switch(t.tag){case 0:null!==e&&r("155");var a=t.type,o=t.pendingProps,i=St(t);return a=a(o,i=Rt(t,i)),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(i=t.type,t.tag=2,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,"function"==typeof(i=i.getDerivedStateFromProps)&&un(t,i,o),o=It(t),a.updater=Fi,t.stateNode=a,a._reactInternalFiber=t,fn(t,n),e=Rn(e,t,!0,o,n)):(t.tag=1,_n(e,t,a),t.memoizedProps=o,e=t.child),e;case 1:return o=t.type,n=t.pendingProps,Ni.current||t.memoizedProps!==n?(o=o(n,a=Rt(t,a=St(t))),t.effectTag|=1,_n(e,t,o),t.memoizedProps=n,e=t.child):e=On(e,t),e;case 2:if(o=It(t),null===e)if(null===t.stateNode){var s=t.pendingProps,p=t.type;a=St(t);var l=2===t.tag&&null!=t.type.contextTypes;s=new p(s,i=l?Rt(t,a):qr),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Fi,t.stateNode=s,s._reactInternalFiber=t,l&&((l=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,l.__reactInternalMemoizedMaskedChildContext=i),fn(t,n),a=!0}else{p=t.type,a=t.stateNode,l=t.memoizedProps,i=t.pendingProps,a.props=l;var c=a.context;s=Rt(t,s=St(t));var u=p.getDerivedStateFromProps;(p="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==i||c!==s)&&hn(t,a,i,s),Ai=!1;var d=t.memoizedState;c=a.state=d;var h=t.updateQueue;null!==h&&(en(t,h,i,a,n),c=t.memoizedState),l!==i||d!==c||Ni.current||Ai?("function"==typeof u&&(un(t,u,i),c=t.memoizedState),(l=Ai||dn(t,l,i,d,c,s))?(p||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,a=l):("function"==typeof a.componentDidMount&&(t.effectTag|=4),a=!1)}else p=t.type,a=t.stateNode,i=t.memoizedProps,l=t.pendingProps,a.props=i,c=a.context,s=Rt(t,s=St(t)),(p="function"==typeof(u=p.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i!==l||c!==s)&&hn(t,a,l,s),Ai=!1,c=t.memoizedState,d=a.state=c,null!==(h=t.updateQueue)&&(en(t,h,l,a,n),d=t.memoizedState),i!==l||c!==d||Ni.current||Ai?("function"==typeof u&&(un(t,u,l),d=t.memoizedState),(u=Ai||dn(t,i,l,c,d,s))?(p||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(l,d,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(l,d,s)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=l,t.memoizedState=d),a.props=l,a.state=d,a.context=s,a=u):("function"!=typeof a.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),a=!1);return Rn(e,t,a,o,n);case 3:return Nn(t),null!==(o=t.updateQueue)?(a=null!==(a=t.memoizedState)?a.element:null,en(t,o,t.pendingProps,null,n),(o=t.memoizedState.element)===a?(En(),e=On(e,t)):(a=t.stateNode,(a=(null===e||null===e.child)&&a.hydrate)&&(Wi=wt(t.stateNode.containerInfo),Hi=t,a=$i=!0),a?(t.effectTag|=2,t.child=Vi(t,null,o,n)):(En(),_n(e,t,o)),e=t.child)):(En(),e=On(e,t)),e;case 5:return sn(Ui.current),(o=sn(ji.current))!==(a=it(o,t.type))&&(Tt(Li,t,t),Tt(ji,a,t)),null===e&&Cn(t),o=t.type,l=t.memoizedProps,a=t.pendingProps,i=null!==e?e.memoizedProps:null,Ni.current||l!==a||((l=1&t.mode&&!!a.hidden)&&(t.expirationTime=1073741823),l&&1073741823===n)?(l=a.children,Ct(o,a)?l=null:i&&Ct(o,i)&&(t.effectTag|=16),Sn(e,t),1073741823!==n&&1&t.mode&&a.hidden?(t.expirationTime=1073741823,t.memoizedProps=a,e=null):(_n(e,t,l),t.memoizedProps=a,e=t.child)):e=On(e,t),e;case 6:return null===e&&Cn(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return pn(t,t.stateNode.containerInfo),o=t.pendingProps,Ni.current||t.memoizedProps!==o?(null===e?t.child=qi(t,null,o,n):_n(e,t,o),t.memoizedProps=o,e=t.child):e=On(e,t),e;case 14:return o=t.type.render,n=t.pendingProps,a=t.ref,Ni.current||t.memoizedProps!==n||a!==(null!==e?e.ref:null)?(_n(e,t,o=o(n,a)),t.memoizedProps=n,e=t.child):e=On(e,t),e;case 10:return n=t.pendingProps,Ni.current||t.memoizedProps!==n?(_n(e,t,n),t.memoizedProps=n,e=t.child):e=On(e,t),e;case 11:return n=t.pendingProps.children,Ni.current||null!==n&&t.memoizedProps!==n?(_n(e,t,n),t.memoizedProps=n,e=t.child):e=On(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=On(e,t):(_n(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return zn(e,t,n);case 12:e:if(a=t.type,i=t.pendingProps,l=t.memoizedProps,o=a._currentValue,s=a._changedBits,Ni.current||0!==s||l!==i){if(t.memoizedProps=i,null!=(p=i.unstable_observedBits)||(p=1073741823),t.stateNode=p,s&p)kn(t,a,s,n);else if(l===i){e=On(e,t);break e}n=(n=i.children)(o),t.effectTag|=1,_n(e,t,n),e=t.child}else e=On(e,t);return e;default:r("156")}}function In(e){e.effectTag|=4}function Pn(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return kt(t),null;case 3:ln(t),zt(t);var a=t.stateNode;return a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(wn(t),t.effectTag&=-3),Gi(t),null;case 5:cn(t),a=sn(Ui.current);var o=t.type;if(null!==e&&null!=t.stateNode){var i=e.memoizedProps,s=t.stateNode,p=sn(ji.current);s=mt(s,o,i,n,a),Ki(e,t,s,o,i,n,a,p),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&r("166"),null;if(e=sn(ji.current),wn(t))n=t.stateNode,o=t.type,i=t.memoizedProps,n[aa]=t,n[oa]=i,a=vt(n,o,i,e,a),t.updateQueue=a,null!==a&&In(t);else{(e=dt(o,n,a,e))[aa]=t,e[oa]=n;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}ft(e,o,n,a),bt(o,n)&&In(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Yi(e,t,e.memoizedProps,n);else{if("string"!=typeof n)return null===t.stateNode&&r("166"),null;a=sn(Ui.current),sn(ji.current),wn(t)?(a=t.stateNode,n=t.memoizedProps,a[aa]=t,yt(a,n)&&In(t)):((a=ht(n,a))[aa]=t,t.stateNode=a)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return ln(t),Gi(t),null;case 13:return on(t),null;case 12:return null;case 0:r("167");default:r("156")}}function Dn(e,t){var n=t.source;null===t.stack&&null!==n&&se(n),null!==n&&ie(n),t=t.value,null!==e&&2===e.tag&&ie(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Mn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Qn(e,t)}else t.current=null}function jn(e){switch("function"==typeof Wt&&Wt(e),e.tag){case 2:Mn(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Qn(e,t)}break;case 5:Mn(e);break;case 4:Fn(e)}}function Ln(e){return 5===e.tag||3===e.tag||4===e.tag}function Un(e){e:{for(var t=e.return;null!==t;){if(Ln(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var a=t=void 0;switch(n.tag){case 5:t=n.stateNode,a=!1;break;case 3:case 4:t=n.stateNode.containerInfo,a=!0;break;default:r("161")}16&n.effectTag&&(st(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ln(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(n)if(a){var i=t,s=o.stateNode,p=n;8===i.nodeType?i.parentNode.insertBefore(s,p):i.insertBefore(s,p)}else t.insertBefore(o.stateNode,n);else a?(i=t,s=o.stateNode,8===i.nodeType?i.parentNode.insertBefore(s,i):i.appendChild(s)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Fn(e){for(var t=e,n=!1,a=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case 5:a=n.stateNode,o=!1;break e;case 3:case 4:a=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var i=t,s=i;;)if(jn(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(i=a,s=t.stateNode,8===i.nodeType?i.parentNode.removeChild(s):i.removeChild(s)):a.removeChild(t.stateNode)}else if(4===t.tag?a=t.stateNode.containerInfo:jn(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Bn(e,t){switch(t.tag){case 2:case 3:case 15:case 16:break;case 5:var n=t.stateNode;if(null!=n){var a=t.memoizedProps;e=null!==e?e.memoizedProps:a;var o=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&(n[oa]=a,gt(n,i,o,e,a))}break;case 6:null===t.stateNode&&r("162"),t.stateNode.nodeValue=t.memoizedProps;break;default:
r("163")}}function qn(e,t,n){(n=Kt(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fr(r),Dn(e,t)},n}function Vn(e,t,n){(n=Kt(n)).tag=3;var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){null===cs?cs=new Set([this]):cs.add(this);var n=t.value,r=t.stack;Dn(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Hn(e,t,n,r,a,o){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=rn(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,void Xt(e,r=qn(e,r,o),o);case 2:if(t=r,n=e.stateNode,!(64&e.effectTag||null===n||"function"!=typeof n.componentDidCatch||null!==cs&&cs.has(n)))return e.effectTag|=1024,void Xt(e,r=Vn(e,t,o),o)}e=e.return}while(null!==e)}function Wn(e){switch(e.tag){case 2:kt(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return ln(e),zt(e),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return cn(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 4:return ln(e),null;case 13:return on(e),null;default:return null}}function $n(){if(null!==ns)for(var e=ns.return;null!==e;){var t=e;switch(t.tag){case 2:kt(t);break;case 3:ln(t),zt(t);break;case 5:cn(t);break;case 4:ln(t);break;case 13:on(t)}e=e.return}rs=null,as=0,os=-1,is=!1,ns=null,ls=!1}function Gn(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(512&e.effectTag){if(null!==(e=Wn(e,is,as)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}else{t=Pn(t,e,as);var a=e;if(1073741823===as||1073741823!==a.expirationTime){var o=0;switch(a.tag){case 3:case 2:var i=a.updateQueue;null!==i&&(o=i.expirationTime)}for(i=a.child;null!==i;)0!==i.expirationTime&&(0===o||o>i.expirationTime)&&(o=i.expirationTime),i=i.sibling;a.expirationTime=o}if(null!==t)return t;if(null!==n&&!(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){ls=!0;break}e=n}}return null}function Kn(e){var t=An(e.alternate,e,as);return null===t&&(t=Gn(e)),Ua.current=null,t}function Yn(e,t,n){ts&&r("243"),ts=!0,t===as&&e===rs&&null!==ns||($n(),as=t,os=-1,ns=Mt((rs=e).current,null,as),e.pendingCommitExpirationTime=0);var a=!1;for(is=!n||as<=Xi;;){try{if(n)for(;null!==ns&&!hr();)ns=Kn(ns);else for(;null!==ns;)ns=Kn(ns)}catch(t){if(null===ns)a=!0,fr(t);else{null===ns&&r("271");var o=(n=ns).return;if(null===o){a=!0,fr(t);break}Hn(e,o,n,t,is,as,Ji),ns=Gn(n)}}break}if(ts=!1,a)return null;if(null===ns){if(ls)return e.pendingCommitExpirationTime=t,e.current.alternate;is&&r("262"),0<=os&&setTimeout((function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&ar(e,t)}),os),mr(e.current.expirationTime)}return null}function Qn(e,t){var n;e:{for(ts&&!ps&&r("263"),n=e.return;null!==n;){switch(n.tag){case 2:var a=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof a.componentDidCatch&&(null===cs||!cs.has(a))){Qt(n,e=Vn(n,e=rn(t,e),1),1),Zn(n,1),n=void 0;break e}break;case 3:Qt(n,e=qn(n,e=rn(t,e),1),1),Zn(n,1),n=void 0;break e}n=n.return}3===e.tag&&(Qt(e,n=qn(e,n=rn(t,e),1),1),Zn(e,1)),n=void 0}return n}function Xn(){var e=2+25*(1+((er()-2+500)/25|0));return e<=Zi&&(e=Zi+1),Zi=e}function Jn(e,t){return e=0!==es?es:ts?ps?1:as:1&t.mode?Ts?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Ts&&(0===ys||e>ys)&&(ys=e),e}function Zn(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!ts&&0!==as&&t<as&&$n();var a=n.current.expirationTime;ts&&!ps&&rs===n||ar(n,a),Ns>Rs&&r("185")}e=e.return}}function er(){return Ji=wi()-Qi,Xi=2+(Ji/10|0)}function tr(e){var t=es;es=2+25*(1+((er()-2+500)/25|0));try{return e()}finally{es=t}}function nr(e,t,n,r,a){var o=es;es=1;try{return e(t,n,r,a)}finally{es=o}}function rr(e){if(0!==hs){if(e>hs)return;null!==fs&&_i(fs)}var t=wi()-Qi;hs=e,fs=Ei(ir,{timeout:10*(e-2)-t})}function ar(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===ds?(us=ds=e,e.nextScheduledRoot=e):(ds=ds.nextScheduledRoot=e).nextScheduledRoot=us;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}ms||(Es?_s&&(gs=e,vs=1,ur(e,1,!1)):1===t?sr():rr(t))}function or(){var e=0,t=null;if(null!==ds)for(var n=ds,a=us;null!==a;){var o=a.remainingExpirationTime;if(0===o){if((null===n||null===ds)&&r("244"),a===a.nextScheduledRoot){us=ds=a.nextScheduledRoot=null;break}if(a===us)us=o=a.nextScheduledRoot,ds.nextScheduledRoot=o,a.nextScheduledRoot=null;else{if(a===ds){(ds=n).nextScheduledRoot=us,a.nextScheduledRoot=null;break}n.nextScheduledRoot=a.nextScheduledRoot,a.nextScheduledRoot=null}a=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=a),a===ds)break;n=a,a=a.nextScheduledRoot}}null!==(n=gs)&&n===t&&1===e?Ns++:Ns=0,gs=t,vs=e}function ir(e){pr(0,!0,e)}function sr(){pr(1,!1,null)}function pr(e,t,n){if(ws=n,or(),t)for(;null!==gs&&0!==vs&&(0===e||e>=vs)&&(!bs||er()>=vs);)er(),ur(gs,vs,!bs),or();else for(;null!==gs&&0!==vs&&(0===e||e>=vs);)ur(gs,vs,!1),or();null!==ws&&(hs=0,fs=null),0!==vs&&rr(vs),ws=null,bs=!1,cr()}function lr(e,t){ms&&r("253"),gs=e,vs=t,ur(e,t,!1),sr(),cr()}function cr(){if(Ns=0,null!==Ss){var e=Ss;Ss=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Cs||(Cs=!0,xs=e)}}}if(Cs)throw e=xs,xs=null,Cs=!1,e}function ur(e,t,n){ms&&r("245"),ms=!0,n?null!==(n=e.finishedWork)?dr(e,n,t):null!==(n=Yn(e,t,!0))&&(hr()?e.finishedWork=n:dr(e,n,t)):null!==(n=e.finishedWork)?dr(e,n,t):null!==(n=Yn(e,t,!1))&&dr(e,n,t),ms=!1}function dr(e,t,n){var a=e.firstBatch;if(null!==a&&a._expirationTime<=n&&(null===Ss?Ss=[a]:Ss.push(a),a._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,ps=ts=!0,(n=t.stateNode).current===t&&r("177"),0===(a=n.pendingCommitExpirationTime)&&r("261"),n.pendingCommitExpirationTime=0,er(),Ua.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var o=t.firstEffect}else o=t;else o=t.firstEffect;Ci=Ao;var i=Ur();if(Ye(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{var p=window.getSelection&&window.getSelection();if(p&&0!==p.rangeCount){s=p.anchorNode;var l=p.anchorOffset,c=p.focusNode;p=p.focusOffset;try{s.nodeType,c.nodeType}catch(e){s=null;break e}var u=0,d=-1,h=-1,f=0,m=0,g=i,v=null;t:for(;;){for(var y;g!==s||0!==l&&3!==g.nodeType||(d=u+l),g!==c||0!==p&&3!==g.nodeType||(h=u+p),3===g.nodeType&&(u+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===i)break t;if(v===s&&++f===l&&(d=u),v===c&&++m===p&&(h=u),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}s=-1===d||-1===h?null:{start:d,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;for(xi={focusedElem:i,selectionRange:s},Be(!1),ss=o;null!==ss;){i=!1,s=void 0;try{for(;null!==ss;){if(256&ss.effectTag){var b=ss.alternate;switch((l=ss).tag){case 2:if(256&l.effectTag&&null!==b){var C=b.memoizedProps,x=b.memoizedState,w=l.stateNode;w.props=l.memoizedProps,w.state=l.memoizedState;var E=w.getSnapshotBeforeUpdate(C,x);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:case 5:case 6:case 4:break;default:r("163")}}ss=ss.nextEffect}}catch(e){i=!0,s=e}i&&(null===ss&&r("178"),Qn(ss,s),null!==ss&&(ss=ss.nextEffect))}for(ss=o;null!==ss;){b=!1,C=void 0;try{for(;null!==ss;){var _=ss.effectTag;if(16&_&&st(ss.stateNode,""),128&_){var T=ss.alternate;if(null!==T){var S=T.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(14&_){case 2:Un(ss),ss.effectTag&=-3;break;case 6:Un(ss),ss.effectTag&=-3,Bn(ss.alternate,ss);break;case 4:Bn(ss.alternate,ss);break;case 8:Fn(x=ss),x.return=null,x.child=null,x.alternate&&(x.alternate.child=null,x.alternate.return=null)}ss=ss.nextEffect}}catch(e){b=!0,C=e}b&&(null===ss&&r("178"),Qn(ss,C),null!==ss&&(ss=ss.nextEffect))}if(S=xi,T=Ur(),_=S.focusedElem,b=S.selectionRange,T!==_&&Br(document.documentElement,_)){null!==b&&Ye(_)&&(T=b.start,void 0===(S=b.end)&&(S=T),"selectionStart"in _?(_.selectionStart=T,_.selectionEnd=Math.min(S,_.value.length)):window.getSelection&&(T=window.getSelection(),C=_[I()].length,S=Math.min(b.start,C),b=void 0===b.end?S:Math.min(b.end,C),!T.extend&&S>b&&(C=b,b=S,S=C),C=Ke(_,S),x=Ke(_,b),C&&x&&(1!==T.rangeCount||T.anchorNode!==C.node||T.anchorOffset!==C.offset||T.focusNode!==x.node||T.focusOffset!==x.offset)&&((w=document.createRange()).setStart(C.node,C.offset),T.removeAllRanges(),S>b?(T.addRange(w),T.extend(x.node,x.offset)):(w.setEnd(x.node,x.offset),T.addRange(w))))),T=[];for(S=_;S=S.parentNode;)1===S.nodeType&&T.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<T.length;_++)(S=T[_]).element.scrollLeft=S.left,S.element.scrollTop=S.top}for(xi=null,Be(Ci),Ci=null,n.current=t,ss=o;null!==ss;){o=!1,_=void 0;try{for(T=a;null!==ss;){var R=ss.effectTag;if(36&R){var N=ss.alternate;switch(b=T,(S=ss).tag){case 2:var k=S.stateNode;if(4&S.effectTag)if(null===N)k.props=S.memoizedProps,k.state=S.memoizedState,k.componentDidMount();else{var z=N.memoizedProps,O=N.memoizedState;k.props=S.memoizedProps,k.state=S.memoizedState,k.componentDidUpdate(z,O,k.__reactInternalSnapshotBeforeUpdate)}var A=S.updateQueue;null!==A&&(k.props=S.memoizedProps,k.state=S.memoizedState,nn(S,A,k,b));break;case 3:var P=S.updateQueue;if(null!==P){if(C=null,null!==S.child)switch(S.child.tag){case 5:case 2:C=S.child.stateNode}nn(S,P,C,b)}break;case 5:var D=S.stateNode;null===N&&4&S.effectTag&&bt(S.type,S.memoizedProps)&&D.focus();break;case 6:case 4:case 15:case 16:break;default:r("163")}}if(128&R){S=void 0;var M=ss.ref;if(null!==M){var j=ss.stateNode;ss.tag,S=j,"function"==typeof M?M(S):M.current=S}}var L=ss.nextEffect;ss.nextEffect=null,ss=L}}catch(e){o=!0,_=e}o&&(null===ss&&r("178"),Qn(ss,_),null!==ss&&(ss=ss.nextEffect))}ts=ps=!1,"function"==typeof Ht&&Ht(t.stateNode),0===(t=n.current.expirationTime)&&(cs=null),e.remainingExpirationTime=t}function hr(){return!(null===ws||ws.timeRemaining()>ks)&&(bs=!0)}function fr(e){null===gs&&r("246"),gs.remainingExpirationTime=0,Cs||(Cs=!0,xs=e)}function mr(e){null===gs&&r("246"),gs.remainingExpirationTime=e}function gr(e,t){var n=Es;Es=!0;try{return e(t)}finally{(Es=n)||ms||sr()}}function vr(e,t){if(Es&&!_s){_s=!0;try{return e(t)}finally{_s=!1}}return e(t)}function yr(e,t){ms&&r("187");var n=Es;Es=!0;try{return nr(e,t)}finally{Es=n,sr()}}function br(e,t,n){if(Ts)return e(t,n);Es||ms||0===ys||(pr(ys,!1,null),ys=0);var r=Ts,a=Es;Es=Ts=!0;try{return e(t,n)}finally{Ts=r,(Es=a)||ms||sr()}}function Cr(e){var t=Es;Es=!0;try{nr(e)}finally{(Es=t)||ms||pr(1,!1,null)}}function xr(e,t,n,a,o){var i=t.current;if(n){var s;e:{for(2===Ie(n=n._reactInternalFiber)&&2===n.tag||r("170"),s=n;3!==s.tag;){if(Nt(s)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}(s=s.return)||r("171")}s=s.stateNode.context}n=Nt(n)?At(n,s):s}else n=qr;return null===t.context?t.context=n:t.pendingContext=n,t=o,(o=Kt(a)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Qt(i,o,a),Zn(i,a),a}function wr(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?r("188"):r("268",Object.keys(e))),null===(e=Me(t))?null:e.stateNode}function Er(e,t,n,r){var a=t.current;return xr(e,t,n,a=Jn(er(),a),r)}function _r(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Tr(e){var t=e.findFiberByHostInstance;return Vt(jr({},e,{findHostInstanceByFiber:function(e){return null===(e=Me(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}function Sr(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:qa,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rr(e){this._expirationTime=Xn(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Nr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function kr(e,t,n){this._internalRoot=Bt(e,t,n)}function zr(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Or(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new kr(e,!1,t)}function Ar(e,t,n,a,o){zr(n)||r("200");var i=n._reactRootContainer;if(i){if("function"==typeof o){var s=o;o=function(){var e=_r(i._internalRoot);s.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)}else{if(i=n._reactRootContainer=Or(n,a),"function"==typeof o){var p=o;o=function(){var e=_r(i._internalRoot);p.call(e)}}vr((function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)}))}return _r(i._internalRoot)}function Ir(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return zr(t)||r("200"),Sr(e,t,null,n)}var Pr=n(2),Dr=n(4),Mr=n(12),jr=n(3),Lr=n(5),Ur=n(14),Fr=n(20),Br=n(13),qr=n(1);Dr||r("227");var Vr={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(){a.apply(Vr,arguments)},invokeGuardedCallbackAndCatchFirstError:function(){if(Vr.invokeGuardedCallback.apply(this,arguments),Vr.hasCaughtError()){var e=Vr.clearCaughtError();Vr._hasRethrowError||(Vr._hasRethrowError=!0,Vr._rethrowError=e)}},rethrowCaughtError:function(){return o.apply(Vr,arguments)},hasCaughtError:function(){return Vr._hasCaughtError},clearCaughtError:function(){if(Vr._hasCaughtError){var e=Vr._caughtError;return Vr._caughtError=null,Vr._hasCaughtError=!1,e}r("198")}},Hr=null,Wr={},$r=[],Gr={},Kr={},Yr={},Qr={plugins:$r,eventNameDispatchConfigs:Gr,registrationNameModules:Kr,registrationNameDependencies:Yr,possibleRegistrationNames:null,injectEventPluginOrder:p,injectEventPluginsByName:l},Xr=null,Jr=null,Zr=null,ea=null,ta={injectEventPluginOrder:p,injectEventPluginsByName:l},na={injection:ta,getListener:g,runEventsInBatch:v,runExtractedEventsInBatch:y},ra=Math.random().toString(36).slice(2),aa="__reactInternalInstance$"+ra,oa="__reactEventHandlers$"+ra,ia={precacheFiberNode:function(e,t){t[aa]=e},getClosestInstanceFromNode:b,getInstanceFromNode:function(e){return!(e=e[aa])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:C,getFiberCurrentPropsFromNode:x,updateFiberProps:function(e,t){e[oa]=t}},sa={accumulateTwoPhaseDispatches:k,accumulateTwoPhaseDispatchesSkipTarget:function(e){d(e,S)},accumulateEnterLeaveDispatches:z,accumulateDirectDispatches:function(e){d(e,N)}},pa={animationend:O("Animation","AnimationEnd"),animationiteration:O("Animation","AnimationIteration"),animationstart:O("Animation","AnimationStart"),transitionend:O("Transition","TransitionEnd")},la={},ca={};Mr.canUseDOM&&(ca=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);var ua=A("animationend"),da=A("animationiteration"),ha=A("animationstart"),fa=A("transitionend"),ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ga=null,va={_root:null,_startText:null,_fallbackText:null},ya="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ba={type:null,target:null,currentTarget:Lr.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};jr(M.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Lr.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Lr.thatReturnsTrue)},persist:function(){this.isPersistent=Lr.thatReturnsTrue},isPersistent:Lr.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<ya.length;t++)this[ya[t]]=null}}),M.Interface=ba,M.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return jr(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=jr({},r.Interface,e),n.extend=r.extend,U(n),n},U(M);var Ca=M.extend({data:null}),xa=M.extend({data:null}),wa=[9,13,27,32],Ea=Mr.canUseDOM&&"CompositionEvent"in window,_a=null;Mr.canUseDOM&&"documentMode"in document&&(_a=document.documentMode);var Ta=Mr.canUseDOM&&"TextEvent"in window&&!_a,Sa=Mr.canUseDOM&&(!Ea||_a&&8<_a&&11>=_a),Ra=String.fromCharCode(32),Na={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ka=!1,za=!1,Oa={eventTypes:Na,extractEvents:function(e,t,n,r){var a=void 0,o=void 0;if(Ea)e:{switch(e){case"compositionstart":a=Na.compositionStart;break e;case"compositionend":a=Na.compositionEnd;break e;case"compositionupdate":a=Na.compositionUpdate;break e}a=void 0}else za?F(e,n)&&(a=Na.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=Na.compositionStart);return a?(Sa&&(za||a!==Na.compositionStart?a===Na.compositionEnd&&za&&(o=P()):(va._root=r,va._startText=D(),za=!0)),a=Ca.getPooled(a,t,n,r),o?a.data=o:null!==(o=B(n))&&(a.data=o),k(a),o=a):o=null,(e=Ta?q(e,n):V(e,n))?((t=xa.getPooled(Na.beforeInput,t,n,r)).data=e,k(t)):t=null,null===o?t:null===t?o:[o,t]}},Aa=null,Ia={injectFiberControlledHostComponent:function(e){Aa=e}},Pa=null,Da=null,Ma={injection:Ia,enqueueStateRestore:W,needsStateRestore:$,restoreStateIfNeeded:G},ja=!1,La={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ua=Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fa="function"==typeof Symbol&&Symbol.for,Ba=Fa?Symbol.for("react.element"):60103,qa=Fa?Symbol.for("react.portal"):60106,Va=Fa?Symbol.for("react.fragment"):60107,Ha=Fa?Symbol.for("react.strict_mode"):60108,Wa=Fa?Symbol.for("react.profiler"):60114,$a=Fa?Symbol.for("react.provider"):60109,Ga=Fa?Symbol.for("react.context"):60110,Ka=Fa?Symbol.for("react.async_mode"):60111,Ya=Fa?Symbol.for("react.forward_ref"):60112,Qa=Fa?Symbol.for("react.timeout"):60113,Xa="function"==typeof Symbol&&Symbol.iterator,Ja=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Za=Object.prototype.hasOwnProperty,eo={},to={},no={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){no[e]=new ue(e,0,!1,e,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];no[t]=new ue(t,1,!1,e[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){no[e]=new ue(e,2,!1,e.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach((function(e){no[e]=new ue(e,2,!1,e,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){no[e]=new ue(e,3,!1,e.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(e){no[e]=new ue(e,3,!0,e.toLowerCase(),null)})),["capture","download"].forEach((function(e){no[e]=new ue(e,4,!1,e.toLowerCase(),null)})),["cols","rows","size","span"].forEach((function(e){no[e]=new ue(e,6,!1,e.toLowerCase(),null)})),["rowSpan","start"].forEach((function(e){no[e]=new ue(e,5,!1,e.toLowerCase(),null)}));var ro=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(ro,de);no[t]=new ue(t,1,!1,e,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(ro,de);no[t]=new ue(t,1,!1,e,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(ro,de);no[t]=new ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")})),no.tabIndex=new ue("tabIndex",1,!1,"tabindex",null);var ao={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},oo=null,io=null,so=!1;Mr.canUseDOM&&(so=ee("input")&&(!document.documentMode||9<document.documentMode));var po={eventTypes:ao,_isInputEventSupported:so,extractEvents:function(e,t,n,r){var a=t?C(t):window,o=void 0,i=void 0,s=a.nodeName&&a.nodeName.toLowerCase();return"select"===s||"input"===s&&"file"===a.type?o=_e:J(a)?so?o=ze:(o=Ne,i=Re):(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(o=ke),o&&(o=o(e,t))?xe(o,n,r):(i&&i(e,a,t),void("blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&be(a,"number",a.value)))}},lo=M.extend({view:null,detail:null}),co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},uo=lo.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),ho=uo.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),fo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},mo={eventTypes:fo,extractEvents:function(e,t,n,r){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?b(t):null):o=null,o===t)return null;var i=void 0,s=void 0,p=void 0,l=void 0;return"mouseout"===e||"mouseover"===e?(i=uo,s=fo.mouseLeave,p=fo.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(i=ho,s=fo.pointerLeave,p=fo.pointerEnter,l="pointer"),e=null==o?a:C(o),a=null==t?a:C(t),(s=i.getPooled(s,o,n,r)).type=l+"leave",s.target=e,s.relatedTarget=a,(n=i.getPooled(p,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,z(s,n,o,t),[s,n]}},go=M.extend({animationName:null,elapsedTime:null,pseudoElement:null}),vo=M.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yo=lo.extend({relatedTarget:null}),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo=lo.extend({key:function(e){if(e.key){var t=bo[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Le(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Co[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ae,charCode:function(e){return"keypress"===e.type?Le(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Le(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),wo=uo.extend({dataTransfer:null}),Eo=lo.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ae}),_o=M.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),To=uo.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),So=[["abort","abort"],[ua,"animationEnd"],[da,"animationIteration"],[ha,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[fa,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Ro={},No={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(e){Ue(e,!0)})),So.forEach((function(e){Ue(e,!1)}));var ko={eventTypes:Ro,isInteractiveTopLevelEventType:function(e){return void 0!==(e=No[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var a=No[e];if(!a)return null;switch(e){case"keypress":if(0===Le(n))return null;case"keydown":case"keyup":e=xo;break;case"blur":case"focus":e=yo;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Eo;break;case ua:case da:case ha:e=go;break;case fa:e=_o;break;case"scroll":e=lo;break;case"wheel":e=To;break;case"copy":case"cut":case"paste":e=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ho;break;default:e=M}return k(t=e.getPooled(a,t,n,r)),t}},zo=ko.isInteractiveTopLevelEventType,Oo=[],Ao=!0,Io={get _enabled(){return Ao},setEnabled:Be,isEnabled:function(){return Ao},trapBubbledEvent:qe,trapCapturedEvent:Ve,dispatchEvent:We},Po={},Do=0,Mo="_reactListenersID"+(""+Math.random()).slice(2),jo=Mr.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Lo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Uo=null,Fo=null,Bo=null,qo=!1,Vo={eventTypes:Lo,extractEvents:function(e,t,n,r){var a,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!o)){e:{o=$e(o),a=Yr.onSelect;for(var i=0;i<a.length;i++){var s=a[i];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}a=!o}if(a)return null;switch(o=t?C(t):window,e){case"focus":(J(o)||"true"===o.contentEditable)&&(Uo=o,Fo=t,Bo=null);break;case"blur":Bo=Fo=Uo=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":return qo=!1,Qe(n,r);case"selectionchange":if(jo)break;case"keydown":case"keyup":return Qe(n,r)}return null}};ta.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Xr=ia.getFiberCurrentPropsFromNode,Jr=ia.getInstanceFromNode,Zr=ia.getNodeFromInstance,ta.injectEventPluginsByName({SimpleEventPlugin:ko,EnterLeaveEventPlugin:mo,ChangeEventPlugin:po,SelectEventPlugin:Vo,BeforeInputEventPlugin:Oa});var Ho="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,Wo=Date,$o=setTimeout,Go=clearTimeout,Ko=void 0;if("object"==typeof performance&&"function"==typeof performance.now){var Yo=performance;Ko=function(){return Yo.now()}}else Ko=function(){return Wo.now()};var Qo=void 0,Xo=void 0;if(Mr.canUseDOM){var Jo="function"==typeof Ho?Ho:function(){r("276")},Zo=null,ei=null,ti=-1,ni=!1,ri=!1,ai=0,oi=33,ii=33,si={didTimeout:!1,timeRemaining:function(){var e=ai-Ko();return 0<e?e:0}},pi=function(e,t){var n=e.scheduledCallback,r=!1;try{n(t),r=!0}finally{Xo(e),r||(ni=!0,window.postMessage(li,"*"))}},li="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",(function(e){if(e.source===window&&e.data===li&&(ni=!1,null!==Zo)){if(null!==Zo){var t=Ko();if(!(-1===ti||ti>t)){e=-1;for(var n=[],r=Zo;null!==r;){var a=r.timeoutTime;-1!==a&&a<=t?n.push(r):-1!==a&&(-1===e||a<e)&&(e=a),r=r.next}if(0<n.length)for(si.didTimeout=!0,t=0,r=n.length;t<r;t++)pi(n[t],si);ti=e}}for(e=Ko();0<ai-e&&null!==Zo;)e=Zo,si.didTimeout=!1,pi(e,si),e=Ko();null===Zo||ri||(ri=!0,Jo(ci))}}),!1);var ci=function(e){ri=!1;var t=e-ai+ii;t<ii&&oi<ii?(8>t&&(t=8),ii=t<oi?oi:t):oi=t,ai=e+ii,ni||(ni=!0,window.postMessage(li,"*"))};Qo=function(e,t){var n=-1
;return null!=t&&"number"==typeof t.timeout&&(n=Ko()+t.timeout),(-1===ti||-1!==n&&n<ti)&&(ti=n),e={scheduledCallback:e,timeoutTime:n,prev:null,next:null},null===Zo?Zo=e:null!==(t=e.prev=ei)&&(t.next=e),ei=e,ri||(ri=!0,Jo(ci)),e},Xo=function(e){if(null!==e.prev||Zo===e){var t=e.next,n=e.prev;e.next=null,e.prev=null,null!==t?null!==n?(n.next=t,t.prev=n):(t.prev=null,Zo=t):null!==n?(n.next=null,ei=n):ei=Zo=null}}}else{var ui=new Map;Qo=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},n=$o((function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})}));return ui.set(e,n),t},Xo=function(e){var t=ui.get(e.scheduledCallback);ui.delete(e),Go(t)}}var di={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},hi=void 0,fi=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction((function(){return e(t,n,r,a)}))}:e}((function(e,t){if(e.namespaceURI!==di.svg||"innerHTML"in e)e.innerHTML=t;else{for((hi=hi||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}})),mi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gi=["Webkit","ms","Moz","O"];Object.keys(mi).forEach((function(e){gi.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mi[t]=mi[e]}))}));var vi=jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),yi=Lr.thatReturns(""),bi={createElement:dt,createTextNode:ht,setInitialProperties:ft,diffProperties:mt,updateProperties:gt,diffHydratedProperties:vt,diffHydratedText:yt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(ve(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var o=x(a);o||r("90"),ae(a),ve(a,o)}}}break;case"textarea":rt(e,n);break;case"select":null!=(t=n.value)&&Ze(e,!!n.multiple,t,!1)}}},Ci=null,xi=null,wi=Ko,Ei=Qo,_i=Xo;new Set;var Ti=[],Si=-1,Ri=Et(qr),Ni=Et(!1),ki=qr,zi=null,Oi=null,Ai=!1,Ii=Et(null),Pi=Et(null),Di=Et(0),Mi={},ji=Et(Mi),Li=Et(Mi),Ui=Et(Mi),Fi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Ie(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=er(),a=Kt(r=Jn(r,e));a.payload=t,null!=n&&(a.callback=n),Qt(e,a,r),Zn(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=er(),a=Kt(r=Jn(r,e));a.tag=1,a.payload=t,null!=n&&(a.callback=n),Qt(e,a,r),Zn(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=er(),r=Kt(n=Jn(n,e));r.tag=2,null!=t&&(r.callback=t),Qt(e,r,n),Zn(e,n)}},Bi=Array.isArray,qi=vn(!0),Vi=vn(!1),Hi=null,Wi=null,$i=!1,Gi=void 0,Ki=void 0,Yi=void 0;Gi=function(){},Ki=function(e,t,n){(t.updateQueue=n)&&In(t)},Yi=function(e,t,n,r){n!==r&&In(t)};var Qi=wi(),Xi=2,Ji=Qi,Zi=0,es=0,ts=!1,ns=null,rs=null,as=0,os=-1,is=!1,ss=null,ps=!1,ls=!1,cs=null,us=null,ds=null,hs=0,fs=void 0,ms=!1,gs=null,vs=0,ys=0,bs=!1,Cs=!1,xs=null,ws=null,Es=!1,_s=!1,Ts=!1,Ss=null,Rs=1e3,Ns=0,ks=1,zs={updateContainerAtExpirationTime:xr,createContainer:function(e,t,n){return Bt(e,t,n)},updateContainer:Er,flushRoot:lr,requestWork:ar,computeUniqueAsyncExpiration:Xn,batchedUpdates:gr,unbatchedUpdates:vr,deferredUpdates:tr,syncUpdates:nr,interactiveUpdates:br,flushInteractiveUpdates:function(){ms||0===ys||(pr(ys,!1,null),ys=0)},flushControlled:Cr,flushSync:yr,getPublicRootInstance:_r,findHostInstance:wr,findHostInstanceWithNoPortals:function(e){return null===(e=je(e))?null:e.stateNode},injectIntoDevTools:Tr};Ia.injectFiberControlledHostComponent(bi),Rr.prototype.render=function(e){this._defer||r("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,a=new Nr;return xr(e,t,null,n,a._onCommit),a},Rr.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Rr.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||r("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var a=null,o=t;o!==this;)a=o,o=o._next;null===a&&r("251"),a._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,lr(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Rr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Nr.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Nr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&r("191",n),n()}}},kr.prototype.render=function(e,t){var n=this._internalRoot,r=new Nr;return null!==(t=void 0===t?null:t)&&r.then(t),Er(e,n,null,r._onCommit),r},kr.prototype.unmount=function(e){var t=this._internalRoot,n=new Nr;return null!==(e=void 0===e?null:e)&&n.then(e),Er(null,t,null,n._onCommit),n},kr.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,a=new Nr;return null!==(n=void 0===n?null:n)&&a.then(n),Er(t,r,e,a._onCommit),a},kr.prototype.createBatch=function(){var e=new Rr(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},K=zs.batchedUpdates,Y=zs.interactiveUpdates,Q=zs.flushInteractiveUpdates;var Os={createPortal:Ir,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:wr(e)},hydrate:function(e,t,n){return Ar(null,e,t,!0,n)},render:function(e,t,n){return Ar(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,a){return(null==e||void 0===e._reactInternalFiber)&&r("38"),Ar(e,t,n,!1,a)},unmountComponentAtNode:function(e){return zr(e)||r("40"),!!e._reactRootContainer&&(vr((function(){Ar(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return Ir.apply(void 0,arguments)},unstable_batchedUpdates:gr,unstable_deferredUpdates:tr,unstable_interactiveUpdates:br,flushSync:yr,unstable_flushControlled:Cr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:na,EventPluginRegistry:Qr,EventPropagators:sa,ReactControlledComponent:Ma,ReactDOMComponentTree:ia,ReactDOMEventListener:Io},unstable_createRoot:function(e,t){return new kr(e,!0,null!=t&&!0===t.hydrate)}};Tr({findFiberByHostInstance:b,bundleType:0,version:"16.4.2",rendererPackageName:"react-dom"});var As={default:Os},Is=As&&Os||As;e.exports=Is.default?Is.default:Is},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(22)}]),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactTransitionGroup=t(require("react"),require("react-dom")):e.ReactTransitionGroup=t(e.React,e.ReactDOM)}(this,(function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=22)}([function(e){"use strict";function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){f&&d&&(f=!1,d.length?h=d.concat(h):m=-1,h.length&&i())}function i(){if(!f){var e=r(o);f=!0;for(var t=h.length;t;){for(d=h,h=[];++m<t;)d&&d[m].run();m=-1,t=h.length}d=null,f=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function p(){}var l,c,u=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var d,h=[],f=!1,m=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||f||r(i)},s.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=p,u.addListener=p,u.once=p,u.off=p,u.removeListener=p,u.removeAllListeners=p,u.emit=p,u.binding=function(){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t){t.exports=e},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==t.env.NODE_ENV){var a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&e.$$typeof===a},i=!0;e.exports=n(19)(o,i)}else e.exports=n(18)()}).call(t,n(0))},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){"use strict";(function(t){function n(e,t,n,a,o,i,s,p){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,o,i,s,p],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}var r=function(){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=a(n(11)),c=a(n(1)),u=a(n(2)),d=a(n(20)),h=n(23),f={component:u.default.any,childFactory:u.default.func,children:u.default.node},m={component:"span",childFactory:function(e){return e}},g=function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.performAppear=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(a._handleDoneAppearing.bind(a,e,t)):a._handleDoneAppearing(e,t)},a._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performEnter=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(a._handleDoneEntering.bind(a,e,t)):a._handleDoneEntering(e,t)},a._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performLeave=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(a._handleDoneLeaving.bind(a,e,t)):a._handleDoneLeaving(e,t)},a._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var n=(0,h.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)?a.keysToEnter.push(e):a.setState((function(t){var n=p({},t.children);return delete n[e],{children:n}}))},a.childRefs=Object.create(null),a.state={children:(0,h.getChildMapping)(n.children)},a}return s(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,h.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,h.mergeChildMappings)(n,t)}),t){var a=n&&n.hasOwnProperty(r);!t[r]||a||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var i=t&&t.hasOwnProperty(o);!n[o]||i||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach((function(t){return e.performEnter(t,e.childRefs[t])}));var n=this.keysToLeave;this.keysToLeave=[],n.forEach((function(t){return e.performLeave(t,e.childRefs[t])}))},t.prototype.render=function(){var e=this,t=[],n=function(n){var a=e.state.children[n];if(a){var o="string"!=typeof a.ref,i=e.props.childFactory(a),s=function(t){e.childRefs[n]=t};"production"!==r.env.NODE_ENV&&(0,d.default)(o,"string refs are not supported on children of TransitionGroup and will be ignored. Please use a callback ref instead: https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute"),i===a&&o&&(s=(0,l.default)(a.ref,s)),t.push(c.default.cloneElement(i,{key:n,ref:s}))}};for(var a in this.state.children)n(a);var o=p({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,c.default.createElement(this.props.component,o,t)},t}(c.default.Component);g.displayName="TransitionGroup",g.propTypes="production"!==r.env.NODE_ENV?f:{},g.defaultProps=m,t.default=g,e.exports=t.default}).call(t,n(0))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";(function(t){var r,a=n(3);"production"!==t.env.NODE_ENV&&(r=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o="Warning: "+e.replace(/%s/g,(function(){return n[a++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}},a=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];r.apply(void 0,[t].concat(a))}}),e.exports=a}).call(t,n(0))},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=a;r(n(1));var o=r(n(2));t.nameShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,leave:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterActive:o.default.string,leave:o.default.string,leaveActive:o.default.string,appear:o.default.string,appearActive:o.default.string})])},function(e,t,n){"use strict";(function(r){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=a(n(1)),c=a(n(2)),u=a(n(5)),d=a(n(21)),h=n(9),f={transitionName:h.nameShape.isRequired,transitionAppear:c.default.bool,transitionEnter:c.default.bool,transitionLeave:c.default.bool,transitionAppearTimeout:(0,h.transitionTimeout)("Appear"),transitionEnterTimeout:(0,h.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,h.transitionTimeout)("Leave")},m={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},g=function(e){function t(){var n,r;o(this,t);for(var a=arguments.length,s=Array(a),p=0;p<a;p++)s[p]=arguments[p];return n=r=i(this,e.call.apply(e,[this].concat(s))),r._wrapChild=function(e){return l.default.createElement(d.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},i(r,n)}return s(t,e),t.prototype.render=function(){return l.default.createElement(u.default,p({},this.props,{childFactory:this._wrapChild}))},t}(l.default.Component);g.displayName="CSSTransitionGroup",g.propTypes="production"!==r.env.NODE_ENV?f:{},g.defaultProps=m,t.default=g,e.exports=t.default}).call(t,n(0))},function(e){"use strict";e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){e.classList?e.classList.add(t):(0,o.default)(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=r(n(13));e.exports=t.default},function(e,t){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,a=void 0,o="",i=0;i<n.length;i++){var s=n[i];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),a=t[s]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!a&&"animationName"in e&&(a="animationend"),e=null,{animationEnd:a,transitionEnd:r,prefix:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var o="transform",i=void 0,s=void 0,p=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,f=void 0,m=void 0,g=void 0;if(r(n(6)).default){var v=a();i=v.prefix,t.transitionEnd=s=v.transitionEnd,t.animationEnd=p=v.animationEnd,t.transform=o=i+"-"+o,t.transitionProperty=l=i+"-transition-property",t.transitionDuration=c=i+"-transition-duration",t.transitionDelay=d=i+"-transition-delay",t.transitionTiming=u=i+"-transition-timing-function",t.animationName=h=i+"-animation-name",t.animationDuration=f=i+"-animation-duration",t.animationTiming=m=i+"-animation-delay",t.animationDelay=g=i+"-animation-timing-function"}t.transform=o,t.transitionProperty=l,t.transitionTiming=u,t.transitionDelay=d,t.transitionDuration=c,t.transitionEnd=s,t.animationName=h,t.animationDuration=f,t.animationTiming=m,t.animationDelay=g,t.animationEnd=p,t.default={transform:o,end:s,property:l,timing:u,delay:d,duration:c}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-u)),r=setTimeout(e,n);return u=t,r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),i=["","webkit","moz","o","ms"],s="clearTimeout",p=a,l=void 0,c=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o.default&&i.some((function(e){var t=c(e,"request");if(t in window)return s=c(e,"cancel"),p=function(e){return window[t](e)}}));var u=(new Date).getTime();(l=function(e){return p(e)}).cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t.default=l,e.exports=t.default},function(e,t,n){"use strict";(function(t){function r(e,n,r,l,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{"function"!=typeof e[u]&&("production"!==t.env.NODE_ENV?o(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",l||"React class",r,u):o(!1)),d=e[u](n,u,l,r,null,s)}catch(e){d=e}if("production"!==t.env.NODE_ENV&&i(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",r,u,void 0===d?"undefined":a(d)),d instanceof Error&&!(d.message in p)){p[d.message]=!0;var h=c?c():"";"production"!==t.env.NODE_ENV&&i(!1,"Failed %s type: %s%s",r,d.message,null!=h?h:"")}}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==t.env.NODE_ENV)var o=n(4),i=n(7),s=n(8),p={};e.exports=r}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var r=n(3),a=n(4);e.exports=function(){function e(){"production"!==t.env.NODE_ENV?a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"):a(!1)}function n(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n};return o.checkPropTypes=r,o.PropTypes=o,o}}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(3),o=n(4),i=n(7),s=n(8),p=n(17);e.exports=function(e,n){function l(e){var t=e&&(N&&e[N]||e[k]);if("function"==typeof t)return t}function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function u(e){this.message=e,this.stack=""}function d(e){function r(r,l,c,d,h,f,m){if(d=d||z,f=f||c,m!==s)if(n)"production"!==t.env.NODE_ENV?o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"):o(!1);else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=d+":"+c;!a[g]&&p<3&&("production"!==t.env.NODE_ENV&&i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,d),a[g]=!0,p++)}return null==l[c]?r?null===l[c]?new u("The "+h+" `"+f+"` is marked as required in `"+d+"`, but its value is `null`."):new u("The "+h+" `"+f+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(l,c,d,h,f)}if("production"!==t.env.NODE_ENV)var a={},p=0;var l=r.bind(null,!1);return l.isRequired=r.bind(null,!0),l}function h(e){function t(t,n,r,a,o){var i=t[n];return T(i)!==e?new u("Invalid "+a+" `"+o+"` of type `"+S(i)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return d(t)}function f(){return d(a.thatReturnsNull)}function m(e){function t(t,n,r,a,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var i=t[n];if(!Array.isArray(i))return new u("Invalid "+a+" `"+o+"` of type `"+T(i)+"` supplied to `"+r+"`, expected an array.");for(var p=0;p<i.length;p++){var l=e(i,p,r,a,o+"["+p+"]",s);if(l instanceof Error)return l}return null}return d(t)}function g(){function t(t,n,r,a,o){var i=t[n];return e(i)?null:new u("Invalid "+a+" `"+o+"` of type `"+T(i)+"` supplied to `"+r+"`, expected a single ReactElement.")}return d(t)}function v(e){function t(t,n,r,a,o){if(!(t[n]instanceof e)){var i=e.name||z;return new u("Invalid "+a+" `"+o+"` of type `"+R(t[n])+"` supplied to `"+r+"`, expected instance of `"+i+"`.")}return null}return d(t)}function y(e){function n(t,n,r,a,o){for(var i=t[n],s=0;s<e.length;s++)if(c(i,e[s]))return null;return new u("Invalid "+a+" `"+o+"` of value `"+i+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?d(n):("production"!==t.env.NODE_ENV&&"production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),a.thatReturnsNull)}function b(e){function t(t,n,r,a,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var i=t[n],p=T(i);if("object"!==p)return new u("Invalid "+a+" `"+o+"` of type `"+p+"` supplied to `"+r+"`, expected an object.");for(var l in i)if(i.hasOwnProperty(l)){var c=e(i,l,r,a,o+"."+l,s);if(c instanceof Error)return c}return null}return d(t)}function C(e){function n(t,n,r,a,o){for(var i=0;i<e.length;i++){if(null==(0,e[i])(t,n,r,a,o,s))return null}return new u("Invalid "+a+" `"+o+"` supplied to `"+r+"`.")}return Array.isArray(e)?d(n):("production"!==t.env.NODE_ENV&&"production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),a.thatReturnsNull)}function x(){function e(e,t,n,r,a){return E(e[t])?null:new u("Invalid "+r+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}function w(e){function t(t,n,r,a,o){var i=t[n],p=T(i);if("object"!==p)return new u("Invalid "+a+" `"+o+"` of type `"+p+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var c=e[l];if(c){var d=c(i,l,r,a,o+"."+l,s);if(d)return d}}return null}return d(t)}function E(t){switch(void 0===t?"undefined":r(t)){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(E);if(null===t||e(t))return!0;var n=l(t);if(!n)return!1;var a,o=n.call(t);if(n!==t.entries){for(;!(a=o.next()).done;)if(!E(a.value))return!1}else for(;!(a=o.next()).done;){var i=a.value;if(i&&!E(i[1]))return!1}return!0;default:return!1}}function _(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function T(e){var t=void 0===e?"undefined":r(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":_(t,e)?"symbol":t}function S(e){var t=T(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function R(e){return e.constructor&&e.constructor.name?e.constructor.name:z}var N="function"==typeof Symbol&&Symbol.iterator,k="@@iterator",z="<<anonymous>>",O={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:f(),arrayOf:m,element:g(),instanceOf:v,node:x(),objectOf:b,oneOf:y,oneOfType:C,shape:w};return u.prototype=Error.prototype,O.checkPropTypes=p,O.PropTypes=O,O}}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var n=function(){};"production"!==t.env.NODE_ENV&&(n=function(e,t,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var a=2;a<r;a++)n[a-2]=arguments[a];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var o=0,i="Warning: "+t.replace(/%s/g,(function(){return n[o++]}));"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}}),e.exports=n}).call(t,n(0))},function(e,t,n){"use strict";(function(r){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){return y.length?y.forEach((function(n){return e.addEventListener(n,t,!1)})):setTimeout(t,0),function(){y.length&&y.forEach((function(n){return e.removeEventListener(n,t,!1)}))}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=a(n(12)),u=a(n(14)),d=a(n(16)),h=n(15),f=a(n(1)),m=a(n(2)),g=n(24),v=n(9),y=[];h.transitionEnd&&y.push(h.transitionEnd),h.animationEnd&&y.push(h.animationEnd);var b={children:m.default.node,name:v.nameShape.isRequired,appear:m.default.bool,enter:m.default.bool,leave:m.default.bool,appearTimeout:m.default.number,
enterTimeout:m.default.number,leaveTimeout:m.default.number},C=function(e){function t(){var n,r;o(this,t);for(var a=arguments.length,s=Array(a),p=0;p<a;p++)s[p]=arguments[p];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},i(r,n)}return s(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(e){clearTimeout(e)})),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,g.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,o=this.props.name[e+"Active"]||a+"-active",i=null,s=void 0;(0,c.default)(r,a),this.queueClassAndNode(o,r);var l=function(e){e&&e.target!==r||(clearTimeout(i),s&&s(),(0,u.default)(r,a),(0,u.default)(r,o),s&&s(),t&&t())};n?(i=setTimeout(l,n),this.transitionTimeouts.push(i)):h.transitionEnd&&(s=p(r,l))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,d.default)((function(){return n.flushClassNameAndNodeQueue()})))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach((function(e){e.node.scrollTop,(0,c.default)(e.node,e.className)})),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=l({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,f.default.cloneElement(f.default.Children.only(this.props.children),e)},t}(f.default.Component);C.displayName="CSSTransitionGroupChild",C.propTypes="production"!==r.env.NODE_ENV?b:{},t.default=C,e.exports=t.default}).call(t,n(0))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(10)),o=r(n(5));e.exports={TransitionGroup:o.default,CSSTransitionGroup:a.default}},function(e,t,n){"use strict";function r(e){if(!e)return e;var t={};return o.Children.map(e,(function(e){return e})).forEach((function(e){t[e.key]=e})),t}function a(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},a=[];for(var o in e)t.hasOwnProperty(o)?a.length&&(r[o]=a,a=[]):a.push(o);var i=void 0,s={};for(var p in t){if(r.hasOwnProperty(p))for(i=0;i<r[p].length;i++){var l=r[p][i];s[r[p][i]]=n(l)}s[p]=n(p)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=a;var o=n(1)},function(e){e.exports=t}])})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PortalClient=t():e.PortalClient=t()}(this,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=n(2),s=n(3).TreeMirrorClient,p=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"portal",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"portal";r(this,e),this.socked=t,this.channelName=n,this.id=a,this.sendMousePosition=i(this._sendMousePosition,200,{trailing:!0}).bind(this),this.sendWindowSize=i(this._sendWindowSize,200,{trailing:!0}).bind(this),this.sendScroll=i(this._sendScroll,200,{trailing:!0}).bind(this)}return a(e,[{key:"_sendMousePosition",value:function(e){this.socketSend("mouseMove",{x:e.clientX,y:e.clientY})}},{key:"_sendWindowSize",value:function(){this.socketSend("windowResize",{w:window.innerWidth,h:window.innerHeight})}},{key:"_sendScroll",value:function(){var e;if(null!=window.pageYOffset)e={x:pageXOffset,y:pageYOffset};else{var t=document,n=t.documentElement,r=t.body;e={x:n.scrollLeft||r.scrollLeft||0,y:n.scrollTop||r.scrollTop||0}}this.socketSend("windowScroll",e)}},{key:"socketSend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.channel.users.getUsers();t.portalId=this.id,n&&n.length>1&&n.some((function(e){return!!e.admin}))&&this.channel.trigger("client-"+e,t)}},{key:"createMirrorClient",value:function(){var e=this;this.mirrorClient&&(this.mirrorClient.disconnect(),this.mirrorClient=null),this.mirrorClient=new s(document,{initialize:function(t,n){e.socketSend("domEvent",{base:window.origin||window.location.origin,f:"initialize",args:[t,n]}),e.sendWindowSize()},applyChanged:function(t,n,r,a){e.socketSend("domEvent",{f:"applyChanged",args:[t,n,r,a]})}})}},{key:"onClientPing",value:function(e){this.id&&e.data&&this.id==e.data.portalId&&this.socketSend("pong")}},{key:"start",value:function(){var e=this;this.channel||(this.channel=this.socked.subscribe(this.channelName),this.channel.on("internal:subscription_success",(function(){e.createMirrorClient(),e.setupListeners(),e.socked.once("disconnected",e.end.bind(e))})),this.channel.on("client-initialize",(function(){e.createMirrorClient()})),this.channel.on("client-ping",this.onClientPing.bind(this)))}},{key:"end",value:function(){this.mirrorClient&&this.mirrorClient.disconnect(),this.mirrorClient=null,this.socked.unsubscribe(this.channelName),this.channel=null,this.teardownListeners()}},{key:"setupListeners",value:function(){this.teardownListeners(),document.addEventListener("mousemove",this.sendMousePosition),window.addEventListener("resize",this.sendWindowSize),window.addEventListener("scroll",this.sendScroll)}},{key:"teardownListeners",value:function(){document.removeEventListener("mousemove",this.sendMousePosition),window.removeEventListener("resize",this.sendWindowSize),window.removeEventListener("scroll",this.sendScroll)}}]),e}();o(p.prototype),e.exports=p},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){"use strict";function t(e,t,n){var r,a,o,i=null,s=0;n||(n={});var p=function(){s=!1===n.leading?0:Date.now(),i=null,o=e.apply(r,a),i||(r=a=null)};return function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return r=this,a=arguments,c<=0||c>t?(i&&(clearTimeout(i),i=null),s=l,o=e.apply(r,a),i||(r=a=null)):i||!1===n.trailing||(i=setTimeout(p,c)),o}}e.exports=t},function(e,t,n){"use strict";var r=n(4),a=function(){function e(e,t){this.root=e,this.delegate=t,this.idMap={}}return e.prototype.initialize=function(e,t){this.idMap[e]=this.root;for(var n=0;n<t.length;n++)this.deserializeNode(t[n],this.root)},e.prototype.applyChanged=function(e,t,n,r){var a=this;t.forEach((function(e){var t=a.deserializeNode(e);a.deserializeNode(e.parentNode),a.deserializeNode(e.previousSibling);t.parentNode&&t.parentNode.removeChild(t)})),e.forEach((function(e){var t=a.deserializeNode(e);t.parentNode&&t.parentNode.removeChild(t)})),t.forEach((function(e){var t=a.deserializeNode(e),n=a.deserializeNode(e.parentNode),r=a.deserializeNode(e.previousSibling);n.insertBefore(t,r?r.nextSibling:n.firstChild)})),n.forEach((function(e){var t=a.deserializeNode(e);Object.keys(e.attributes).forEach((function(n){var r=e.attributes[n];try{null===r?t.removeAttribute(n):a.delegate&&a.delegate.setAttribute&&a.delegate.setAttribute(t,n,r,e.attributes)||t.setAttribute(n,r)}catch(e){console.log(e)}}))})),r.forEach((function(e){a.deserializeNode(e).textContent=e.textContent})),e.forEach((function(e){delete a.idMap[e.id]}))},e.prototype.deserializeNode=function(e,t){var n=this;if(null===e)return null;var r=this.idMap[e.id];if(r)return r;var a=this.root.ownerDocument;switch(null===a&&(a=this.root),e.nodeType){case Node.COMMENT_NODE:r=a.createComment(e.textContent);break;case Node.TEXT_NODE:r=a.createTextNode(e.textContent);break;case Node.DOCUMENT_TYPE_NODE:r=a.implementation.createDocumentType(e.name,e.publicId,e.systemId);break;case Node.ELEMENT_NODE:this.delegate&&this.delegate.createElement&&(r=this.delegate.createElement(e.tagName)),r||(r=a.createElement(e.tagName)),Object.keys(e.attributes).forEach((function(t){try{n.delegate&&n.delegate.setAttribute&&n.delegate.setAttribute(r,t,e.attributes[t],e.attributes)||r.setAttribute(t,e.attributes[t])}catch(e){console.log(e)}}))}if(!r)throw"ouch";if(this.idMap[e.id]=r,t&&t.appendChild(r),e.childNodes)for(var o=0;o<e.childNodes.length;o++)this.deserializeNode(e.childNodes[o],r);return r},e}(),o=function(e,t,n){var r=["password","secret","passwd","api_key","apikey","access_token","auth","credentials","mysql_pwd","stripetoken","card[number]"],a=/\b(?:3[47]\d|(?:4\d|5[1-5]|65)\d{2}|6011)\d{12}\b/,o=/-----BEGIN[A-Z ]+(PRIVATE|PUBLIC) KEY-----.+-----END[A-Z ]+(PRIVATE|PUBLIC) KEY-----/,i=/^\b(?!(000|666|9))\d{3}-(?!00)\d{2}-(?!0000)\d{4}\b/;return"input"!=e.tagName.toLowerCase()&&("textarea"!=e.tagName.toLowerCase()||"value"!=t)||!(e.name&&(r.indexOf(e.name.toLowerCase())>0||e.name.match(/^cc/i)||e.name.match(/cvv/i))||n&&(n.replace(/[\-\s]/g,"").match(a)||n.match(o)||n.replace(/[\-\s]/g,"").match(i)))},i=function(){function e(e,t,n){var a=this;this.target=e,this.mirror=t,this.nextId=1,this.knownNodes=new r.NodeMap;for(var o=this.serializeNode(e).id,i=[],s=e.firstChild;s;s=s.nextSibling)i.push(this.serializeNode(s,!0));this.mirror.initialize(o,i);var p=[{all:!0}];n&&(p=p.concat(n)),this.mutationSummary=new r({rootNode:e,callback:function(e){a.applyChanged(e)},queries:p})}return e.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=void 0)},e.prototype.rememberNode=function(e){var t=this.nextId++;return this.knownNodes.set(e,t),t},e.prototype.forgetNode=function(e){this.knownNodes.delete(e)},e.prototype.serializeNode=function(e,t){if(null===e)return null;var n=this.knownNodes.get(e);if(void 0!==n)return{id:n};var r={nodeType:e.nodeType,id:this.rememberNode(e)};switch(r.nodeType){case Node.DOCUMENT_TYPE_NODE:var a=e;r.name=a.name,r.publicId=a.publicId,r.systemId=a.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:r.textContent=e.textContent;break;case Node.ELEMENT_NODE:var i=e;r.tagName=i.tagName,r.attributes={};for(var s=0;s<i.attributes.length;s++){var p=i.attributes[s];o(i,p.name,p.value)?r.attributes[p.name]=p.value:r.attributes[p.name]=""}if(t&&i.childNodes.length){r.childNodes=[];for(var l=i.firstChild;l;l=l.nextSibling)r.childNodes.push(this.serializeNode(l,!0))}}return r},e.prototype.serializeAddedAndMoved=function(e,t,n){var a=this,o=e.concat(t).concat(n),i=new r.NodeMap;o.forEach((function(e){var t=e.parentNode,n=i.get(t);n||(n=new r.NodeMap,i.set(t,n)),n.set(e,!0)}));var s=[];return i.keys().forEach((function(e){for(var t=i.get(e),n=t.keys();n.length;){for(var r=n[0];r.previousSibling&&t.has(r.previousSibling);)r=r.previousSibling;for(;r&&t.has(r);){var o=a.serializeNode(r);o.previousSibling=a.serializeNode(r.previousSibling),o.parentNode=a.serializeNode(r.parentNode),s.push(o),t.delete(r),r=r.nextSibling}n=t.keys()}})),s},e.prototype.serializeAttributeChanges=function(e){var t=this,n=new r.NodeMap;return Object.keys(e).forEach((function(r){e[r].forEach((function(e){var a=n.get(e);a||((a=t.serializeNode(e)).attributes={},n.set(e,a)),o(e,r,e.getAttribute(r))?a.attributes[r]=e.getAttribute(r):a.attributes[r]=""}))})),n.keys().map((function(e){return n.get(e)}))},e.prototype.applyChanged=function(e){var t=this,n=e[0],r=n.removed.map((function(e){return t.serializeNode(e)})),a=this.serializeAddedAndMoved(n.added,n.reparented,n.reordered),o=this.serializeAttributeChanges(n.attributeChanged),i=n.characterDataChanged.map((function(e){var n=t.serializeNode(e);return n.textContent=e.textContent,n}));this.mirror.applyChanged(r,a,o,i),n.removed.forEach((function(e){t.forgetNode(e)}))},e}();e.exports={TreeMirror:a,TreeMirrorClient:i}},function(e){"use strict";var t,n=window.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};if(void 0===(t=void 0!==window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver))console.error("DOM Mutation Observers are required."),console.error("https://developer.mozilla.org/en-US/docs/DOM/MutationObserver");else{var r,a=function(e){return'"'+e.replace(/"/,'\\"')+'"'},o=function(e){if("string"!=typeof e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!(e=e.trim()))throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!e.match(y))throw Error("Invalid request option. invalid attribute name: "+e);return e},i=function(e){if(!e.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var t={},n={},r=e.split(/\s+/),a=0;a<r.length;a++){if(i=r[a]){var i,s=(i=o(i)).toLowerCase();if(t[s])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");n[i]=!0,t[s]=!0}}return Object.keys(n)},s=function(e){var t={};return e.forEach((function(e){e.qualifiers.forEach((function(e){t[e.attrName]=!0}))})),Object.keys(t)},p=function(){function e(){this.nodes=[],this.values=[]}return e.prototype.isIndex=function(e){return+e==e>>>0},e.prototype.nodeId=function(t){var n=t[e.ID_PROP];return n||(n=t[e.ID_PROP]=e.nextId_++),n},e.prototype.set=function(e,t){var n=this.nodeId(e);this.nodes[n]=e,this.values[n]=t},e.prototype.get=function(e){var t=this.nodeId(e);return this.values[t]},e.prototype.has=function(e){return this.nodeId(e)in this.nodes},e.prototype.delete=function(e){var t=this.nodeId(e);delete this.nodes[t],this.values[t]=void 0},e.prototype.keys=function(){var e=[];for(var t in this.nodes)this.isIndex(t)&&e.push(this.nodes[t]);return e},e.ID_PROP="__mutation_summary_node_map_id__",e.nextId_=1,e}();!function(e){e[e.STAYED_OUT=0]="STAYED_OUT",e[e.ENTERED=1]="ENTERED",e[e.STAYED_IN=2]="STAYED_IN",e[e.REPARENTED=3]="REPARENTED",e[e.REORDERED=4]="REORDERED",e[e.EXITED=5]="EXITED"}(r||(r={}));var l=function(){function e(e,t,n,r,a,o,i,s){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===a&&(a=null),void 0===o&&(o=!1),void 0===i&&(i=null),void 0===s&&(s=null),this.node=e,this.childList=t,this.attributes=n,this.characterData=r,this.oldParentNode=a,this.added=o,this.attributeOldValues=i,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return e.prototype.getAttributeOldValue=function(e){if(this.attributeOldValues)return this.isCaseInsensitive&&(e=e.toLowerCase()),this.attributeOldValues[e]},e.prototype.getAttributeNamesMutated=function(){var e=[];if(!this.attributeOldValues)return e;for(var t in this.attributeOldValues)e.push(t);return e},e.prototype.attributeMutated=function(e,t){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},e in this.attributeOldValues||(this.attributeOldValues[e]=t)},e.prototype.characterDataMutated=function(e){this.characterData||(this.characterData=!0,this.characterDataOldValue=e)},e.prototype.removedFromParent=function(e){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=e},e.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},e.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},e}(),c=function(){function e(){this.added=new p,this.removed=new p,this.maybeMoved=new p,this.oldPrevious=new p,this.moved=void 0}return e}(),u=function(e){function t(t,n){e.call(this),this.rootNode=t,this.reachableCache=void 0,this.wasReachableCache=void 0,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var r=0;r<n.length;r++){var a=n[r];switch(a.type){case"childList":this.anyParentsChanged=!0;for(var o=0;o<a.removedNodes.length;o++){var i=a.removedNodes[o];this.getChange(i).removedFromParent(a.target)}for(o=0;o<a.addedNodes.length;o++){i=a.addedNodes[o];this.getChange(i).insertedIntoParent()}break;case"attributes":this.anyAttributesChanged=!0,this.getChange(a.target).attributeMutated(a.attributeName,a.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0,this.getChange(a.target).characterDataMutated(a.oldValue)}}}return n(t,e),t.prototype.getChange=function(e){var t=this.get(e);return t||(t=new l(e),this.set(e,t)),t},t.prototype.getOldParent=function(e){var t=this.get(e);return t?t.getOldParent():e.parentNode},t.prototype.getIsReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.reachableCache=this.reachableCache||new p;var t=this.reachableCache.get(e);return void 0===t&&(t=this.getIsReachable(e.parentNode),this.reachableCache.set(e,t)),t},t.prototype.getWasReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.wasReachableCache=this.wasReachableCache||new p;var t=this.wasReachableCache.get(e);return void 0===t&&(t=this.getWasReachable(this.getOldParent(e)),this.wasReachableCache.set(e,t)),t},t.prototype.reachabilityChange=function(e){return this.getIsReachable(e)?this.getWasReachable(e)?r.STAYED_IN:r.ENTERED:this.getWasReachable(e)?r.EXITED:r.STAYED_OUT},t}(p),d=function(){function e(e,t,n,r,a){this.rootNode=e,this.mutations=t,this.selectors=n,this.calcReordered=r,this.calcOldPreviousSibling=a,this.treeChanges=new u(e,t),this.entered=[],this.exited=[],this.stayedIn=new p,this.visited=new p,this.childListChangeMap=void 0,this.characterDataOnly=void 0,this.matchCache=void 0,this.processMutations()}return e.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var e=this.treeChanges.keys(),t=0;t<e.length;t++)this.visitNode(e[t],void 0)},e.prototype.visitNode=function(e,t){if(!this.visited.has(e)){this.visited.set(e,!0);var n=this.treeChanges.get(e),a=t;if((n&&n.childList||null==a)&&(a=this.treeChanges.reachabilityChange(e)),a!==r.STAYED_OUT){if(this.matchabilityChange(e),a===r.ENTERED)this.entered.push(e);else if(a===r.EXITED)this.exited.push(e),this.ensureHasOldPreviousSiblingIfNeeded(e);else if(a===r.STAYED_IN){var o=r.STAYED_IN;n&&n.childList&&(n.oldParentNode!==e.parentNode?(o=r.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(e)):this.calcReordered&&this.wasReordered(e)&&(o=r.REORDERED)),this.stayedIn.set(e,o)}if(a!==r.STAYED_IN)for(var i=e.firstChild;i;i=i.nextSibling)this.visitNode(i,a)}}},e.prototype.ensureHasOldPreviousSiblingIfNeeded=function(e){if(this.calcOldPreviousSibling){this.processChildlistChanges();var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);r||(r=new c,this.childListChangeMap.set(t,r)),r.oldPrevious.has(e)||r.oldPrevious.set(e,e.previousSibling)}},e.prototype.getChanged=function(e,t,n){this.selectors=t,this.characterDataOnly=n;for(var a=0;a<this.entered.length;a++){var o=this.entered[a];(p=this.matchabilityChange(o))!==r.ENTERED&&p!==r.STAYED_IN||e.added.push(o)}var i=this.stayedIn.keys();for(a=0;a<i.length;a++){o=i[a];if((p=this.matchabilityChange(o))===r.ENTERED)e.added.push(o);else if(p===r.EXITED)e.removed.push(o);else if(p===r.STAYED_IN&&(e.reparented||e.reordered)){var s=this.stayedIn.get(o);e.reparented&&s===r.REPARENTED?e.reparented.push(o):e.reordered&&s===r.REORDERED&&e.reordered.push(o)}}for(a=0;a<this.exited.length;a++){var p;o=this.exited[a];(p=this.matchabilityChange(o))!==r.EXITED&&p!==r.STAYED_IN||e.removed.push(o)}},e.prototype.getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode?t.oldParentNode:null;var n=this.treeChanges.reachabilityChange(e);if(n===r.STAYED_OUT||n===r.ENTERED)throw Error("getOldParentNode requested on invalid node.");return e.parentNode},e.prototype.getOldPreviousSibling=function(e){var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);if(!r)throw Error("getOldPreviousSibling requested on invalid node.");return r.oldPrevious.get(e)},e.prototype.getOldAttribute=function(e,t){var n=this.treeChanges.get(e);if(!n||!n.attributes)throw Error("getOldAttribute requested on invalid node.");var r=n.getAttributeOldValue(t);if(void 0===r)throw Error("getOldAttribute requested for unchanged attribute name.");return r},e.prototype.attributeChangedNodes=function(e){if(!this.treeChanges.anyAttributesChanged)return{};var t,n;if(e){t={},n={};for(var a=0;a<e.length;a++){t[d=e[a]]=!0,n[d.toLowerCase()]=d}}var o={},i=this.treeChanges.keys();for(a=0;a<i.length;a++){var s=i[a],p=this.treeChanges.get(s);if(p.attributes&&(r.STAYED_IN===this.treeChanges.reachabilityChange(s)&&r.STAYED_IN===this.matchabilityChange(s)))for(var l=s,c=p.getAttributeNamesMutated(),u=0;u<c.length;u++){var d=c[u];if(!t||t[d]||p.isCaseInsensitive&&n[d])p.getAttributeOldValue(d)!==l.getAttribute(d)&&(n&&p.isCaseInsensitive&&(d=n[d]),o[d]=o[d]||[],o[d].push(l))}}return o},e.prototype.getOldCharacterData=function(e){var t=this.treeChanges.get(e);if(!t||!t.characterData)throw Error("getOldCharacterData requested on invalid node.");return t.characterDataOldValue},e.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var e=this.treeChanges.keys(),t=[],n=0;n<e.length;n++){var a=e[n];if(r.STAYED_IN===this.treeChanges.reachabilityChange(a)){var o=this.treeChanges.get(a);o.characterData&&a.textContent!=o.characterDataOldValue&&t.push(a)}}return t},e.prototype.computeMatchabilityChange=function(e,t){this.matchCache||(this.matchCache=[]),this.matchCache[e.uid]||(this.matchCache[e.uid]=new p);var n=this.matchCache[e.uid],r=n.get(t);return void 0===r&&(r=e.matchabilityChange(t,this.treeChanges.get(t)),n.set(t,r)),r},e.prototype.matchabilityChange=function(e){var t=this;if(this.characterDataOnly)switch(e.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return r.STAYED_IN;default:return r.STAYED_OUT}if(!this.selectors)return r.STAYED_IN;if(e.nodeType!==Node.ELEMENT_NODE)return r.STAYED_OUT;for(var n=e,a=this.selectors.map((function(e){return t.computeMatchabilityChange(e,n)})),o=r.STAYED_OUT,i=0;o!==r.STAYED_IN&&i<a.length;){switch(a[i]){case r.STAYED_IN:o=r.STAYED_IN;break;case r.ENTERED:o=o===r.EXITED?r.STAYED_IN:r.ENTERED;break;case r.EXITED:o=o===r.ENTERED?r.STAYED_IN:r.EXITED}i++}return o},e.prototype.getChildlistChange=function(e){var t=this.childListChangeMap.get(e);return t||(t=new c,this.childListChangeMap.set(e,t)),t},e.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new p;for(var e=0;e<this.mutations.length;e++){var t=function(e,t){!e||a.oldPrevious.has(e)||a.added.has(e)||a.maybeMoved.has(e)||t&&(a.added.has(t)||a.maybeMoved.has(t))||a.oldPrevious.set(e,t)},n=this.mutations[e];if("childList"==n.type&&(this.treeChanges.reachabilityChange(n.target)===r.STAYED_IN||this.calcOldPreviousSibling)){for(var a=this.getChildlistChange(n.target),o=n.previousSibling,i=0;i<n.removedNodes.length;i++){t(s=n.removedNodes[i],o),a.added.has(s)?a.added.delete(s):(a.removed.set(s,!0),a.maybeMoved.delete(s)),o=s}t(n.nextSibling,o);for(i=0;i<n.addedNodes.length;i++){var s=n.addedNodes[i];a.removed.has(s)?(a.removed.delete(s),a.maybeMoved.set(s,!0)):a.added.set(s,!0)}}}}},e.prototype.wasReordered=function(e){function t(e){if(!e)return!1;if(!i.maybeMoved.has(e))return!1;var t=i.moved.get(e);return void 0!==t||(s.has(e)?t=!0:(s.set(e,!0),t=r(e)!==n(e)),s.has(e)?(s.delete(e),i.moved.set(e,t)):t=i.moved.get(e)),t}function n(e){var r=l.get(e);if(void 0!==r)return r;for(r=i.oldPrevious.get(e);r&&(i.removed.has(r)||t(r));)r=n(r);return void 0===r&&(r=e.previousSibling),l.set(e,r),r}function r(e){if(c.has(e))return c.get(e);for(var n=e.previousSibling;n&&(i.added.has(n)||t(n));)n=n.previousSibling;return c.set(e,n),n}if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var a=e.parentNode,o=this.treeChanges.get(e);o&&o.oldParentNode&&(a=o.oldParentNode);var i=this.childListChangeMap.get(a);if(!i)return!1;if(i.moved)return i.moved.get(e);i.moved=new p;var s=new p,l=new p,c=new p;return i.maybeMoved.keys().forEach(t),i.moved.get(e)},e}(),h=function(){function e(e,t){var n=this;if(this.projection=e,this.added=[],this.removed=[],this.reparented=t.all||t.element||t.characterData?[]:void 0,this.reordered=t.all?[]:void 0,e.getChanged(this,t.elementFilter,t.characterData),t.all||t.attribute||t.attributeList){var r=t.attribute?[t.attribute]:t.attributeList,a=e.attributeChangedNodes(r);t.attribute?this.valueChanged=a[t.attribute]||[]:(this.attributeChanged=a,t.attributeList&&t.attributeList.forEach((function(e){n.attributeChanged.hasOwnProperty(e)||(n.attributeChanged[e]=[])})))}if(t.all||t.characterData){var o=e.getCharacterDataChanged();t.characterData?this.valueChanged=o:this.characterDataChanged=o}this.reordered&&(this.getOldPreviousSibling=e.getOldPreviousSibling.bind(e))}return e.prototype.getOldParentNode=function(e){return this.projection.getOldParentNode(e)},e.prototype.getOldAttribute=function(e,t){return this.projection.getOldAttribute(e,t)},e.prototype.getOldCharacterData=function(e){return this.projection.getOldCharacterData(e)},e.prototype.getOldPreviousSibling=function(e){return this.projection.getOldPreviousSibling(e)},e}(),f=/[a-zA-Z_]+/,m=/[a-zA-Z0-9_\-]+/,g=function(){function e(){}return e.prototype.matches=function(e){if(null===e)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==e;for(var t=e.split(" "),n=0;n<t.length;n++)if(this.attrValue===t[n])return!0;return!1},e.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+a(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+a(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},e}(),v=function(){function e(){this.uid=e.nextUid++,this.qualifiers=[]}var t;return Object.defineProperty(e.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),e.prototype.isMatching=function(t){return t[e.matchesSelector](this.selectorString)},e.prototype.wasMatching=function(e,t,n){if(!t||!t.attributes)return n;var r=t.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==r&&r!==e.tagName)return!1;for(var a=[],o=!1,i=0;i<this.qualifiers.length;i++){var s=this.qualifiers[i],p=t.getAttributeOldValue(s.attrName);a.push(p),o=o||void 0!==p}if(!o)return n;for(i=0;i<this.qualifiers.length;i++){s=this.qualifiers[i];if(void 0===(p=a[i])&&(p=e.getAttribute(s.attrName)),!s.matches(p))return!1}return!0},e.prototype.matchabilityChange=function(e,t){var n=this.isMatching(e);return n?this.wasMatching(e,t,n)?r.STAYED_IN:r.ENTERED:this.wasMatching(e,t,n)?r.EXITED:r.STAYED_OUT},e.parseSelectors=function(t){function n(){a&&(o&&(a.qualifiers.push(o),o=void 0),s.push(a)),a=new e}function r(){o&&a.qualifiers.push(o),o=new g}for(var a,o,i,s=[],p=/\s/,l="Invalid or unsupported selector syntax.",c=1,u=2,d=3,h=4,v=5,y=6,b=7,C=8,x=9,w=10,E=11,_=12,T=13,S=14,R=c,N=0;N<t.length;){var k=t[N++];switch(R){case c:if(k.match(f)){n(),a.tagName=k,R=u;break}if("*"==k){n(),a.tagName="*",R=d;break}if("."==k){n(),r(),a.tagName="*",o.attrName="class",o.contains=!0,R=h;break}if("#"==k){n(),r(),a.tagName="*",o.attrName="id",R=h;break}if("["==k){n(),r(),a.tagName="*",o.attrName="",R=y;break}if(k.match(p))break;throw Error(l);case u:if(k.match(m)){a.tagName+=k;break}if("."==k){r(),o.attrName="class",o.contains=!0,R=h;break}if("#"==k){r(),o.attrName="id",R=h;break}if("["==k){r(),o.attrName="",R=y;break}if(k.match(p)){R=S;break}if(","==k){R=c;break}throw Error(l);case d:if("."==k){r(),o.attrName="class",o.contains=!0,R=h;break}if("#"==k){r(),o.attrName="id",R=h;break}if("["==k){r(),o.attrName="",R=y;break}if(k.match(p)){R=S;break}if(","==k){R=c;break}throw Error(l);case h:if(k.match(f)){o.attrValue=k,R=v;break}throw Error(l);case v:if(k.match(m)){o.attrValue+=k;break}if("."==k){r(),o.attrName="class",o.contains=!0,R=h;break}if("#"==k){r(),o.attrName="id",R=h;break}if("["==k){r(),R=y;break}if(k.match(p)){R=S;break}if(","==k){R=c;break}throw Error(l);case y:if(k.match(f)){o.attrName=k,R=b;break}if(k.match(p))break;throw Error(l);case b:if(k.match(m)){o.attrName+=k;break}if(k.match(p)){R=C;break}if("~"==k){o.contains=!0,R=x;break}if("="==k){o.attrValue="",R=E;break}if("]"==k){R=d;break}throw Error(l);case C:if("~"==k){o.contains=!0,R=x;break}if("="==k){o.attrValue="",R=E;break}if("]"==k){R=d;break}if(k.match(p))break;throw Error(l);case x:if("="==k){o.attrValue="",R=E;break}throw Error(l);case w:if("]"==k){R=d;break}if(k.match(p))break;throw Error(l);case E:if(k.match(p))break;if('"'==k||"'"==k){i=k,R=T;break}o.attrValue+=k,R=_;break;case _:if(k.match(p)){R=w;break}if("]"==k){R=d;break}if("'"==k||'"'==k)throw Error(l);o.attrValue+=k;break;case T:if(k==i){R=w;break}o.attrValue+=k;break;case S:if(k.match(p))break;if(","==k){R=c;break}throw Error(l)}}switch(R){case c:case u:case d:case v:case S:n();break;default:throw Error(l)}if(!s.length)throw Error(l);return s},e.nextUid=1,e.matchesSelector="function"==typeof(t=document.createElement("div")).webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof t.mozMatchesSelector?"mozMatchesSelector":"function"==typeof t.msMatchesSelector?"msMatchesSelector":"matchesSelector",e}(),y=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/,b=function(){function e(n){var r=this;this.connected=!1,this.options=e.validateOptions(n),this.observerOptions=e.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map((function(e){return e.elementFilter?e.elementFilter:[]}))),this.elementFilter.length||(this.elementFilter=void 0),this.calcReordered=this.options.queries.some((function(e){return e.all})),this.queryValidators=[],e.createQueryValidator&&(this.queryValidators=this.options.queries.map((function(t){return e.createQueryValidator(r.root,t)}))),this.observer=new t((function(e){r.observerCallback(e)})),this.reconnect()}return e.createObserverOptions=function(e){function t(e){r.attributes&&!n||(r.attributes=!0,r.attributeOldValue=!0,e?(n=n||{},e.forEach((function(e){n[e]=!0,n[e.toLowerCase()]=!0}))):n=void 0)}var n,r={childList:!0,subtree:!0};return e.forEach((function(e){if(e.characterData)return r.characterData=!0,void(r.characterDataOldValue=!0);if(e.all)return t(),r.characterData=!0,void(r.characterDataOldValue=!0);if(e.attribute)t([e.attribute.trim()]);else{var n=s(e.elementFilter).concat(e.attributeList||[]);n.length&&t(n)}})),n&&(r.attributeFilter=Object.keys(n)),r},e.validateOptions=function(t){for(var n in t)if(!(n in e.optionKeys))throw Error("Invalid option: "+n)
;if("function"!=typeof t.callback)throw Error("Invalid options: callback is required and must be a function");if(!t.queries||!t.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var r={callback:t.callback,rootNode:t.rootNode||document,observeOwnChanges:!!t.observeOwnChanges,oldPreviousSibling:!!t.oldPreviousSibling,queries:[]},a=0;a<t.queries.length;a++){var s=t.queries[a];if(s.all){if(Object.keys(s).length>1)throw Error("Invalid request option. all has no options.");r.queries.push({all:!0})}else if("attribute"in s){if((l={attribute:o(s.attribute)}).elementFilter=v.parseSelectors("*["+l.attribute+"]"),Object.keys(s).length>1)throw Error("Invalid request option. attribute has no options.");r.queries.push(l)}else if("element"in s){var p=Object.keys(s).length,l={element:s.element,elementFilter:v.parseSelectors(s.element)};if(s.hasOwnProperty("elementAttributes")&&(l.attributeList=i(s.elementAttributes),p--),p>1)throw Error("Invalid request option. element only allows elementAttributes option.");r.queries.push(l)}else{if(!s.characterData)throw Error("Invalid request option. Unknown query request.");if(Object.keys(s).length>1)throw Error("Invalid request option. characterData has no options.");r.queries.push({characterData:!0})}}return r},e.prototype.createSummaries=function(e){if(!e||!e.length)return[];for(var t=new d(this.root,e,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling),n=[],r=0;r<this.options.queries.length;r++)n.push(new h(t,this.options.queries[r]));return n},e.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach((function(e){e&&e.recordPreviousState()}))},e.prototype.runQueryValidators=function(e){this.queryValidators.forEach((function(t,n){t&&t.validate(e[n])}))},e.prototype.changesToReport=function(e){return e.some((function(e){if(["added","removed","reordered","reparented","valueChanged","characterDataChanged"].some((function(t){return e[t]&&e[t].length})))return!0;if(e.attributeChanged&&Object.keys(e.attributeChanged).some((function(t){return!!e.attributeChanged[t].length})))return!0;return!1}))},e.prototype.observerCallback=function(e){this.options.observeOwnChanges||this.observer.disconnect();var t=this.createSummaries(e);this.runQueryValidators(t),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(t)&&this.callback(t),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))},e.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},e.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummaries(this.observer.takeRecords());return this.changesToReport(e)?e:void 0},e.prototype.disconnect=function(){var e=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,e},e.NodeMap=p,e.parseElementFilter=v.parseSelectors,e.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},e}();e.exports=b}}])})),function(e){e.namespace("Reamaze"),e(document).off("Reamaze"),Reamaze={version:"2.1.2",visitor:null,_baseUrl:null,_settings:null,_ui:null,_customFields:null,_contactCustomFields:null,_callbacks:null,_preview:null,_translations:{},initialize:function(t,n,r,a){if(!(t=t||{}).account)throw"account is not defined";if(!t.app_domain)throw"app_domain is not defined";if(t.account&&(t.account=t.account.toLowerCase()),this._baseUrl=t.protocol+t.account+"."+t.app_domain,this._baseDataUrl=t.protocol+t.account+"."+t.data_domain,this._pusherAppKey=t.pusherAppKey,this._ui=t.ui,this._customFields=r.widget,this._contactCustomFields=r.contact,this._settings=t,this._callbacks=a,this._translations=t.translations||{},this.styles=t.ui.styles||{},this.outbounds=t.outbounds||[],this.apps=t.apps||{},this.previewOptions=t.previewOptions||{},!this.styles.widgetColor&&this._ui&&this._ui.widget&&(this.styles.widgetColor=this._ui.widget.color||Reamaze.Styles.default.widgetColor),this.styles.widgetColor){var o=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*(0|1|0?\.\d+|0?\.\d+%|1\.0+%))?\)$/;/^#([A-Fa-f0-9]{3}){1,2}$/.test(this.styles.widgetColor)||o.test(this.styles.widgetColor)||(this.styles.headerBgColor=getColorFromGdColorPack(this.styles.widgetColor),this.styles.widgetColor=Reamaze.Styles.default.widgetColor,this.styles.buttonBgColor="rgb(17, 17, 17)",this.styles.headerBgColor||(this.styles.headerBgColor=Reamaze.Styles.default.headerBgColor,this.styles.buttonBgColor=Reamaze.Styles.default.buttonBgColor)),this.styles.headerBgColor||(this.styles.headerBgColor=this.styles.widgetColor);var i=Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.headerBgColor),Reamaze.Utils.parseColor(Reamaze.Styles.dark.headerFontColor))>3.25,s=i?Reamaze.Styles.dark.headerFontColor:Reamaze.Styles.default.widgetIconColor;if(this.styles.headerFontColor||(this.styles.headerFontColor=s),!this.styles.buttonBgColor){this.styles.buttonBgColor=this.styles.widgetColor;var p=Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.buttonBgColor),Reamaze.Utils.parseColor(Reamaze.Styles.dark.buttonFontColor))>3.25?Reamaze.Styles.dark.buttonFontColor:Reamaze.Styles.default.buttonFontColor;this.styles.buttonFontColor=p}this.styles.buttonBorder||(this.styles.buttonBorder="1px solid "+this.styles.widgetColor),this.styles.buttonLinkColor||(this.styles.buttonLinkColor=this.styles.widgetColor),this.styles.bodyLinkColor=i?s:this.styles.widgetColor,Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.bodyLinkColor),Reamaze.Utils.parseColor("#333"))<2&&(this.styles.bodyLinkColor=Reamaze.Utils.pSBC(.35,this.styles.bodyLinkColor)||this.styles.widgetColor,Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.bodyLinkColor),Reamaze.Utils.parseColor("#333"))<4&&(this.styles.bodyLinkColor=Reamaze.Utils.pSBC(.35,this.styles.bodyLinkColor,"rgb(0, 192, 255)")||this.styles.bodyLinkColor)),this.styles.buttonBorderRadius=Reamaze.Styles.default.buttonBorderRadius,this.styles.inputBgColor=Reamaze.Styles.default.inputBgColor,this.styles.inputFontColor=Reamaze.Styles.default.inputFontColor,this.styles.inputBorder=Reamaze.Styles.default.inputBorder}var l=function(){e(document).trigger("Reamaze.init",!window._rmzLoaded),document.dispatchEvent(new CustomEvent("Reamazeinit",{detail:!window._rmzLoaded})),window._rmzLoaded=!0,e.receiveMessage((function(t){try{var n=e.deparam(t.data);"reamaze:resize"==n._command?e(document).trigger("Reamaze.resize",n):"reamaze:navigate"==n._command?(e(document).trigger("Reamaze.navigate",n),e(document).trigger("Reamaze.resize",n)):"reamaze:new"==n._command?e(document).trigger("Reamaze.openPopup",n):"reamaze:esc"==n._command?e(document).trigger("Reamaze.closePopup"):"reamaze:widget:route"==n._command?e(document).trigger("Reamaze.Widget.route",n):"reamaze:anchorHeight"==n._command&&e(document).trigger("Reamaze.anchorHeight",n)}catch(t){}}),function(e){return e===this._baseUrl||e===window.origin}.bind(this))}.bind(this);if(t._preview)return this._preview=!0,this.reset(),void(this._visitor=new Reamaze.Visitor(null,this._baseDataUrl,l,!0,!!t._setup));var c=Reamaze.localStorage.getItem("account");c?c!=this._settings.account&&Reamaze.reset():Reamaze.localStorage.setItem("account",this._settings.account),this._visitor=new Reamaze.Visitor(n,this._baseDataUrl,l)},_iframeform:function(t,n){var r=this;r.time=(new Date).getTime(),r.form=e('<form action="'+t+'" target="'+n.attr("name")+'" method="post" style="display:none;" id="form'+r.time+'"></form>'),r.addParameter=function(t,n){e("<input type='hidden' />").attr("name",t).attr("value",n).appendTo(r.form)},r.send=function(){e("body").append(r.form),r.form.submit(),n.bind("load",(function(){e("#form"+e(this).data("time")).remove()}))}},reset:function(){Reamaze.localStorage.reset(),Reamaze.sessionStorage.reset(),Reamaze.localStorage.setItem("account",this._settings.account)}}}(jQuery),function(e){e.namespace("Reamaze"),Reamaze.Styles={default:{headerBgColor:"#10a2c5",headerFontColor:"#fff",headerFont:'"Nunito", Helvetica, Arial, sans-serif',bodyLinkColor:"#466bb8",bodyLinkDisabledColor:"#dedede",bodyFont:'"Nunito", Helvetica, Arial, sans-serif',bodyMutedFontColor:"#ccc",buttonBgColor:"#10a2c5",buttonFontColor:"#fff",buttonBorder:"1px solid #ccc",buttonLinkColor:"#10a2c5",buttonBorderRadius:"20px",inputBgColor:"#fff",inputFontColor:"#000",inputBorder:"1px solid #ddd",inputErrorColor:"#B94A48",widgetColor:"rgba(16, 161, 197, 1)",widgetIconColor:"rgba(255, 255, 255, 1)"},dark:{headerFontColor:"#5e5e5e",buttonFontColor:"#5e5e5e",widgetIconColor:"#5e5e5e"},fromBrand:function(t,n){var r=n||{},a={};return t&&t.preferences&&(a.headerBgColor=t.preferences.popup_header_bg_color,a.headerFontColor=t.preferences.popup_header_font_color,a.headerFont=t.preferences.popup_header_font,a.bodyLinkColor=t.preferences.popup_link_color,a.bodyFont=t.preferences.popup_body_font,a.buttonBgColor=t.preferences.popup_button_bg_color,a.buttonFontColor=t.preferences.popup_button_font_color,a.buttonBorder=t.preferences.popup_button_border,a.buttonBorderRadius=t.preferences.popup_button_border_radius,a.buttonLinkColor=t.preferences.popup_link_color,a.inputBgColor=t.preferences.popup_input_bg_color,a.inputFontColor=t.preferences.popup_input_font_color,a.inputBorder=t.preferences.popup_input_border),e.extend({},Reamaze.Styles.default,a,r)}}}(jQuery),function(e){e.namespace("Reamaze"),Reamaze.Utils={getLocaleDateString:function(e){var t={formatMatcher:"basic",month:"short",day:"numeric"};(new Date).getYear()!=e.getYear()&&(t.year="numeric");try{return e.toLocaleDateString(window.navigator.language,t)}catch(t){return e.toLocaleDateString()}},getLocaleTimeString:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];try{return e.toLocaleTimeString(window.navigator.language,{formatMatcher:"basic",hour:"numeric",minute:"2-digit",hour12:!t})}catch(n){try{return e.toLocaleTimeString({hour12:!t})}catch(n){return e.toLocaleTimeString("en-US",{formatMatcher:"basic",hour:"numeric",minute:"2-digit",hour12:!t})}}},entitiesDecode:function(t){return e("<textarea/>").html(t).text()},simpleFormat:function(e){var t=/\r\n?/g,n=/\n\n+/g,r=/([^\n]\n)(?=[^\n])/g,a=e;return(a=(a=(a=a.replace(t,"\n")).replace(n,"</p>\n\n<p>")).replace(r,"$1<br/>"))&&(a="<p>"+a+"</p>"),a=(a=a.replace(/^<p><p>/g,"<p>")).replace(/<\/p><\/p>$/g,"</p>")},escapeOnce:function(e){var t=/["><']|&(?!([a-zA-Z]+|(#\d+)|(#[xX][\dA-Fa-f]+));)/g,n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};return e.replace(t,(function(e){return n[e]||e}))},getUserDisplayDetails:function(e,t,n,r){if(!e)return null;var a=Reamaze.Utils.getDisplayStaffAvatars(t,n,r||("brand"===e.type?"brand-avatar":e.type));if(e.isStaff||"staff"===e.type){if(e.name&&t.allStaffAvatars){var o=t.allStaffAvatars.filter((function(t){return t.name===e.name||t.name===e.staffName}));if(o.length>0)return{name:o[0].displayName,avatarUrls:[o[0].avatarUrl]}}if(e.avatarUrl||e.avatarUrls&&e.avatarUrls.length>0){var i=e.avatarUrls&&e.avatarUrls.length>0?e.avatarUrls:[e.avatarUrl];return{name:e.name,avatarUrls:i}}var s=a[Math.floor(Math.random()*a.length)];return{name:s.displayName,avatarUrls:[s.avatarUrl]}}if("team"==e.type||"brand"==e.type)return{name:t.name,avatarUrls:a.map((function(e){return e.avatarUrl}))};if(e){var p=e.avatarUrls||[];return e.avatarUrl&&(p=[e.avatarUrl]),{name:e.name,avatarUrls:p}}return null},getDisplayStaffAvatars:function(e,t,n){if("brand-avatar"===n&&e&&e.brandAvatarUrl)return[{avatarUrl:e.brandAvatarUrl}];if("team"!=n&&t&&t.length>0)return t.map((function(e){return{avatarUrl:e}}));var r=[];return e&&(e.liveStaffAvatars&&e.liveStaffAvatars.length>0?r=e.liveStaffAvatars:e.staffAvatars&&e.staffAvatars.length>0&&(r=e.staffAvatars)),r},pSBC:function(e,t,n){if("number"!=typeof e||e<-1||e>1||"string"!=typeof t||"r"!=t[0]&&"#"!=t[0]||n&&"string"!=typeof n)return null;this.pSBCr||(this.pSBCr=function(e){var t=e.length,n={};if(t>9){if((e=e.split(",")).length<3||e.length>4)return null;n[0]=r(e[0].split("(")[1]),n[1]=r(e[1]),n[2]=r(e[2]),n[3]=e[3]?parseFloat(e[3]):-1}else{if(8==t||6==t||t<4)return null;t<6&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(t>4?e[4]+""+e[4]:"")),e=r(e.slice(1),16),n[0]=e>>16&255,n[1]=e>>8&255,n[2]=255&e,n[3]=-1,9!=t&&5!=t||(n[3]=a(n[2]/255*1e4)/1e4,n[2]=n[1],n[1]=n[0],n[0]=e>>24&255)}return n});var r=parseInt,a=Math.round,o=t.length>9,i=(o="string"==typeof n?n.length>9||"c"==n&&!o:o,e<0),s=(e=i?-1*e:e,n=n&&"c"!=n?n:i?"#000000":"#FFFFFF",this.pSBCr(t)),p=this.pSBCr(n);return s&&p?o?"rgb"+(s[3]>-1||p[3]>-1?"a(":"(")+a((p[0]-s[0])*e+s[0])+","+a((p[1]-s[1])*e+s[1])+","+a((p[2]-s[2])*e+s[2])+(s[3]<0&&p[3]<0?")":","+(s[3]>-1&&p[3]>-1?a(1e4*((p[3]-s[3])*e+s[3]))/1e4:p[3]<0?s[3]:p[3])+")"):"#"+(4294967296+16777216*a((p[0]-s[0])*e+s[0])+65536*a((p[1]-s[1])*e+s[1])+256*a((p[2]-s[2])*e+s[2])+(s[3]>-1&&p[3]>-1?a(255*((p[3]-s[3])*e+s[3])):p[3]>-1?a(255*p[3]):s[3]>-1?a(255*s[3]):255)).toString(16).slice(1,s[3]>-1||p[3]>-1?void 0:-2):null},parseColor:function(e){if("#"==e.substr(0,1)){var t=(e.length-1)/3,n=[17,1,.062272][t-1];return[Math.round(parseInt(e.substr(1,t),16)*n),Math.round(parseInt(e.substr(1+t,t),16)*n),Math.round(parseInt(e.substr(1+2*t,t),16)*n)]}try{return e.split("(")[1].split(")")[0].split(",").map((function(e){return+e}))}catch(e){return[NaN,NaN,NaN]}},colorLuminance:function(e,t,n){var r=[e,t,n].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*r[0]+.7152*r[1]+.0722*r[2]},colorContrast:function(e,t){var n=this.colorLuminance(e[0],e[1],e[2]),r=this.colorLuminance(t[0],t[1],t[2]);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},isBrighter:function(e,t){return this.colorLuminance(e[0],e[1],e[2])>this.colorLuminance(t[0],t[1],t[2])},massageUserAgent:function(e){var t=e.userAgent;if("MacIntel"===e.platform&&e.maxTouchPoints>1&&!window.MSStream){var n=t.indexOf("Safari/");return"ipad os _ like mac "+t.substring(0,n)+"Mobile "+t.substring(n)}return t}},Reamaze.Utils.Pusher={bindChunked:function(e,t,n){e.bind(t,n);var r={};e.bind("chunked-"+t,(function(e){r.hasOwnProperty(e.id)||(r[e.id]={chunks:[],receivedFinal:!1});var t=r[e.id];t.chunks[e.index]=e.chunk,e.final&&(t.receivedFinal=!0),t.receivedFinal&&t.chunks.length===Object.keys(t.chunks).length&&(n(JSON.parse(t.chunks.join(""))),delete r[e.id])}))}}}(jQuery),jQuery.namespace("Reamaze"),Reamaze.Constants={countries:["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia, Plurinational State of","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo, The Democratic Republic of the","Cook Islands","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czechia","C\xf4te d'Ivoire","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran, Islamic Republic of","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People's Republic of","Korea, Republic of","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova, Republic of","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","North Macedonia","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela, Bolivarian Republic of","Vietnam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land Islands"]},function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ACTIONS={CONVERSATION_CREATED:"CONVERSATION_CREATED",CONVERSATION_UPDATED:"CONVERSATION_UPDATED",CHAT_ENDED:"CHAT_ENDED",CONVERSATION_STARTED_MESSAGE_TRIGGERED:"CONVERSATION_STARTED_MESSAGE_TRIGGERED",MESSAGE_CREATED:"MESSAGE_CREATED",MESSAGE_READ:"MESSAGE_READ",MESSAGE_APPRECIATED:"MESSAGE_APPRECIATED",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",SUBMITTING_MODAL:"SUBMITTING_MODAL",GET_CONVERSATION:"GET_CONVERSATION",GET_CONVERSATION_CALLBACK:"GET_CONVERSATION_CALLBACK",GET_CONVERSATIONS:"GET_CONVERSATIONS",GET_CONVERSATIONS_CALLBACK:"GET_CONVERSATIONS_CALLBACK",VIDEO_CALL_OFFER:"VIDEO_CALL_OFFER",VIDEO_CALL_DECLINED:"VIDEO_CALL_DECLINED",VIDEO_CALL_ANSWERED:"VIDEO_CALL_ANSWERED",SET_SHOW_FOOTER:"SET_SHOW_FOOTER",COLLECT_C2_IDENTITY:"COLLECT_C2_IDENTITY"};var o=function(e,t){switch(t.type){case Reamaze.Conversations.ACTIONS.CHAT_ENDED:return e.modal=null,e;case Reamaze.Conversations.ACTIONS.OPEN_MODAL:return e.modal=t.payload,e;case Reamaze.Conversations.ACTIONS.CLOSE_MODAL:return e.modal=null,e;case Reamaze.Conversations.ACTIONS.SUBMITTING_MODAL:return e.modal.submitting=t.payload.submitting,e;case Reamaze.Conversations.ACTIONS.SET_SHOW_FOOTER:return e.showFooter=t.payload.showFooter,e;default:return null}};Reamaze.Conversations.App=r({mixins:[TimerMixin],displayName:"Reamaze.Conversations.App",propTypes:{chatIsLive:a.bool,enableKb:a.bool,currentUser:a.object,active:a.bool,onAppMounted:a.func,contactHeader:a.string,conversations:a.object,conversationsFetched:a.bool,category:a.string,appContext:a.object.isRequired,contactMode:a.string,popupOptions:a.shape({override_placeholder:a.string,subject:a.string}),brandData:a.object},contextTypes:{window:a.object},getDefaultProps:function(){return{}},getInitialState:function(){var t=new Reamaze.Dispatcher,n=function(t){var n=e.extend({},this.state);n.effects=[],(n=o(n,t))&&this.setState(n)}.bind(this);return t.register(n),this.props.appContext.dispatcher.register(n),{dispatcher:t,currentUser:this.props.currentUser,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,submitting:!1,showFooter:!0}},componentWillReceiveProps:function(e){var t={currentUser:e.currentUser,inView:e.active&&e.appContext.shoutbox.open,chatIsLive:e.chatIsLive};t.currentUser==this.state.currentUser&&t.inView==this.state.inView&&t.chatIsLive==this.state.chatIsLive||this.setState(t)},componentDidMount:function(){this.props.onAppMounted(),this.state.inView&&this.setTimeout(this.updateLiveStatus,0),this.setInterval(this.updateLiveStatus,1e4)},componentDidUpdate:function(t,n){(t.appContext.route!=this.props.appContext.route||this.props.active&&t.active!=this.props.active)&&(e(this.context.window).trigger("app:reinitjs"),n.modal&&this.setState({modal:null})),"conversations:show"!=this.props.appContext.route||this.props.conversations[this.props.appContext.routeParams.slug]||this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index"}})},_onBackButtonClicked:function(){this.props.appContext.prevRoute&&!this.props.appContext.prevRoute.match(/^conversations/)?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:this.props.appContext.prevRoute,routeParams:this.props.appContext.prevRouteParams}}):this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index"}})},_scrollContent:function(e){if(this.refs.content){var t=n.findDOMNode(this.refs.content);t.scrollTop="t"==e?0:"b"==e?100*t.scrollHeight:e}},_openEmailTranscriptPopup:function(e){this.state.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"email_transcript",slug:e}})},_openEndChatPopup:function(e){this.state.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"end_chat",slug:e}})},_setShowFooter:function(e){this.state.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.SET_SHOW_FOOTER,payload:{showFooter:e}})},isEscaledOnEscalatedMode:function(){var e=this.props,t=e.currentUser,n=e.conversations,r=e.appContext,a=r.contactMode,o=r.routeParams,i=r.brand.experimentContext;if(!("escalated"===a||i&&i.treatAsEscalated))return!1;if(!o)return!1;var s=n[o.slug];if(!s)return!1;var p=s.botHandoverPresent,l=s.loaded,c=s.showCollectC2Identity,u=s.messages,d=s.botsEnabled;if(l&&c)return!0;try{var h=u.some((function(e){return e.user.isStaff})),f=u.some((function(e){return!e.user.isStaff}));return(p||!d)&&l&&!t.hasEmail()&&!h&&f}catch(e){return console.error("Error in isEscaledOnEscalatedMode:",e),!1}},submitUserTransition:function(t){var n=this.props,r=n.currentUser,a=n.conversations,o=n.appContext,i=o.routeParams,s=o.baseDataUrl,p=o.dispatcher,l=o._preview,c=o.contactMode,u=o.brand.experimentContext;l||this.setState({submitting:!0},(function(){var n=this,o={sparams:e.param({sso:r.ssoData()})};t.forEach((function(e){"user[name]"===e.name&&(o.name=e.value),"user[email]"===e.name&&(o.email=e.value),!o.name||o.email}));var l=r.get("_id")?s+"/data/users/"+r.get("_id")+"/transition":s+"/data/users";e.ajax({url:l,type:"POST",data:o,success:function(e){var t=r.getAnonymousId();r.set("_id",e.id),r.setAnonymousId(e.anonymous_id),r.set("email",e.email),r.set("name",e.name),n.setState({success:!0}),p.dispatch({type:Reamaze.ACTIONS.USER_TRANSITION,payload:{fromAnonymousId:t}}),("escalated"===c||u&&u.treatAsEscalated)&&p.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_STARTED_MESSAGE_TRIGGERED,payload:{conversationSlug:i.slug,conversationId:a[i.slug].id}})},complete:function(){n.setState({submitting:!1}),n._setShowFooter(!0),p.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:i.slug,props:{showCollectC2Identity:!1}}})},crossDomain:!0})}))},onSubmit:function(t){if(!this.props.appContext._preview){var n=this.props.conversations[this.props.appContext.routeParams.slug],r=n&&n.outbound&&1==n.messages.length;return r?(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_MESSAGE,payload:{data:{message:t},slug:n.slug}}),!1):(this.setState({submitting:!0},function(){var a=this.props.appContext.getPusher(),o={message:t};a&&a.connection&&a.connection.socket_id&&(o.socket_id=a.connection.socket_id),this.props.currentUser&&(o.sparams=e.param({sso:this.props.currentUser.ssoData()}));var i=Math.floor(Date.now()/1e3);o._zt=Reamaze.ec("0"+i),o._zt2=i,o._zc_field="5b5cd0da3121fc53b4bc84d0c8af2e81",this.state.chatIsLive&&(o.chat=1),r?(o._url=window.location.href,o._browser=Reamaze.Utils.massageUserAgent(window.navigator),n.outboundData&&(o.outbound_data_str=JSON.stringify(n.outboundData)),e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations",type:"POST",data:o,success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED,payload:{conversation:e.conversation,user:e.user}})}.bind(this),complete:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0})):e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+n.slug+"/messages",type:"POST",data:o,beforeSend:function(e){e.requestId=Math.floor(99999999*Math.random()+1),e.messagePayload={id:"pending-"+e.requestId,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(o.message.body)),pending:!0,user:{id:this.props.currentUser.get("_id"),name:this.props.currentUser.get("name"),email:this.props.currentUser.get("email")},viewed:!1,createdAt:(new Date).toISOString(),requestId:e.requestId},o.message.attachment_ids&&(e.messagePayload.pendingData={message:{attachment_ids:o.message.attachment_ids}}),this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:e.messagePayload,conversationSlug:n.slug,conversationId:n.id,inView:!0}})}.bind(this),success:function(e,t,r){e.requestId=r.requestId,e.pending=!1,this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:e,conversationSlug:n.slug,conversationId:n.id,inView:!0}})}.bind(this),error:function(e){m=e.messagePayload,m.requestId=e.requestId,m.pending=!1,m.errored=!0,this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:m,conversationSlug:n.slug,conversationId:n.id,inView:!0}})}.bind(this),complete:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0})}.bind(this)),!1)}},updateLiveStatus:function(){this.props.appContext.brand.chatEnabled&&this.state.inView&&this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING_LIVE_STATUS})},getHeader:function(){var e=!1,n=null;if("conversations:show"==this.props.appContext.route&&(n=this.props.conversations[this.props.appContext.routeParams.slug])&&n.outbound&&1==n.messages.length&&(e=!0),n&&n.loaded&&!e){for(var r={},a=0;a<n.messages.length;a++){var o=n.messages[a];o.user.isStaff&&(r[o.user.id]=o.user)}if(Object.keys(r).length>1&&r[void 0]&&delete r[void 0],Object.keys(r).length>0)return t.createElement("div",{className:"staff-avatars"},Object.keys(r).slice(0,3).map(function(e,n){var a=r[e],o=a.avatarUrl||Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode)[0].avatarUrl;return t.createElement("img",{title:a.displayName,style:{position:"relative",zIndex:3-e},src:o,key:n})}.bind(this)))}return this.props.contactHeader||!1},getSecondaryHeader:function(){var e=!1,n=!1,r=null;return"conversations:show"==this.props.appContext.route&&(r=this.props.conversations[this.props.appContext.routeParams.slug])&&r.outbound&&r.outboundData&&1==r.messages.length&&(e=!0,r.outboundData.live&&Date.now()-r.outboundData.timestamp<6e5&&(n=!0)),!(!r||e&&!n)&&(r.isChat?t.createElement("div",{id:"secondary-header"},t.createElement("div",{id:"chat-actions"},t.createElement("a",{href:"javascript:;",onClick:function(e){e.preventDefault(),e.stopPropagation(),this._openEmailTranscriptPopup(r.slug)}.bind(this),title:this.props.appContext.brand.preferences.trans_chat_email_transcript},t.createElement("i",{className:"fas rmzfa rmzfa-envelope anim-btn"})),"archived"!=r.status&&t.createElement("a",{href:"javascript:;",onClick:function(e){e.preventDefault(),e.stopPropagation(),this._openEndChatPopup(r.slug)}.bind(this),title:this.props.appContext.brand.preferences.trans_chat_end_chat_label},t.createElement("i",{className:"fas rmzfa rmzfa-power-off anim-btn"})))):t.createElement(Reamaze.Conversations.Availability,{chatIsLive:this.state.chatIsLive,brand:this.props.appContext.brand}))},getContent:function(){if("conversations:show"==this.props.appContext.route){var n=this.props.conversations[this.props.appContext.routeParams.slug];if(n)return t.createElement(Reamaze.Conversations.Conversation,{ref:"contentInner",conversation:e.extend({},n),dispatcher:this.state.dispatcher,channel:!n.outbound&&!n.preview&&this.props.appContext.getPusher().channel("presence-conversation-"+n.id),scrollContent:this._scrollContent,currentUser:this.state.currentUser,inView:this.state.inView,documentVisible:this.props.appContext.documentVisible,appContext:this.props.appContext,chatIsLive:this.state.chatIsLive,category:this.props.category,contactMode:this.props.contactMode,onPromptOptionClick:this.onSubmit,submitting:this.state.submitting,videoCallInformation:this.props.videoCallInformation,brandData:this.props.brandData,setShowFooter:this._setShowFooter,isEscaledOnEscalatedMode:this.isEscaledOnEscalatedMode(),submitUserTransition:this.submitUserTransition})}else if("conversations:index"==this.props.appContext.route){if(Object.keys(this.props.conversations||{}).length)return t.createElement("div",{id:"recent-conversations-container"},t.createElement(Reamaze.Conversations.ConversationList,{conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,onMount:this._scrollContent.bind(this,"t"),ref:"contentInner",appContext:this.props.appContext}))}else if("conversations:new"==this.props.appContext.route){var r="object"==typeof this.props.label?this.props.label.text:this.props.label;if("traditional"==this.props.contactMode)return t.createElement(Reamaze.Conversations.ContactForm,{appContext:this.props.appContext,inView:this.state.inView,currentUser:this.props.currentUser,category:this.props.category,override_placeholder:this.props.popupOptions.override_placeholder,subject:this.props.popupOptions.subject});var a=this.props.appContext.brand.allowIncidents&&this.props.appContext.brand.activeIncidents.length>0;if(r||a){var o=this.props.appContext.brand.activeIncidents.reduce((function(e,t,n){return 0===n?t.title:e+", "+t.title}),""),i=[];return a&&i.push({id:"*rmz-incident-text*",system:!0,user:{displayAsStaff:!0},createdAt:new Date,body:o,meta:{buttons:[{text:this.props.appContext.brand.preferences.trans_status_view_status_button,script:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index"}})}.bind(this)}]}}),r&&i.push({id:"*rmz-prompt*",system:!0,user:{displayAsStaff:!0},createdAt:new Date,body:this.props.label.text}),t.createElement(Reamaze.Conversations.Conversation,{ref:"contentInner",conversation:{id:"*rmz-prompt*",slug:"*rmz-prompt*",loaded:!1,outbound:!0,messages:i},dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,inView:this.state.inView,documentVisible:this.props.appContext.documentVisible,appContext:this.props.appContext,chatIsLive:this.state.chatIsLive,category:this.props.category,scrollContent:this._scrollContent,contactMode:this.props.contactMode,brandData:this.props.brandData,setShowFooter:this._setShowFooter,isEscaledOnEscalatedMode:this.isEscaledOnEscalatedMode(),submitUserTransition:this.submitUserTransition})}}return null},getFooter:function(){if("conversations:show"==this.props.appContext.route&&this.props.conversations[this.props.appContext.routeParams.slug]){var n=this.props.conversations[this.props.appContext.routeParams.slug],r=n.messages&&n.messages.length>0?new Date-new Date(n.messages[n.messages.length-1].createdAt):0,a=6048e5,o=1728e5;return"archived"===n.status&&(n.isChat||r>o)||"deleted"===n.status||"resolved"===n.status&&r>a?t.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.state.inView,chatIsLive:this.state.chatIsLive,onSubmit:this.onNewMessageSubmit,conversations:this.props.conversations,overridePlaceholder:this.props.popupOptions.override_placeholder}):t.createElement(Reamaze.Conversations.ConversationFooter,{
conversation:e.extend({},this.props.conversations[this.props.appContext.routeParams.slug]),ref:"footer",dispatcher:this.state.dispatcher,scrollContentToBottom:this._scrollContent.bind(this,"b"),currentUser:this.state.currentUser,inView:this.state.inView,chatIsLive:this.state.chatIsLive,blur:!!this.state.modal,appContext:this.props.appContext,contactMode:this.props.contactMode,onSubmit:this.onSubmit,submitting:this.state.submitting})}return"conversations:new"==this.props.appContext.route&&"traditional"==this.props.contactMode?null:t.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.state.inView,chatIsLive:this.state.chatIsLive,onSubmit:this.onNewMessageSubmit,conversations:this.props.conversations,overridePlaceholder:this.props.popupOptions.override_placeholder})},onNewMessageSubmit:function(t){var n=t.customer_body;delete t.customer_body;var r={message:t,customer_body:n};this.props.currentUser&&(r.sparams=e.param({sso:this.props.currentUser.ssoData()}));var a=Math.floor(Date.now()/1e3),o=Reamaze.ec("0"+a);return r._zt=o,r._zt2=a,r._url=window.location.href,r._browser=Reamaze.Utils.massageUserAgent(window.navigator),r.chat=this.state.chatIsLive,this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_CONVERSATION,payload:{slug:"*tmp-"+o,data:r}}),!1},getModal:function(){if(!this.state.modal)return null;var e=0;if(this.refs.header){var r=n.findDOMNode(this.refs.header);r&&(e=r.offsetHeight||0)}return"end_chat"==this.state.modal.action?t.createElement(Reamaze.Conversations.EndChatModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{top:e},appContext:this.props.appContext}):"email_transcript"==this.state.modal.action?t.createElement(Reamaze.Conversations.EmailTranscriptModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{top:e},appContext:this.props.appContext}):"transitional"==this.state.modal.action?t.createElement(Reamaze.Conversations.TransitionalModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{bottom:0},appContext:this.props.appContext}):void 0},render:function(){var e=this.state,n=e.chatIsLive,r=e.modal,a=e.showFooter,o=this.props,i=o.active,s=o.appContext,p=o.brandData,l=o.contactMode,c=o.enableKb;if(!i)return null;var u=!(s.routeParams&&s.routeParams.noback||"conversations:show"!==s.route&&"conversations:new"!==s.route);return t.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},t.createElement(Reamaze.Conversations.Css,{appContext:s}),t.createElement(Reamaze.Shared.Header,{allowHtmlHeader:!0,appContext:s,backButton:u,chatIsLive:n,enableKb:c,header:this.getHeader(),onBackButtonClicked:this._onBackButtonClicked,ref:"header",secondaryHeader:this.getSecondaryHeader()}),t.createElement(Reamaze.Disclaimer,{brandData:p}),t.createElement("div",{id:"content",ref:"content",className:(r?"rmz-blur":"")+" "+(!1===s.brand.attribution?"":"attributed")},t.createElement("div",{id:"content-inner",className:"traditional"===l&&"conversations:new"===s.route?"flex":""},this.getContent()),t.createElement(Reamaze.Attribution,{appContext:s,style:{textAlign:"center",paddingBottom:"5px"}})),a&&this.getFooter(),this.getModal())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Availability=r({displayName:"Reamaze.Conversations.Availability",propTypes:{chatIsLive:a.bool,brand:a.object},render:function(){var e=this.getAvailability();return e?t.createElement("div",{className:"availability"},e):null},getAvailability:function(){return this.props.chatIsLive?this.props.brand.preferences.trans_chat_online:this.props.brand.inOffice||!this.props.brand.nextOfficeTime?this.props.brand.staffResponseTime:this.nextOfficeHour()},_transNextOfficeHour:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"date":arguments[2],r=null,a="%H:%M"==this.props.brand.preferences.time_format;return r="time"==n?Reamaze.Utils.getLocaleTimeString(e,a):Reamaze.Utils.getLocaleDateString(e),null!==t&&t<=5184e5&&(r=e.toLocaleDateString(window.navigator.language,{weekday:"long"})),this.props.brand.preferences.trans_popup_staff_next_available_time.replace(/{{\s*date_time\s*}}/g,r)},nextOfficeHour:function(){return t.createElement("span",null,t.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 93.651 93.651",style:{position:"relative",top:"4px",marginRight:"3px"},width:"18px",height:"18px"},t.createElement("path",{d:"M62.093,73.15c-6.914,6.679-15.97,10.31-25.404,10.31c-1.603,0-3.217-0.105-4.833-0.318  C11.831,80.508-2.318,62.073,0.315,42.047C2.95,22.022,21.38,7.871,41.411,10.506c0.515,0.068,1.024,0.152,1.531,0.24  c0.718,0.125,1.305,0.643,1.519,1.34c0.214,0.697,0.018,1.455-0.506,1.961c-4.536,4.381-7.628,9.811-9.071,15.851h-3.974  c1.243-5.848,3.853-11.21,7.684-15.774c-0.664-0.04-1.325-0.06-1.983-0.06c-16.179,0-30.289,12.023-32.455,28.488  C1.8,60.461,14.453,76.947,32.362,79.303c8.714,1.144,17.36-1.211,24.233-6.511c-6.034-1.719-11.336-4.895-15.584-9.072h5.921  c4.03,3.045,8.826,5.203,14.148,6.13c0.718,0.125,1.305,0.643,1.519,1.34C62.813,71.886,62.618,72.643,62.093,73.15z M71.026,57.598  c0-1.069-0.867-1.937-1.937-1.937h-9.212l10.453-10.555c0.549-0.555,0.712-1.387,0.411-2.108c-0.301-0.721-1.006-1.191-1.787-1.191  h-13.72c-1.069,0-1.937,0.867-1.937,1.937c0,1.07,0.867,1.937,1.937,1.937h9.077L53.858,56.236  c-0.549,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h13.855C70.158,59.535,71.026,58.668,71.026,57.598z   M93.651,57.598c0-1.069-0.867-1.937-1.937-1.937h-9.211l10.453-10.555c0.55-0.555,0.712-1.387,0.411-2.108  c-0.301-0.721-1.006-1.191-1.787-1.191H77.86c-1.069,0-1.937,0.867-1.937,1.937c0,1.07,0.867,1.937,1.937,1.937h9.076L76.484,56.236  c-0.549,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h13.854C92.784,59.535,93.651,58.668,93.651,57.598z   M48.798,57.598c0-1.069-0.867-1.937-1.937-1.937H29.77l18.257-18.436c0.55-0.555,0.712-1.387,0.411-2.108  c-0.301-0.721-1.006-1.191-1.787-1.191H25.127c-1.07,0-1.937,0.867-1.937,1.936c0,1.07,0.867,1.937,1.937,1.937h16.881  L23.751,56.236c-0.55,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h21.735  C47.931,59.535,48.798,58.668,48.798,57.598z",fill:"#FFFFFF",style:{fill:"#fff"}}))," ",function(){var e=new Date(this.props.brand.nextOfficeTime),t=new Date,n=e-t;if(n>864e5||t.getDate()!==e.getDate()){try{return this._transNextOfficeHour(e,n)}catch(e){}return this._transNextOfficeHour(e,null)}return this._transNextOfficeHour(e,null,"time")}.bind(this)())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ChatBusyMessage=r({displayName:"Reamaze.Conversations.ChatBusyMessage",mixins:[TimerMixin],propTypes:{appContext:a.object.isRequired},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},render:function(){var e=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode).slice(0,3);return t.createElement("li",{className:"message staff chat-busy prompt rmz-fade "+(this.state.visible?"in":"")},e.map((function(n,r){return t.createElement("div",{className:"message-user-image",key:r,style:{bottom:15*(e.length-r-1)+5+"px"}},t.createElement("img",{src:n.avatarUrl,alt:n.name}))})),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap","aria-live":"polite"},this.props.appContext.brand.preferences.trans_chat_staff_busy_text," ",this.props.appContext.brand.preferences.trans_chat_staff_busy_follow_up)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ChatEndedMessage=r({displayName:"Reamaze.Conversations.ChatEndedMessage",mixins:[TimerMixin],propTypes:{appContext:a.object.isRequired,conversation:a.object.isRequired},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},getMessageContent:function(){var e=this.props,n=e.conversation,r=e.appContext.brand.preferences,a=r.trans_chat_ended,o=r.trans_conversation_ended;if(n.isChat){var i=a.match(/\[(.*?)\]/);if(i&&i[1])return t.createElement("div",{dangerouslySetInnerHTML:{__html:a.replace(/\[(.*?)\]/,'<a href="'+this.props.conversation.permalink+'" target="_blank">$1</a>')}})}return t.createElement("div",null,n.isChat?a:o)},render:function(){var e=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode).slice(0,3),n=this.getMessageContent();return t.createElement("li",{className:"message staff chat-ended prompt rmz-fade "+(this.state.visible?"in":"")},e.map((function(n,r){return t.createElement("div",{className:"message-user-image",style:{bottom:15*(e.length-r-1)+5+"px"},key:r},t.createElement("img",{src:n.avatarUrl,alt:n.name}))})),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap","aria-live":"polite"},n)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ContactForm=r({displayName:"Reamaze.Conversations.ContactForm",propTypes:{appContext:a.object.isRequired,inView:a.bool,override_placeholder:a.string,subject:a.string},getDefaultProps:function(){return{inView:!1}},getInitialState:function(){return{uploading:!1,attachmentsCount:0,showErrors:!1,submitting:!1}},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.state.uploading!=t.uploading||this.state.submitting!=t.submitting||this.state.attachmentsCount!=t.attachmentsCount||this.state.messageBlank!=t.messageBlank||this.state.showErrors!=t.showErrors},contextTypes:{window:a.object},componentDidMount:function(){e(this.context.window.document).find("#contact_form").on("attachments:add",function(){this.setState((function(e){return{attachmentsCount:e.attachmentsCount+1}}))}.bind(this)).on("attachments:remove",function(){this.setState((function(e){return{attachmentsCount:e.attachmentsCount-1}}))}.bind(this)).on("attachments:start",function(){this.setState({uploading:!0})}.bind(this)).on("attachments:done",function(){this.setState({uploading:!1})}.bind(this)),e(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize(n.findDOMNode(this.refs.body))},componentDidUpdate:function(){e(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize.update(n.findDOMNode(this.refs.body))},componentWillUnmount:function(){e(this.context.window.document).find("#contact_form").off("attachments:add").off("attachments:remove").off("attachments:start").off("attachments:done"),e(this.context.window.document).find(n.findDOMNode(this.refs.fileupload1)).remove(),e(this.context.window.document).find(n.findDOMNode(this.refs.fileupload2)).remove()},_getStyleTag:function(){return t.createElement("style",null,"\n          form#contact_form #fileupload-wrap {\n            white-space: nowrap;\n            margin-top: 5px;\n          }\n          form#contact_form input#fileupload {\n            position: absolute;\n          }\n          form#contact_form #fileupload-wrap > div {\n            margin-right: 10px;\n            white-space: nowrap;\n            vertical-align: middle;\n            display: inline-block;\n          }\n          form#contact_form .attachment-cta {\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n          }\n          form#contact_form .attachment-count {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            color: #fff;\n          }\n          form#contact_form.has-attachment-errors .attachment-count {\n            display: none;\n          }\n          form#contact_form .attachments-error-indicator {\n            display: none;\n          }\n          form#contact_form.has-attachment-errors .attachments-error-indicator {\n            display: inline-block;\n          }\n          form#contact_form .action-bar {\n            text-align: right;\n          }\n          form#contact_form #body-container {\n            margin-bottom: 10px;\n          }\n          form#contact_form #body-container textarea {\n            width: 100%;\n            padding: 5px;\n            margin: 0;\n            border: 0;\n            min-height: 100%;\n            height: 100px;\n            overflow-y: hidden;\n            -ms-overflow-style: none;\n            resize: none;\n          }\n          form#contact_form .attachment-box {\n            display: none;\n          }\n          form#contact_form .attachment-box.in {\n            display: block;\n          }\n          ")},_onSubmit:function(t){if(t.preventDefault(),t.stopPropagation(),!this.state.uploading&&!this.props.appContext._preview)return e(this.refs.form).find(".input-error").length>0?(this.setState({showErrors:!0}),e(this.refs.form).find(".input-error")[0].scrollIntoView(),void e(this.refs.form).find(".input-error :input")[0].focus()):(this.state.showErrors&&this.setState({showErrors:!1}),this.setState({submitting:!0}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SAVE_CONVERSATION,payload:{formData:e(n.findDOMNode(this.refs.form)).serializeArray()}}),!1)},_submit:function(){e(this.refs.submitButton).click()},_getCaptchas:function(){var e="customer_body_data_"+parseInt(Date.now()/1e3,10);return t.createElement("div",{id:e},t.createElement("style",{type:"text/css",media:"screen",scoped:"scoped"},"#"+e+" { display:none; }"),t.createElement("label",{htmlFor:"customer_body"},"Do not fill in this field"),t.createElement("textarea",{name:"customer_body",id:"customer_body",ref:"customer_body"}))},render:function(){var e=this.state.messageBlank&&this.state.showErrors,n=!!this.props.currentUser.get("_id");return t.createElement("div",{className:"flex"},this._getStyleTag(),t.createElement("form",{id:"contact_form",method:"POST",className:"upload-attachments popup flex","data-pastezone":"#body-container","data-dropzone":"body","data-attachment-input-name":"conversation[messages_attributes][0][attachment_ids][]",onSubmit:this._onSubmit,ref:"form",style:{padding:"1.5em 2em 1em 2em"}},this.props.subject&&t.createElement("input",{type:"hidden",name:"conversation[subject]",value:this.props.subject}),t.createElement("fieldset",{disabled:this.state.submitting,id:"new-conversation-fieldset",className:"flex",style:{opacity:this.state.submitting?"0.7":1}},t.createElement("div",{className:"flex flex-column",style:{minHeight:"100%"}},t.createElement(Reamaze.Conversations.ContactFormFields,{appContext:this.props.appContext,category:this.props.category,inView:this.props.inView,currentUser:this.props.currentUser,showIdentity:!n,showCategory:!0,showCustomFields:!0,showErrors:this.state.showErrors}),t.createElement("div",{id:"body-container",className:"flex flex-column flex-grow"},t.createElement("textarea",{name:"message[body]",placeholder:this.props.override_placeholder||this.props.appContext.brand.preferences.trans_body,className:"mousetrap "+(this.state.messageBlank?"input-error":"")+" flex-grow",style:{boxShadow:e?"red 0px 1px 0px 0px":"none"},ref:"body",name:"conversation[messages_attributes][0][body]",required:"required"})),t.createElement("div",{className:"action-bar flex"},t.createElement("div",{className:"attachment-box public"},t.createElement("div",{className:"attachments-list-wrap"},t.createElement("div",{className:"close"},t.createElement("i",{className:"fas rmzfa rmzfa-chevron-down"})),t.createElement("ul",{id:"attachments-list",style:{textAlign:"left"}},t.createElement("li",{className:"attachment-wrap add-attachment"},t.createElement("a",{className:"preview-wrap upload-wrap"},t.createElement("span",{className:"attachment-link"},t.createElement("i",{className:"icon fas rmzfa rmzfa-plus",style:{fontSize:"24px",color:this.props.appContext.brand.styles.buttonLinkColor}})),t.createElement("input",{id:"list-fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload1",multiple:"multiple"})))))),!this.props.appContext.brand.preferences.disable_attachments&&t.createElement("div",{id:"fileupload-wrap",role:"button",className:(this.state.attachmentsCount>0?"attachment-view":"")+" anim-btn flex-grow"},this.state.uploading&&t.createElement(Reamaze.Spinner,{style:{width:"32px",height:"32px",marginTop:"-10px",marginRight:"15px",transform:"scale(0.5)"}}),t.createElement("div",{id:"fileupload-area",className:"upload-wrap attachment-cta",style:{display:this.state.uploading?"none":"block"}},t.createElement("span",{className:"attachment-link"},t.createElement("i",{className:"icon fas rmzfa rmzfa-paperclip"})),t.createElement("input",{id:"fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload2",multiple:"multiple"}),this.state.attachmentsCount>0&&t.createElement("span",{className:"attachment-count"}),t.createElement("span",{className:"fas rmzfa rmzfa-exclamation-circle attachments-error-indicator",style:{color:"red",fontSize:"16px",verticalAlign:"top",marginLeft:"-4px"}}))),t.createElement("button",{type:"submit",className:"btn btn-primary anim-btn",disabled:this.state.submitting},this.props.appContext.brand.preferences.trans_send_message))))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ContactFormFields=r({displayName:"Reamaze.Conversations.ContactFormFields",mixins:[TimerMixin],propTypes:{appContext:a.object.isRequired,category:a.string,inView:a.bool,currentUser:a.object.isRequired,showIdentity:a.bool,showCategory:a.bool,showCustomFields:a.bool,showErrors:a.bool,conversation:a.object},getDefaultProps:function(){return{showIdentity:!0,showCategory:!0,showCustomFields:!0}},getInitialState:function(){return{formFieldValues:{}}},componentDidMount:function(){this.focusInput()},componentDidUpdate:function(e){!e.inView&&this.props.inView&&this.focusInput()},focusInput:function(){this.setTimeout(function(){this.props.inView&&!this.props.appContext._preview&&this.inputToFocus&&this.inputToFocus.focus()}.bind(this),500)},getIdentityFields:function(){return[t.createElement(Reamaze.Conversations.Field,{field:{type:"text",name:"user[name]",placeholder:this.props.appContext.brand.preferences.trans_name,required:!0,value:this.props.currentUser.getAnonymousId()?"":this.props.currentUser.get("name")},key:"userName",k:"userName",showErrors:this.props.showErrors,ref:"userName",required:"required",focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),conversation:this.props.conversation}),t.createElement(Reamaze.Conversations.Field,{field:{type:"email",name:"user[email]",placeholder:this.props.appContext.brand.preferences.trans_form_email,required:!0,value:this.props.currentUser.get("email")},key:"userEmail",k:"userEmail",ref:"userEmail",required:"required",showErrors:this.props.showErrors,focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),conversation:this.props.conversation})]},getCategoryField:function(){return this.props.category?t.createElement("input",{type:"hidden",id:"conversation_category_id",name:"category_id",value:this.props.category,ref:"category_id"}):0==this.props.appContext.brand.categories.length?null:this.props.appContext.brand.categories.length>1?t.createElement("div",{className:"field-container"},t.createElement("select",{id:"conversation_category_id",name:"category_id",ref:"category_id"},this.props.appContext.brand.categories.map((function(e){return t.createElement("option",{value:e.id,key:e.id},e.name)})))):t.createElement("input",{type:"hidden",id:"conversation_category_id",name:"category_id",value:this.props.appContext.brand.categories[0].id,ref:"category_id"})},updateField:function(e,t){var n=this.state.formFieldValues;n[e]=t,this.setState({formFieldValues:n})},buildFormField:function(n){var r=e.extend({},this.props.appContext.customFields[n]);return"heading"==r.type?t.createElement("div",{className:"heading",style:{margin:"5px 7px 10px 7px"},pos:r.pos,key:n,dangerouslySetInnerHTML:{__html:r.value}}):("order_number"===r.type?r.type="text":"phone"===r.type&&(r.type="tel"),r.name="conversation[data]["+n+"]",t.createElement(Reamaze.Conversations.Field,{pos:r.pos,field:r,key:n,k:n,showErrors:this.props.showErrors,focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),onChange:function(e){this.updateField(n,e)}.bind(this)}))},getCustomFields:function(){var t=this.props.appContext.customFields||{},n=Object.keys(this.props.appContext.customFields||{}),r=this.state.formFieldValues;return 0==n.length?null:n.reduce(function(n,a){var o=e.extend({},this.props.appContext.customFields[a]);if(o.dependantField){var i=r[o.dependantField];if(!(t[o.dependantField]&&"checkbox"===t[o.dependantField].type?void 0===i?!!t[o.dependantField].value:i:(o.dependantOptions||[]).find((function(e){return i===e}))))return n}return n.push(this.buildFormField(a)),n}.bind(this),[]).sort((function(e,t){return(parseInt(e.props.pos)||0)-(parseInt(t.props.pos)||0)}))},render:function(){return t.createElement("div",{"aria-live":"polite"},this.props.showCategory&&this.getCategoryField(),this.props.showIdentity&&this.getIdentityFields(),this.props.showCustomFields&&this.getCustomFields())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Conversation=r({displayName:"Reamaze.Conversations.Conversation",mixins:[TimerMixin],propTypes:{conversation:a.shape({id:a.any,slug:a.string,messages:a.arrayOf(a.object),permalink:a.string,isChat:a.bool,status:a.oneOf(["active","resolved","archived","deleted"]),unread:a.bool,loaded:a.bool,outbound:a.bool,outboundData:a.object,pending:a.bool,ratingOnePrompt:a.string,ratingTwoPrompt:a.string,ratingThreePrompt:a.string,ratingFourPrompt:a.string,ratingFivePrompt:a.string,satisfactionRating:a.object,template:a.string}),scrollContent:a.func,currentUser:a.object,channel:a.any,inView:a.bool,documentVisible:a.bool,appContext:a.object.isRequired,chatIsLive:a.bool,category:a.string,videoCallInformation:a.object,brandData:a.object},getDefaultProps:function(){return{}},getInitialState:function(){return{typers:{},visible:!1,conversationStartedMessageId:null}},contextTypes:{window:a.object},componentDidMount:function(){var e=this,t=this.props,n=t.conversation,r=t.appContext,a=t.inView;n.pending?this.setTimeout((function(){e.setState({visible:!0})}),0):n.loaded||n.outbound?this.onConversationFetched():r.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:n.slug}}),"conversations:new"==r.route&&a&&Reamaze.Analytics.track("New Conversation Form Shown")},componentWillUnmount:function(){var e=this.props.channel;e&&(e.unbind("client-status",this._onPusherClientStatusEvent),e.unbind("pusher:member_removed",this._onMemberRemoved))},componentDidUpdate:function(e,t){var n=this.props,r=n.conversation,a=n.appContext,o=n.inView,i=n.scrollContent;if(!r.pending){if(!r.loaded&&!r.outbound)return void a.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:r.slug}});if("conversations:new"==a.route&&o!=e.inView&&Reamaze.Analytics.track("New Conversation Form Shown"),r.outbound)return void this.markAsRead();var s=function(e){return e.map((function(e){return e.id})).join(",")},p=!e.conversation.loaded||s(e.conversation.messages)!=s(r.messages),l=Object.keys(t.typers).length<Object.keys(this.state.typers).length;(p||l)&&i("b"),!p&&e.inView&&e.documentVisible||this.markAsRead()}},componentWillReceiveProps:function(e){var t=this.props,n=t.conversation;t.appContext.contactMode;e.conversation.pending||e.conversation.loaded&&!n.loaded&&this.setTimeout(this.onConversationFetched,0);var r=n.isChat&&"archived"==n.status;e.conversation.insertConversationStartedMessageId&&!this._hasStaffMessage()&&this._hasCustomerMessage()&&!r&&n.insertConversationStartedMessageId!=e.conversation.insertConversationStartedMessageId&&this.setState({conversationStartedMessageId:n.messages[n.messages.length-1].id})},onConversationFetched:function(){var e=this,t=this.props,n=t.conversation,r=t.appContext,a=t.channel,o=t.scrollContent,i=n.isChat&&"archived"==n.status,s={};!n.id||!n.loaded||this._hasStaffMessage()||!this._hasCustomerMessage()||i||n.botsEnabled&&!n.botHandoverTimestamp||(s.conversationStartedMessageId=n.messages[n.messages.length-1].id),this.checkChatTimeout(),this.setState(s,(function(){e.setTimeout((function(){o("b"),e.setState({visible:!0})}),300)})),r._preview||(a&&(a.bind("client-status",this._onPusherClientStatusEvent),a.bind("pusher:member_removed",this._onMemberRemoved)),this.markAsRead())},markAsRead:function(){var e=this,t=this.props,n=t.inView,r=t.documentVisible,a=t.conversation,o=t.appContext;n&&r&&a.unread&&function(){var t=function(e){o.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:e.slug,props:e}})};if(a.outbound){var n=JSON.parse(JSON.stringify(a));n.unread=!1,t(n)}else!e._hasStaffMessage()&&e._hasBotMessage()?e.setTimeout((function(){r&&e._ajaxMarkRead(t)}),5e3):e._ajaxMarkRead(t)}()},_ajaxMarkRead:function(t){var n=this.props,r=n.appContext,a=n.conversation,o=n.currentUser;e.ajax({url:r.baseDataUrl+"/data/conversations/"+a.slug+"/mark_read",type:"POST",data:{sparams:e.param({sso:o.ssoData()})},success:function(e){t(e.conversation)},crossDomain:!0})},_onPusherClientStatusEvent:function(t){var n=e.extend({},this.state.typers||{});"typing:start"==t.status?n[t.id]=t:"typing:stop"==t.status&&delete n[t.id],this.setState({typers:n})},_onMemberRemoved:function(t){var n=e.extend({},this.state.typers||{});n[t.id]&&(delete n[t.id],this.setState({typers:n}))},_onAnswerVideoCall:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_ANSWERED,payload:{}})},_onDeclineVideoCall:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_DECLINED,payload:{}})},_lastMessageIsCustomer:function(){return!this.props.conversation.messages[this.props.conversation.messages.length-1].user.displayAsStaff},_hasOutboundMessage:function(){return!!this.props.conversation.outboundData},_hasStaffMessage:function(){return this.props.conversation.messages.some((function(e){return e.user.isStaff}))},_hasBotMessage:function(){return this.props.conversation.messages.some((function(e){return!e.user.isStaff&&e.user.displayAsStaff}))},_hasCustomerMessage:function(){return this.props.conversation.messages.some((function(e){return!e.user.displayAsStaff}))},firstCustomerMessage:function(){return this.props.conversation.messages?this.props.conversation.messages.find((function(e){return!e.user.displayAsStaff})):null},checkChatTimeout:function(){var e=this.props,t=e.conversation,n=e.appContext.brand.preferences.unserved_chat_timeout,r=this.firstCustomerMessage();if(t.isChat&&!this._hasStaffMessage()&&!this._hasOutboundMessage()&&r){var a=Date.now()-new Date(r.createdAt).getTime();a<1e3*n&&(this.timeoutId&&this.clearTimeout(this.timeoutId),this.timeoutId=this.setTimeout(this.forceUpdate,1e3*n-a+1e3))}},onMoreDetailsSubmit:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SAVE_CONVERSATION,payload:{slug:this.props.conversation.slug,formData:e}})},showMoreMessageDetails:function(){var e=this.props,t=e.isEscaledOnEscalatedMode;return e.conversation.pending||t},insertTypingIndicator:function(e){var n=this.state,r=n.conversationStartedMessageId,a=n.typers,o=this.props,i=o.conversation,s=o.brandData.preferences.trans_popup_new_message_confirmation,p=o.appContext,l=o.appContext.overrides.confirmationMessage,c=o.videoCallInformation,u=o.isEscaledOnEscalatedMode,d=!!l||!!s,h=1==i.messages.filter((function(e){return!e.user.displayAsStaff})).length,f=e&&e[e.length-1],m=h&&!!f&&"Reamaze.Conversations.Message"==f.type.displayName&&!f.props.message.user.displayAsStaff,g=!!c&&c.offer,v=function(e,n,r){return t.createElement(Reamaze.Conversations.TypingMessage,{user:{avatarUrl:e.avatarUrl,name:e.name,display_name:e.display_name,id:e.id,displayAsStaff:e.staff},key:n,appContext:p,isFirstIndicator:r})},y=[];return a&&Object.keys(a).length>0?Object.keys(a).forEach((function(e){var t=a[e];y.push(v(t,"typing-"+e))})):i.pending||!m||r||!d||g||u||y.push(v({staff:!0},"typing-first message-indicator",!0)),y},render:function(){var n=this.state,r=n.conversationStartedMessageId,a=n.visible,o=this.props,i=o.appContext,s=o.brandData,p=o.category,l=o.chatIsLive,c=o.contactMode,u=o.conversation,d=o.currentUser,h=o.inView,f=o.onPromptOptionClick,m=o.scrollContent,g=o.submitting,v=o.videoCallInformation,y=o.isEscaledOnEscalatedMode,b=o.submitUserTransition,C=[];if(u.pending)for(E=u.messages.length-1;E>=0;E--){(_=u.messages[E]).showViewedStatus=!1,C.unshift(t.createElement(Reamaze.Conversations.Message,{key:"message-"+_.id,message:e.extend({},_),conversationSlug:u.slug,currentUser:d,appContext:i,brandData:s}))}else{if(!u.loaded&&!u.outbound)return t.createElement(Reamaze.Popup.Spinner,{ref:"popupSpinner",xColor:i.brand.styles.widgetColor});for(var x=void 0,w=void 0,E=u.messages.length-1;E>=0;E--){var _;(_=u.messages[E]).user.displayAsStaff||(_.showViewedStatus=!1,w||(_.showViewedStatus=!0,w=_),_.viewed&&!x&&(_.showViewedStatus=!0,x=_));var T=this.showMoreMessageDetails()&&y;!r||_.id!==r||_.user.displayAsStaff||T||C.unshift(t.createElement(Reamaze.Conversations.ConversationStartedMessage,{key:"convo-started-message",appContext:i,isChat:u.isChat,scrollContent:m})),C.unshift(t.createElement(Reamaze.Conversations.Message,{key:"message-"+_.id,message:e.extend({},_),conversationSlug:u.slug,currentUser:d,appContext:i,onButtonSelect:1==u.messages.length?f:function(){},brandData:s}))}if(u.isChat)if("archived"==u.status)C.push(t.createElement(Reamaze.Conversations.ChatEndedMessage,{key:"chat-ended-message",appContext:i,conversation:u,ref:function(){m("b")}})),u.satisfactionRating&&C.push(t.createElement(Reamaze.Conversations.SatisfactionRating,{appContext:i,conversation:u,currentUser:d,ratingOnePrompt:u.ratingOnePrompt,ratingTwoPrompt:u.ratingTwoPrompt,ratingThreePrompt:u.ratingThreePrompt,ratingFourPrompt:u.ratingFourPrompt,ratingFivePrompt:u.ratingFivePrompt,satisfactionRating:u.satisfactionRating,template:u.template}));else{var S=this.firstCustomerMessage();if(S)if(!(this._hasStaffMessage()||i.allowBotProcessing&&u.botsEnabled&&!u.botHandoverTimestamp)){new Date(S.createdAt)<(i.allowBotProcessing&&u.botsEnabled?new Date(new Date(u.botHandoverTimestamp).getTime()-1e3*i.brand.preferences.unserved_chat_timeout):new Date(Date.now()-1e3*i.brand.preferences.unserved_chat_timeout))&&C.push(t.createElement(Reamaze.Conversations.ChatBusyMessage,{key:"chat-busy-message",appContext:i})),i.allAgentsBusy&&C.push(t.createElement("li",{key:"all-agents-busy-message",style:{textAlign:"center",color:"#909090"}},i.brand.preferences.trans_chat_all_staff_are_busy_status))}}else"deleted"===u.status&&C.push(t.createElement(Reamaze.Conversations.ChatEndedMessage,{key:"conversation-ended-message",appContext:i,conversation:u,ref:function(){m("b")}}))}return t.createElement("div",{key:"conversation-"+u.id,className:"conversation conversation-react rmz-fade "+(a?" in":"")},t.createElement("ul",{id:"messages-list"},C,v&&v.offer&&t.createElement(Reamaze.Conversations.VideoCallMessage,{onAnswerClick:this._onAnswerVideoCall,onDeclineClick:this._onDeclineVideoCall,user:v.user,appContext:i}),this.showMoreMessageDetails()&&t.createElement(Reamaze.Conversations.MoreDetailsMessage,{appContext:i,chatIsLive:l,category:p,inView:h,onSubmit:y?b:this.onMoreDetailsSubmit,conversation:u,currentUser:d,scrollContent:m,contactMode:c,setShowFooter:this.props.setShowFooter}),this.insertTypingIndicator(C)),!!u.promptOptions&&u.promptOptions.length>0&&!this._lastMessageIsCustomer()&&t.createElement(Reamaze.Conversations.PromptOptions,{onPromptOptionClick:f,promptOptions:u.promptOptions,serviceOptions:u.serviceOptions,submitting:g,scrollContent:m}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationFooter=r({displayName:"Reamaze.Conversations.ConversationFooter",
propTypes:{conversation:a.object,dispatcher:a.object,scrollContentToBottom:a.func,currentUser:a.object,inView:a.bool,chatIsLive:a.bool,blur:a.bool,appContext:a.object.isRequired,submitting:a.bool,onSubmit:a.func.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{showTransitional:this._shouldShowTransitional(this.props)}},componentWillReceiveProps:function(e){this.setState({showTransitional:this._shouldShowTransitional(e)})},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.props.inView!=e.inView||this.props.conversation.status!=e.conversation.status||this.props.conversation.loaded!=e.conversation.loaded||this.props.chatIsLive!=e.chatIsLive||this.props.blur!=e.blur||this.state.showTransitional!=t.showTransitional||this.props.conversation.pending!=e.conversation.pending||this.props.contactMode!=e.contactMode},_shouldShowTransitional:function(e){var t=e.conversation,n=e.currentUser,r=e.appContext,a=r.contactMode,o=r.brand.experimentContext;return!("escalated"===a||o&&o.treatAsEscalated)&&((!!n.get("anon_id")||!n.get("email"))&&t.loaded)},render:function(){if("archived"==this.props.conversation.status&&this.props.conversation.isChat)return null;if(this.props.conversation.pending){if(Object.keys(this.props.appContext.customFields))return null;if(!this.props.currentUser.get("_id")){if("none"==this.props.contactMode||"default"==this.props.contactMode)return null;if("mixed"==this.props.contactMode&&this.props.appContext.brand.chatEnabled&&!this.props.appContext.chatIsLive)return null;if("mixed"==this.props.contactMode&&!this.props.appContext.brand.chatEnabled&&!this.props.appContext.brand.inOffice&&this.props.appContext.brand.nextOfficeTime)return null}}return this.props.appContext._preview?null:t.createElement("div",{id:"footer",ref:"footer",style:{padding:"10px 0 10px 0"},className:this.props.blur?"rmz-blur":""},t.createElement("style",null,"\n            #conversation-footer .alert:hover {\n              opacity: 0.8;\n            }\n          "),this.state.showTransitional&&t.createElement("div",{className:"alert alert-warning",style:{margin:"10px 10px 0px 10px",textAlign:"center",cursor:"pointer",fontSize:"0.9em",padding:"8px",position:"relative",top:"-10px",borderRadius:"15px"},ref:"transitional",onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"transitional",slug:this.props.conversation.slug}})}.bind(this)},this.props.appContext.brand.preferences.trans_transitional_email_cta),t.createElement(Reamaze.Conversations.RespondForm,{id:this.props.conversation.id,slug:this.props.conversation.slug,isChat:this.props.conversation.isChat,dispatcher:this.props.dispatcher,scrollContentToBottom:this.props.scrollContentToBottom,currentUser:this.props.currentUser,outbound:this.props.conversation.outbound,outboundData:this.props.conversation.outboundData,inView:this.props.inView,ref:"respondForm",chatIsLive:this.props.chatIsLive,appContext:this.props.appContext,contactMode:this.props.contactMode,onSubmit:this.props.onSubmit,submitting:this.props.submitting}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationList=r({displayName:"Reamaze.Conversations.ConversationList",mixins:[TimerMixin],propTypes:{conversations:a.object,conversationsFetched:a.bool,onMount:a.func,appContext:a.object.isRequired},contextTypes:{window:a.object},getDefaultProps:function(){return{conversations:{}}},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.props.onMount(),this.props.conversationsFetched?this.onConversationsFetched():this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS})},componentWillReceiveProps:function(e){e.conversationsFetched&&!this.props.conversationsFetched&&this.onConversationsFetched()},onConversationsFetched:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},filterConversations:function(e){return e.filter((function(e){return"deleted"!==e.status}))},getSortedConversations:function(){var e=Object.keys(this.props.conversations).map(function(e){return this.props.conversations[e]}.bind(this));return this.filterConversations(e).sort((function(e,t){if(e.unread&&!t.unread)return-1;if(t.unread&&!e.unread)return 1;var n=new Date(e.messages&&e.messages.length>0?e.messages[e.messages.length-1].createdAt:e.last_message_timestamp),r=new Date(t.messages&&t.messages.length>0?t.messages[t.messages.length-1].createdAt:t.last_message_timestamp);return n==r?0:n<r?1:-1}))},render:function(){var e=this.props.conversationsFetched?this.getSortedConversations():[],n=this.props.appContext.brand.styles,r=Reamaze.Utils.pSBC(.55,n.headerBgColor)||"#999";return this.props.conversationsFetched&&e.length>0?t.createElement("div",null,t.createElement("style",null,"\n              #recent-conversations li {\n                display: -ms-flexbox;\n                display: -ms-flex;\n                display: -moz-flex;\n                display: -webkit-flex;\n                display: flex;\n                flex-wrap: nowrap;\n                cursor: pointer;\n                border-left: 1px solid transparent;\n                padding: 12px 15px;\n                transition: all 0.25s linear;\n                opacity: 0.8;\n              }\n              #recent-conversations li .body {\n                opacity: 0.85;\n                white-space: nowrap;\n                text-overflow: ellipsis;\n                overflow: hidden;\n              }\n              #recent-conversations li.unread {\n                opacity: 1;\n                color: #000;\n                font-weight: bold;\n              }\n              #recent-conversations li:hover,\n              #recent-conversations li.unread:hover {\n                border-left: 1px solid "+n.headerBgColor+";\n              }\n              #recent-conversations li div.icon {\n                color: "+r+";\n                width: 20px;\n                overflow: hidden;\n                font-size: 16px;\n                position: relative;\n              }\n              #recent-conversations li div.icon i {\n                margin-top: -8px;\n                position: relative;\n                top: 50%;\n                display: block;\n                text-align: center;\n              }\n              #recent-conversations li .main .name {\n                display: -ms-flexbox;\n                display: -ms-flex;\n                display: -moz-flex;\n                display: -webkit-flex;\n                display: flex;\n                flex-wrap: nowrap;\n                margin-bottom: 2px;\n                align-items: center;\n              }\n              #recent-conversations li .main .name .thumb {\n                width: 25px;\n                height: 20px;\n                padding-right: 5px;\n              }\n              #recent-conversations li .main .name .thumb img {\n                width: 20px;\n                height: 20px;\n                border-radius: 20px;\n              }\n              #recent-conversations li .main .name .names {\n                width: 100%;\n                -ms-flex: 1;\n                -moz-flex: 1;\n                -webkit-flex: 1;\n                flex: 1;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n              }\n              #recent-conversations li .main .name .timestamp {\n                flex-shrink: 0;\n                font-size: 0.8em;\n                white-space: nowrap;\n                color: #737373;\n                text-align: right;\n              }\n              #recent-conversations li .main {\n                width: 100%;\n                overflow: hidden;\n                padding-left: 10px;\n                -ms-flex: 1;\n                -moz-flex: 1;\n                -webkit-flex: 1;\n                flex: 1;\n              }\n            "),t.createElement("ul",{id:"recent-conversations",className:"rmz-fade "+(this.state.visible?"in":"")},e.map(function(e){return t.createElement(Reamaze.Conversations.ConversationListItem,_extends({key:e.id},e,{appContext:this.props.appContext}))}.bind(this)))):null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationListItem=r({displayName:"Reamaze.Conversations.ConversationListItem",propTypes:{id:a.any.isRequired,slug:a.string.isRequired,messages:a.arrayOf(a.object),isChat:a.bool,status:a.oneOf(["active","resolved","archived"]),unread:a.bool,appContext:a.object.isRequired,outbound:a.bool},getDefaultProps:function(){return{}},contextTypes:{window:a.object},_getNamesToDisplay:function(){for(var e={},t=[],n=this.props.messages.length-1;n>=0;n--){var r=this.props.messages[n].user;r.displayAsStaff&&r.id&&!e[r.id]&&(e[r.id]=1,r.displayName?t.push(r.displayName):t.push(r.name))}return t.length||t.push(this.props.appContext.brand.name),t},render:function(){var e="",n=this.props.messages[this.props.messages.length-1];this.props.unread&&(e+=" unread");var r=new Date,a=new Date(n.createdAt),o="",i="%H:%M"==this.props.appContext.brand.preferences.time_format;o=r.toDateString()==a.toDateString()?Reamaze.Utils.getLocaleTimeString(a,i):Reamaze.Utils.getLocaleDateString(a);var s,p,l=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode),c=Reamaze.Utils.getUserDisplayDetails(n.user,this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode);return c&&(c.avatarUrls&&(s=c.avatarUrls[0]),p=c.name),s||(s=n.user.avatarUrl||l[0].avatarUrl),p||(p=n.user.name||this.props.appContext.brand.name),t.createElement("li",{className:e,onClick:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:show",routeParams:{slug:this.props.slug}}})}.bind(this)},t.createElement("div",{className:"icon"},t.createElement("i",{className:"fas rmzfa rmzfa-"+(this.props.outbound?"rss":"comments")})),t.createElement("div",{className:"main"},t.createElement("div",{className:"name"},t.createElement("div",{className:"thumb"},t.createElement("img",{src:s})),t.createElement("div",{className:"names"},this._getNamesToDisplay().join(", ")),n&&n.pendingData?t.createElement("div",{className:"timestamp"},t.createElement("i",{className:"fas rmzfa rmzfa-exclamation-triangle",style:{color:"#fc0",marginRight:"4px"}}),this.props.appContext.brand.preferences.trans_contact_us_pending):t.createElement("div",{className:"timestamp"},o)),t.createElement("p",{className:"body"},Reamaze.Utils.entitiesDecode(n.body_preview))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationStartedMessage=r({displayName:"Reamaze.Conversations.ConversationStartedMessage",mixins:[TimerMixin],propTypes:{appContext:a.object.isRequired,isChat:a.bool},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},getMessage:function(){var e=this.props.appContext.overrides.confirmationMessage||this.props.appContext.brand.preferences.trans_popup_new_message_confirmation;return this.props.isChat&&this.props.appContext.brand.preferences.trans_chat_started?t.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.appContext.brand.preferences.trans_chat_started}}):e||this.props.appContext.brand.staffResponseTime?[t.createElement("p",{key:"msg",dangerouslySetInnerHTML:{__html:e}}),!this.props.appContext.brand.inOffice&&this.props.appContext.brand.nextOfficeTime||!this.props.appContext.brand.staffResponseTime?null:t.createElement("p",{key:"resptime"},this.props.appContext.brand.staffResponseTime)]:null},render:function(){var e=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode).slice(0,3),n=this.getMessage(),r=null;return n&&(r=t.createElement("li",{className:"message staff convo-started prompt rmz-fade "+(this.state.visible?"in":""),ref:function(){this.props.scrollContent("b")}.bind(this)},e.map((function(n,r){return t.createElement("div",{key:r,className:"message-user-image",style:{bottom:15*(e.length-r-1)+5+"px"}},t.createElement("img",{src:n.avatarUrl,alt:n.name}))})),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap","aria-live":"polite"},n)))),r}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Css=n({displayName:"Reamaze.Conversations.Css",shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.appContext.brand.styles,n=Reamaze.Utils.pSBC(.92,e.headerBgColor)||"#f0f0f0",r=(Reamaze.Utils.pSBC(.55,e.headerBgColor),Reamaze.Utils.isBrighter(Reamaze.Utils.parseColor(e.headerBgColor),Reamaze.Utils.parseColor(e.headerFontColor))),a=r?e.headerFontColor:e.headerBgColor,o=r?e.headerBgColor:e.headerFontColor;return t.createElement("style",null,'\n        #content-container .flex {\n          display: flex;\n          display: -webkit-box;\n          display: -moz-box;\n          display: -webkit-flex;\n          display: -ms-flexbox;\n          width: 100%;\n        }\n        #content-container .flex.flex-column {\n          flex-direction: column;\n          -webkit-box-direction: normal;\n          -webkit-box-orient: vertical;\n          -moz-box-direction: normal;\n          -moz-box-orient: vertical;\n          -webkit-flex-direction: column;\n          -ms-flex-direction: column;\n        }\n        #content-container .flex-grow {\n          flex-grow: 1;\n          -webkit-box-flex: 1;\n          -moz-box-flex: 1;\n          -webkit-flex-grow: 1;\n          -ms-flex: 1 1 auto;\n        }\n        #content-container form input, form select, form textarea {\n          width: 100%;\n          height: 37px;\n          resize: none;\n          background: transparent;\n        }\n        #content-container form label.checkbox {\n          display: block;\n          margin-bottom: 10px;\n          padding-left: 26px;\n          position: relative;\n          font-size: 14px;\n          background: transparent;\n        }\n        #content-container form label.checkbox input {\n          width: auto;\n          height: auto;\n          margin: 0px;\n          position: absolute;\n          margin-left: -20px;\n          margin-top: 5px;\n        }\n        #content-container form label.checkbox div {\n          line-height: 1.5em;\n          margin-bottom: 10px;\n        }\n        #recent-conversations-container {\n          width: 100%;\n          padding: 15px;\n        }\n        .conversation {\n          padding: 10px;\n        }\n        .conversation .pending-data.message.prompt .message-wrap {\n          width: 100%;\n        }\n        .conversation .pending-data.message.prompt .action-bar {\n          text-align: center;\n          margin: 15px 0 10px 0;\n        }\n        .conversation #messages-list {\n          list-style: none;\n          margin: 0px;\n        }\n        .conversation #messages-list .message {\n          *zoom: 1;\n          padding-bottom: 0px;\n          margin: 17px 0;\n          position: relative;\n        }\n        .conversation #messages-list .message:after {\n          content: "";\n          display: table;\n          clear: both;\n        }\n        .conversation #messages-list .message p {\n          font-size: '+("large"===this.props.appContext.shoutboxFontSize?"15px":"14px")+";\n          margin-bottom: 7px;\n          word-wrap: break-word;\n        }\n        .conversation #messages-list .message p:last-child {\n          margin-bottom: 0px;\n        }\n        .conversation #messages-list .message.transitional p {\n          margin-bottom: 10px;\n        }\n\n        .conversation #messages-list .message img {\n          max-width: 100% !important;\n        }\n        .conversation #messages-list .message .message-outer-wrap {\n          margin-left: 50px;\n          margin-right: 0px;\n        }\n        .conversation #messages-list .message .message-user-image {\n          bottom: 5px;\n          left: 0px;\n          float: left;\n          overflow: hidden;\n          position: relative;\n          -moz-border-radius: 40px;\n          -webkit-border-radius: 40px;\n          border-radius: 40px;\n          width: 40px;\n          height: 40px;\n          position: absolute;\n          border: 1px solid #fcfcfc;\n        }\n        .conversation #messages-list .message .message-user-image img {\n          width: 100%;\n          height: 100%;\n        }\n        .conversation #messages-list .message .message-meta {\n          font-size: "+("large"===this.props.appContext.shoutboxFontSize?"95%":"90%")+";\n          color: #666;\n        }\n        .conversation #messages-list .message .message-feedback {\n          white-space: nowrap;\n        }\n        .conversation #messages-list .message .message-feedback a {\n          color: #999;\n        }\n        .conversation #messages-list .message .message-feedback .icon {\n          font-size: 90%;\n        }\n        .conversation #messages-list .message .message-feedback a:hover .icon {\n          text-decoration: none;\n        }\n        .conversation #messages-list .message .timestamp {\n          color: #888;\n        }\n        .conversation #messages-list .message .attachments {\n          margin-left: 0;\n          padding: 0px;\n          font-size: 95%;\n        }\n        .conversation #messages-list .message .attachments.images li {\n          display: inline-block;\n        }\n        .conversation #messages-list .message .attachments.images li img {\n          padding: 5px;\n          margin-right: 5px;\n          background: white;\n          border: 1px solid #dfdfdf;\n        }\n        .conversation #messages-list .message .attachments.other li {\n          list-style: none;\n        }\n        .conversation #messages-list .message .attachments h5 {\n          font-size: 100%;\n        }\n        .conversation #messages-list .message ul {\n          margin: 0 0 10px 25px;\n          list-style: disc;\n        }\n        .conversation #messages-list .message ol {\n          margin: 0 0 10px 25px;\n          list-style: decimal;\n          margin-bottom: 10px;\n        }\n        .conversation #messages-list .message a {\n          word-wrap: break-word;\n        }\n        .conversation #messages-list .message .message-wrap {\n          display: inline-block;\n          margin-bottom: 5px;\n          position: relative;\n          max-width: calc(100% - 10px);\n          background: "+n+";\n          padding: 15px 20px;\n          -moz-border-radius: 20px 20px 20px 0;\n          -webkit-border-radius: 20px 20px 20px 0;\n          border-radius: 20px 20px 20px 0;\n          /* transform z-index hack */\n          -moz-transform: rotate(0deg);\n          -ms-transform: rotate(0deg);\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n          box-shadow: 0px 5px 10px -5px rgba(0,0,0,0.15);\n          font-size: "+("large"===this.props.appContext.shoutboxFontSize?"1.1em":"1em")+";\n        }\n        .conversation #messages-list .message.customer .message-wrap {\n          -moz-border-radius: 20px 20px 0 20px;\n          -webkit-border-radius: 20px 20px 0 20px;\n          border-radius: 20px 20px 0 20px;\n        }\n        .conversation #messages-list .message.convo-started .message-wrap {\n          padding: 20px;\n        }\n        .conversation #messages-list .message.pending {\n          opacity: 0.5;\n          color: silver;\n        }\n\n        .conversation #messages-list .message.customer {\n          text-align: right;\n        }\n        .conversation #messages-list .message.customer .message-wrap {\n          text-align: left;\n          background-color: "+(e.headerBgColor||"#e0f6ff")+";\n          color: "+(e.headerFontColor||"white")+"\n        }\n        .conversation #messages-list .message.customer .message-wrap a {\n          color: "+(e.headerFontColor||"white")+';\n          text-decoration: underline;\n        }\n        .conversation #messages-list .message.customer .message-outer-wrap {\n          margin-left: 0px;\n          margin-right: 0px;\n        }\n        .conversation #messages-list .message.customer .message-meta {\n          text-align: right;\n        }\n\n        .conversation.chat #messages-list {\n          padding-bottom: 20px;\n        }\n        .conversation.chat #typing-indicator {\n          color: #999;\n          font-size: 12px;\n          margin-top: -20px;\n          margin-bottom: 10px;\n          margin-left: 60px;\n        }\n        @media screen and (max-width: 480px) {\n          .conversation.chat #typing-indicator {\n            margin-left: 45px;\n          }\n        }\n\n        .typing-indicator-dots {\n          font-size: 18px;\n          font-weight: bold;\n          margin-top: -3px;\n          color: #999;\n        }\n        .typing-indicator-dots .one {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.0s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.0s;\n        }\n        .typing-indicator-dots .two {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.2s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.2s;\n        }\n        .typing-indicator-dots .three {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.3s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.3s;\n        }\n\n        @-webkit-keyframes dot {\n          0% {\n            opacity: 0;\n          }\n          50% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n        @keyframes dot {\n          0% {\n            opacity: 0;\n          }\n          50% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n\n        .conversation #messages-list .message pre {\n          display: block;\n          padding: 11px;\n          margin: 0 0 12px;\n          line-height: 23px;\n          word-break: break-all;\n          word-wrap: break-word;\n          white-space: pre;\n          background-color: #f5f5f5;\n          color: #333;\n          border: 1px solid #ccc;\n          border: 1px solid rgba(0,0,0,0.15);\n          border-radius: 4px;\n          overflow-x: auto;\n        }\n\n        .conversation #messages-list .message code {\n          font-family: "Source Code Pro", Menlo, Consolas, "Courier New", monospace;\n        }\n\n        #content-container .rmz-blur {\n          -webkit-filter: blur(2px);\n          filter: blur(2px);\n          filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);\n          opacity: 0.8;\n        }\n\n        .alert {\n          font-size: 0.9em;\n          margin: 0;\n          border-radius: 0;\n          border: 0;\n        }\n\n        .has-float-label label, .has-float-label > span {\n          left: 6px;\n          top: -4px;\n\n          text-overflow: ellipsis;\n          overflow: hidden;\n          white-space: nowrap;\n          width: 100%;\n        }\n\n        .has-float-label input:focus + *, .has-float-label select:focus + *, .has-float-label textarea:focus + * {\n          color: '+(e.headerBgColor||"inherit")+"\n        }\n\n        .has-float-label input:not(:placeholder-shown):not(.placeholder-shown) + *,\n        .has-float-label select:not(:placeholder-shown):not(.placeholder-shown) + *,\n        .has-float-label textarea:not(:placeholder-shown):not(.placeholder-shown) + *\n        {\n          color: "+(e.headerBgColor||"inherit")+"\n        }\n\n        .has-float-label select {\n          padding-top: 10px;\n          margin-bottom: 10px;\n        }\n\n        .template-card {\n          background: "+n+";\n          display: inline-block;\n          margin: 0px;\n          min-width: 200px;\n          max-width: 100%;\n          -moz-border-radius: 20px 20px 20px 0;\n          -webkit-border-radius: 20px 20px 20px 0;\n          border-radius: 20px 20px 20px 0;\n          overflow: hidden;\n        }\n\n        .prompt-options-container {\n          text-align: right;\n          margin-bottom: 10px;\n          transition: opacity 0.5s;\n          opacity: 1;\n          max-width: 75%;\n          margin-right: 0;\n          margin-left: auto;\n        }\n\n        .prompt-options-container.hidden {\n          opacity: 0;\n        }\n\n        .prompt-option {\n          background: "+o+";\n          border: 1px solid "+a+";\n          color: "+a+";\n          border-radius: 5px;\n          padding: 6px 20px;\n        }\n\n        .prompt-option-li {\n          margin: 5px;\n          display: inline-block;\n        }\n\n        .prompt-option-li:first-child {\n          margin-top: 0px;\n        }\n\n        .prompt-option:hover, .prompt-option.selected {\n          cursor: pointer;\n          background: "+a+";\n          color: "+o+";\n        }\n\n        .prompt-option:disabled {\n          opacity: 0.7;\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Field=r({displayName:"Reamaze.Conversations.Field",propTypes:{k:a.string,field:a.object,showErrors:a.bool,focusInput:a.func,onChange:a.func,conversation:a.object},getInitialState:function(){return{error:!1,value:"dropdown"!==this.props.field.type?this.props.field.value:null,type:"date"===this.props.field.type?"text":this.props.field.type}},componentWillReceiveProps:function(e){e.conversation&&e.conversation.errors&&e.conversation.errors.includes(Reamaze.ConversationErrorStates.CONTACT_FORM_FIELDS_EMAIL_INVALID)&&"email"==this.props.field.type&&this.setState({error:!0})},handleChange:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.state.error&&this.setState({error:!1}),this.validate(),this.setState({value:t},function(){this.props.onChange&&this.props.onChange(this.state.value)}.bind(this))},componentDidMount:function(){this.validate()},validate:function(){var t=n.findDOMNode(this.input);this.props.field.required&&"false"!=this.props.field.required&&("checkbox"===t.type?this.setState({error:!t.checked}):this.setState({error:!e.trim(e(t).val())}));var r=e(t).val();r&&hasCreditCard(r)&&this.setState({error:!0})},render:function(){var e,n,r=this,a=this.props.field,o=this.props.k;this.props.field.pos&&(e=t.createElement("input",{type:"hidden",name:"field_pos["+this.props.field.pos+"]",value:o})),"tel"!==a.type||"true"!==a.connectContact&&!0!==a.connectContact||(n=t.createElement("input",{type:"hidden",name:"connect_contact[]",value:o}));var i,s,p={};if(this.props.showErrors&&this.state.error&&(p.boxShadow="0 1px 0px 0px red"),"object"==typeof a){if("hidden"==a.type)return[t.createElement("input",{type:"hidden",key:o,name:Reamaze.Utils.entitiesDecode(a.name),value:Reamaze.Utils.entitiesDecode(a.value),ref:function(e){this.input=e}.bind(this)}),e];var l={name:Reamaze.Utils.entitiesDecode(a.name),defaultValue:Reamaze.Utils.entitiesDecode(a.value),placeholder:Reamaze.Utils.entitiesDecode(a.label?a.placeholder||o:" "),required:!!a.required},c={};if(this.props.showErrors&&this.state.error&&(c.color="red"),"dropdown"!=a.type&&"country"!=a.type)return"checkbox"==a.type?(delete l.defaultValue,a.value&&"false"!=a.value&&(l.defaultChecked=!0),t.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:c},t.createElement("label",{className:"checkbox",style:c},t.createElement("input",{name:l.name,type:"hidden",value:"no"}),t.createElement("input",_extends({type:"checkbox"},l,{value:"yes",onChange:this.handleChange,style:p,ref:function(e){this.input=e}.bind(this)})),t.createElement("div",null,Reamaze.Utils.entitiesDecode(a.placeholder||o))),e)):"date"==a.type?t.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:c},t.createElement("label",{className:"has-float-label"},t.createElement("input",_extends({type:this.state.type},l,{onChange:function(e){this.setState({type:e.target.value?a.type:"text"}),this.handleChange(e)}.bind(this),onFocus:function(){this.setState({type:a.type})}.bind(this),onBlur:function(e){this.setState({type:e.target.value?a.type:"text"})}.bind(this),style:p,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this)})),t.createElement("span",null,Reamaze.Utils.entitiesDecode(a.label||a.placeholder||o))),e):"tel"===a.type?t.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:c},t.createElement("label",{className:"has-float-label"},t.createElement("input",_extends({type:a.type},l,{onChange:this.handleChange,style:p,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this),pattern:"[0-9]{10,20}",title:"Use only numbers in your phone number, with a length of 10 to 20 digits."})),t.createElement("span",null,Reamaze.Utils.entitiesDecode(a.label||a.placeholder||o))),e,n):"email"===a.type?t.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:c},t.createElement("label",{className:"has-float-label"},t.createElement("input",_extends({type:a.type},l,{onChange:this.handleChange,style:p,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this),required:!0,pattern:"^[^@]+@[^@]+\\.[a-zA-Z]{2,10}"})),t.createElement("span",null,Reamaze.Utils.entitiesDecode(a.label||a.placeholder||o)))):t.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:c},t.createElement("label",{className:"has-float-label"},t.createElement("input",_extends({type:a.type},l,{onChange:this.handleChange,style:p,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this)})),t.createElement("span",null,Reamaze.Utils.entitiesDecode(a.label||a.placeholder||o))),e);var u=(i=!a.defaultValue||"undefined"===a.defaultValue||"_no_default"===a.defaultValue,s="country"==a.type?Reamaze.Constants.countries:a.value,l.defaultValue=i?Reamaze.Utils.entitiesDecode(a.label||a.placeholder||o):Reamaze.Utils.entitiesDecode(a.defaultValue),{v:t.createElement("div",{className:"custom-field-container "+(r.state.error?"input-error":""),style:c},t.createElement("div",{className:"has-float-label"},t.createElement("select",_extends({id:"input-"+o},l,{onChange:r.handleChange,style:p,className:i&&!r.state.value?"placeholder-shown":"",ref:function(e){this.input=e}.bind(r)}),i&&t.createElement("option",{disabled:"disabled"},l.defaultValue),s.map((function(e){return i||a.defaultValue!==e?t.createElement("option",{value:Reamaze.Utils.entitiesDecode(e),key:e},Reamaze.Utils.entitiesDecode(e)):t.createElement("option",{selected:"selected",value:Reamaze.Utils.entitiesDecode(e),key:e},Reamaze.Utils.entitiesDecode(e))}))),t.createElement("label",{htmlFor:"input-"+o},Reamaze.Utils.entitiesDecode(a.label||a.placeholder||o))),e)});if("object"==typeof u)return u.v}return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};(function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Conversations"),Reamaze.Conversations.Message=createReactClass({displayName:"Reamaze.Conversations.Message",propTypes:{message:PropTypes.shape({id:PropTypes.any.isRequired,user:PropTypes.shape({avatarUrl:PropTypes.string,name:PropTypes.string,displayName:PropTypes.string,displayAsStaff:PropTypes.bool}),createdAt:PropTypes.any,body:PropTypes.string,viewed:PropTypes.bool,
showViewedStatus:PropTypes.bool,imageAttachments:PropTypes.arrayOf(PropTypes.shape({id:PropTypes.number.isRequired,thumbUrl:PropTypes.string.isRequired,url:PropTypes.string.isRequired})),otherAttachments:PropTypes.arrayOf(PropTypes.shape({id:PropTypes.number.isRequired,name:PropTypes.string.isRequired,url:PropTypes.string.isRequired,size:PropTypes.string.isRequired})),appreciated:PropTypes.bool,meta:PropTypes.object,pendingData:PropTypes.object,pending:PropTypes.bool,errored:PropTypes.bool}),conversationSlug:PropTypes.string,currentUser:PropTypes.object,appContext:PropTypes.object.isRequired,onButtonSelect:PropTypes.func,brandData:PropTypes.object},getDefaultProps:function(){return{}},shouldComponentUpdate:function(e){return this.props.message.viewed!=e.message.viewed||this.props.message.showViewedStatus!=e.message.showViewedStatus||this.props.message.appreciated!=e.message.appreciated||(this.props.message.template||"")!=(e.message.template||"")},_onAppreciateClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED,payload:{conversationSlug:this.props.conversationSlug,messageId:this.props.message.id}}),this.props.appContext._preview||$jq.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/messages/"+this.props.message.id+"/votes/post?sparams="+encodeURIComponent($jq.param({sso:this.props.currentUser.ssoData()})),type:"GET",error:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED,payload:{conversationSlug:this.props.conversationSlug,messageId:this.props.message.id,error:!0}})}.bind(this),crossDomain:!0})},getMeta:function(){if(!this.props.message.meta||!this.props.message.meta.buttons||!this.props.message.meta.buttons.length)return null;var buttons=this.props.message.meta.buttons&&this.props.message.meta.buttons.map(function(button,idx){if(button.dismiss||button.pushprompt)return!1;var tmp=document.createElement("div");tmp.innerHTML=button.text;var buttonText=tmp.textContent||tmp.innerText||"",buttonProps={title:buttonText,style:{maxWidth:"250px",display:"block",margin:"0 auto 10px auto"}};if(button.url){if(button.url.match(/^https?.*\./))buttonProps.href=button.url;else if(button.url.match(/^#/))buttonProps.href=""+document.baseURI.split("#")[0]+button.url;else if(button.url.match(/^\//)){var parser=document.createElement("a");parser.href=document.baseURI,buttonProps.href=parser.protocol+"//"+parser.hostname+button.url}else{var parser=document.createElement("a");parser.href=document.baseURI.substring(0,document.baseURI.lastIndexOf("/")),buttonProps.href=parser.href+"/"+button.url}button.target?buttonProps.target=button.target:buttonProps.target="_blank"}return button.script?buttonProps.onClick=function(event){event.stopPropagation(),"string"==typeof button.script?eval(button.script):"function"==typeof button.script&&button.script()}.bind(this):button.url?buttonProps.onClick=function(e){e.stopPropagation()}.bind(this):button.response&&(buttonProps.onClick=function(){var e={body:button.text};this.props.onButtonSelect(e)}.bind(this)),React.createElement("a",_extends({className:"btn anim-btn anim-btn-shadow",key:"btn-"+idx++,dangerouslySetInnerHTML:{__html:buttonText}},buttonProps))}.bind(this));return buttons.every((function(e){return 0==e}))?null:React.createElement("div",{style:{marginTop:"15px"}},React.createElement("div",{style:{textAlign:"center"}},buttons))},template:function(){return React.createElement("div",{style:{marginBottom:"5px"}},React.createElement(Reamaze.Conversations.MessageTemplate,{template:this.props.message.template,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message}))},_uploadingAttachmentsText:function(e,t){return e.replace(/{{.*}}/g,(function(e){var n=e.indexOf(":"),r=e.substring(n+1,e.length-2).split(",").map((function(e){return e.trim().replace(/['"]/g,"")})),a=r[0];return t>1&&(a=1==r.length?r[0]+"s":r[1]),t+" "+a}))},render:function(){var e,t=null,n=null;this.props.message.imageAttachments&&(t=React.createElement("ul",{className:"attachments images"},this.props.message.imageAttachments.map((function(e){return React.createElement("li",{key:"attachment-"+e.id},React.createElement("a",{href:e.url,target:"_blank"},React.createElement("img",{src:e.thumbUrl})))})))),this.props.message.otherAttachments&&(n=React.createElement("ul",{className:"attachments other"},this.props.message.otherAttachments.map((function(e){return React.createElement("li",{key:"attachment-"+e.id},React.createElement("i",{className:"fas rmzfa rmzfa-paperclip"})," ",React.createElement("a",{href:e.url,target:"_blank"},e.name)," ","(",e.size,")")})))),this.props.message.user.displayAsStaff&&this.props.message.user.id&&!this.props.brandData.brandIsGoDaddy&&(e=React.createElement("span",{className:"message-feedback"},this.props.message.appreciated?React.createElement("i",{className:"icon fas rmzfa rmzfa-heart"}):React.createElement("a",{href:"javascript:;",onClick:this._onAppreciateClick,ref:"appreciateLink"},React.createElement("i",{className:"icon far rmzfa rmzfa-heart"})," ",React.createElement("span",{className:"feedback-label"},this.props.appContext.brand.preferences.trans_contact_us_appreciate_label))));var r=null;if(this.props.message.pendingData){var a=this.props.message.pendingData.message.attachment_ids;a&&a.length>0&&(r=React.createElement("p",{style:{textAlign:"right"}},React.createElement("i",{className:"fas rmzfa rmzfa-upload"})," ",this._uploadingAttachmentsText(this.props.appContext.brand.preferences.trans_attaching,a.length)))}var o=this.props.message.body;o||t||n||r||(o=this.props.appContext.brand.preferences.trans_contact_us_empty_message);var i=React.createElement("div",{className:"message-body"+(this.props.message.body?"":" empty"),dangerouslySetInnerHTML:{__html:o}}),s=new Date,p=new Date(this.props.message.createdAt),l="",c="%H:%M"==this.props.brandData.preferences.time_format;l=s.toDateString()==p.toDateString()?Reamaze.Utils.getLocaleTimeString(p,c):Reamaze.Utils.getLocaleDateString(p)+" "+Reamaze.Utils.getLocaleTimeString(p);var u,d,h,f=String.fromCharCode(183),m=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode),g=Reamaze.Utils.getUserDisplayDetails(this.props.message.user,this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode);return g&&(g.avatarUrls&&(u=g.avatarUrls[0]),d="System User"===g.name||"Re:amaze"===g.name?this.props.brandData.name:g.name),u||(u=this.props.message.user.avatarUrl),d||(d=this.props.message.user.displayName||this.props.appContext.brand.name),h=u?[{avatarUrl:u,name:d}]:m.slice(0,3),React.createElement("li",{id:"message-"+this.props.message.id,className:"message "+(this.props.message.user.displayAsStaff?"staff":" customer")+" "+(this.props.message.pendingData||this.props.message.pending||this.props.message.errored?"pending":"")+" "+(this.props.message.faux?"faux":"")},this.props.message.user.displayAsStaff&&h.map(function(e,t){var n=this.props.message.faux?-5:0;return n+=13*(h.length-t-1),React.createElement("div",{className:"message-user-image",key:"staff-avatar-"+t,style:{bottom:n+"px"}},React.createElement("img",{src:e.avatarUrl,alt:e.displayName}))}.bind(this)),React.createElement("div",{className:"message-outer-wrap"},React.createElement("div",{className:"message-wrap","aria-live":"polite"},i,this.getMeta(),t,n,r),this.props.message.template&&this.template(),!this.props.message.faux&&React.createElement("div",{className:"message-meta"},this.props.message.pendingData||this.props.message.user.id&&this.props.message.user.id==this.props.currentUser.get("_id")?null:d+" "+f," ",!this.props.message.pendingData&&l," ",!this.props.message.showViewedStatus||this.props.message.pendingData||this.props.message.pending||this.props.message.errored?"":f+" "+(this.props.message.viewed?this.props.appContext.brand.preferences.trans_contact_us_viewed:this.props.appContext.brand.preferences.trans_contact_us_sent),this.props.message.pending&&React.createElement("span",null," \u2026 "),this.props.message.errored&&React.createElement("span",{className:"rmzfa fas rmzfa-exclamation-circle",style:{fontWeight:"bold",color:"rgb(255, 0, 0)"}}),this.props.message.pendingData&&React.createElement("span",null," ",this.props.appContext.brand.preferences.trans_contact_us_pending)," ",e?f+" ":"",e)))}})})(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.MessageTemplate=r({displayName:"Reamaze.Conversations.MessageTemplate",propTypes:{template:a.object.isRequired,appContext:a.object.isRequired,currentUser:a.object.isRequired,message:a.object.isRequired},render:function(){var e=this.props,n=e.appContext,r=e.currentUser,a=e.message,o=e.template,i={list:Reamaze.Conversations.TemplateList,text:Reamaze.Conversations.TemplateText,map:Reamaze.Conversations.TemplateMap};return t.createElement(t.Fragment,null,o.data.components.map((function(e,o){var s=i[e.type];if(s)return t.createElement(t.Fragment,null,e.preText&&t.createElement("div",{class:"message-wrap"},t.createElement("div",{class:"message-body"},t.createElement("p",null,e.preText))),t.createElement("div",{key:"component-"+o,className:"template-card"},t.createElement(s,{key:e.type+"-"+o,componentData:e,appContext:n,currentUser:r,message:a})),e.postText&&t.createElement("div",{class:"message-wrap"},t.createElement("div",{class:"message-body"},t.createElement("p",null,e.postText))))})))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Modal=r({displayName:"Reamaze.Conversations.Modal",render:function(){var n=e.extend({position:"absolute",padding:"15px",width:"100%",background:"#fff",boxShadow:"0 0px 20px 0px rgba(0,0,0,0.3)",textAlign:"center"},this.props.style||{});return t.createElement("div",{id:"rmz-conversation-modal"},t.createElement("div",{id:"rmz-conversation-modal-overlay",style:{position:"absolute",top:0,left:0,bottom:0,right:0},onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)}),t.createElement("div",{id:"rmz-conversation-modal-content",style:n},this.props.children))}}),Reamaze.Conversations.EmailTranscriptModal=r({displayName:"Reamaze.Conversations.EmailTranscriptModal",mixins:[TimerMixin],propTypes:{dispatcher:a.object,conversationSlug:a.string,currentUser:a.object,style:a.object,appContext:a.object.isRequired},getInitialState:function(){return{submitting:!1,submitted:!1,error:!1}},componentDidMount:function(){this.setTimeout(function(){this.refs.email_transcript_input&&n.findDOMNode(this.refs.email_transcript_input).focus()}.bind(this),0)},_emailTranscript:function(t){if(t.preventDefault(),t.stopPropagation(),!this.props.appContext._preview){var r=n.findDOMNode(this.refs.email_transcript_input).value;this.setState({submitting:!0,error:!1}),e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/email_transcript",type:"POST",data:{sparams:e.param({sso:this.props.currentUser.ssoData()}),transcript_email:r},success:function(){this.setState({submitted:!0},function(){this.setTimeout(function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this),3e3)}.bind(this))}.bind(this),error:function(){this.setState({submitting:!1,error:!0})}.bind(this),crossDomain:!0})}},render:function(){var e={width:"200px"};return this.state.error&&(e.border="1px solid red"),t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("p",{style:{marginBottom:"10px"}},this.props.appContext.brand.preferences.trans_chat_email_transcript),this.state.submitted&&t.createElement("span",{className:"fas rmzfa rmzfa-check",style:{fontSize:"20px",color:"#32cd32"}}),this.state.submitting&&!this.state.submitted&&t.createElement(Reamaze.Popup.Spinner,{style:{marginTop:"15px",height:"30px",position:"relative"},xColor:this.props.appContext.brand.styles.widgetColor}),!this.state.submitting&&!this.state.submitted&&t.createElement("form",{onSubmit:this._emailTranscript,ref:"form",id:"emailTranscriptForm"},t.createElement("div",{style:{marginBottom:"10px"}},t.createElement("input",{type:"email",ref:"email_transcript_input",placeholder:this.props.appContext.brand.preferences.trans_email,style:e,required:!0})),t.createElement("div",{style:{position:"relative"}},t.createElement("button",{type:"submit",key:"yes",className:"btn btn-link",style:{fontSize:"24px"}},t.createElement("i",{className:"fas rmzfa rmzfa-check"})),t.createElement("button",{key:"no",href:"javascript:;",className:"btn btn-link",style:{fontSize:"24px",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times"})))))}}),Reamaze.Conversations.EndChatModal=r({displayName:"Reamaze.Conversations.EndChatModal",propTypes:{dispatcher:a.object,conversationSlug:a.string,currentUser:a.object,style:a.object,appContext:a.object.isRequired},getInitialState:function(){return{submitting:!1}},_endChat:function(){this.props.appContext._preview||(this.setState({submitting:!0}),e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/end_chat",type:"POST",data:{sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CHAT_ENDED,payload:{conversationSlug:e.conversation.slug,props:{status:"archived",satisfactionRating:e.conversation.satisfactionRating}}})}.bind(this),error:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0}))},render:function(){return t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("p",{style:{marginBottom:"10px"}},this.props.appContext.brand.preferences.trans_chat_end_chat_confirmation_header),this.state.submitting&&t.createElement(Reamaze.Popup.Spinner,{style:{marginTop:"15px",height:"30px",position:"relative"},xColor:this.props.appContext.brand.styles.widgetColor}),!this.state.submitting&&t.createElement("div",null,t.createElement("button",{className:"btn btn-link",style:{fontSize:"24px"},onClick:this._endChat},t.createElement("i",{className:"fas rmzfa rmzfa-check"})),t.createElement("button",{className:"btn btn-link",style:{fontSize:"24px",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times"}))))}}),Reamaze.Conversations.TransitionalModal=r({displayName:"Reamaze.Conversations.TransitionalModal",mixins:[TimerMixin],propTypes:{dispatcher:a.object,conversationSlug:a.string,currentUser:a.object,style:a.object,appContext:a.object.isRequired},getInitialState:function(){return{submitting:!1,error:!1,success:!1,email:"",name:""}},handleChange:function(){this.setState({email:n.findDOMNode(this.refs.email).value,name:n.findDOMNode(this.refs.name).value,canSubmit:!!n.findDOMNode(this.refs.email).value&&!!n.findDOMNode(this.refs.name).value})},componentDidMount:function(){Reamaze.sessionStorage.setItem("tx_prompt",1),n.findDOMNode(this.refs.name).focus()},componentDidUpdate:function(){this.state.success&&this.setTimeout(function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this),1e3)},_onFormSubmit:function(t){t.preventDefault(),t.stopPropagation(),!this.props.appContext._preview&&this.state.canSubmit&&(this.setState({submitting:!0}),e.ajax({url:this.props.currentUser.get("_id")?this.props.appContext.baseDataUrl+"/data/users/"+this.props.currentUser.get("_id")+"/transition":this.props.appContext.baseDataUrl+"/data/users",type:"POST",data:{email:n.findDOMNode(this.refs.email).value,name:n.findDOMNode(this.refs.name).value,sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){var t=this.props.currentUser.getAnonymousId();this.props.currentUser.set("_id",e.id),this.props.currentUser.setAnonymousId(e.anonymous_id),this.props.currentUser.set("email",e.email),this.props.currentUser.set("name",e.name),this.setState({success:!0}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.USER_TRANSITION,payload:{fromAnonymousId:t}})}.bind(this),error:function(){this.setState({submitting:!1,error:!0})}.bind(this)}))},render:function(){var e={width:"100%"};return this.state.error&&(e.boxShadow="0 1px 0px 0px red"),t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("form",{onSubmit:this._onFormSubmit},t.createElement("p",{style:{marginBottom:"1em"}},this.props.appContext.brand.preferences.trans_transitional_email_prompt),t.createElement("fieldset",{style:{position:"relative",opacity:this.state.submitting?"0.5":1,marginBottom:"1em"},disabled:this.state.submitting},t.createElement("label",{className:"has-float-label"},t.createElement("input",{id:"transitional-name",type:"text",name:"name",ref:"name",style:e,onChange:this.handleChange,placeholder:" ",className:this.state.name?"":"placeholder-shown"}),t.createElement("span",null,this.props.appContext.brand.preferences.trans_name)),t.createElement("label",{className:"has-float-label"},t.createElement("input",{id:"transitional-email",type:"email",name:"email",ref:"email",style:e,onChange:this.handleChange,placeholder:" ",className:this.state.email?"":"placeholder-shown"}),t.createElement("span",null,this.props.appContext.brand.preferences.trans_form_email))),t.createElement("div",{style:{textAlign:"center"}},!this.state.success&&t.createElement("button",{className:"btn anim-btn",disabled:!this.state.canSubmit||this.state.submitting,style:{borderRadius:"14px"}},t.createElement("i",{className:"fas rmzfa rmzfa-arrow-right",style:{verticalAlign:"middle",marginTop:"-2px"}})),!this.state.success&&t.createElement("button",{className:"btn btn-link anim-btn",style:{fontSize:"24px",marginLeft:"1em",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times",style:{position:"relative",top:"-1px"}})),this.state.success&&t.createElement("span",{className:"fas rmzfa rmzfa-check",style:{fontSize:"20px",color:"#32cd32"}}))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.MoreDetailsMessage=r({displayName:"Reamaze.Conversations.MoreDetailsMessage",mixins:[TimerMixin],propTypes:{conversation:a.object.isRequired,appContext:a.object.isRequired,category:a.string,chatIsLive:a.bool,inView:a.bool,onSubmit:a.func.isRequired,currentUser:a.object.isRequired,scrollContent:a.func},getInitialState:function(){return{visible:!1,showErrors:!1}},componentWillReceiveProps:function(e){e.conversation&&e.conversation.errors&&this.setState({showErrors:!0})},componentDidMount:function(){var t=this,r=this.props,a=r.setShowFooter,o=r.conversation.loaded,i=this.treatAsEscalated();!(e(n.findDOMNode(this)).find("input[type!=hidden],select,textarea,.heading").not("input[type=submit]").length>0&&!(!o&&i))?this.onSubmit():(i&&a(!1),this.setTimeout((function(){t.setState({visible:!0})}),300),this.scrollToView())},componentDidUpdate:function(e){!e.inView&&this.props.inView&&this.scrollToView()},scrollToView:function(){var e=this;this.setTimeout((function(){e.props.inView&&!e.props.appContext._preview&&e.props.scrollContent(n.findDOMNode(e).offsetTop-30)}),500)},onSubmit:function(t){var r=this.props.onSubmit;t&&(t.preventDefault(),t.stopPropagation()),this.state.showErrors&&this.setState({showErrors:!1});var a=e(n.findDOMNode(this));return a.find(".input-error").length>0?(a.find(".input-error")[0].scrollIntoView(),a.find(".input-error :input")[0].focus(),void this.setState({showErrors:!0})):(r(e(n.findDOMNode(this.refs.form)).serializeArray(),this.treatAsEscalated()),!1)},treatAsEscalated:function(){var e=this.props.appContext,t=e.contactMode,n=e.brand.experimentContext;return"escalated"===t||n&&n.treatAsEscalated},render:function(){var e=this.props,n=e.appContext,r=e.currentUser,a=e.contactMode,o=e.chatIsLive,i=e.conversation,s=e.category,p=e.inView,l=this.state,c=l.visible,u=l.showErrors,d=Reamaze.Utils.getDisplayStaffAvatars(n.brand,n.faces,n.shoutboxFacesMode).slice(0,3),h=r.hasEmail()||"anonymous"==a||"mixed"==a&&o||"mixed"==a&&!n.brand.chatEnabled&&(n.brand.inOffice||!n.brand.nextOfficeTime),f=i.outbound&&"*ob_shoutbox-cue-greeting"==i.id;return t.createElement("li",{className:"message staff pending-data prompt rmz-fade "+(c?"in":"")},t.createElement("form",{ref:"form",onSubmit:this.onSubmit},d.map((function(e,n){return t.createElement("div",{key:n,className:"message-user-image",style:{bottom:15*(d.length-n-1)+5+"px"}},t.createElement("img",{src:e.avatarUrl,alt:e.name}))})),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap","aria-live":"polite"},t.createElement("fieldset",{disabled:i.saving,id:"new-conversation-fieldset",style:{opacity:i.saving?"0.7":1}},t.createElement("p",{style:{padding:"5px 5px",color:"#888"}},n.brand.preferences.trans_popup_more_details_needed),t.createElement("div",null,t.createElement(Reamaze.Conversations.ContactFormFields,{appContext:n,category:s,inView:p,currentUser:r,showIdentity:!h,showCategory:!o&&(!i.outbound||i.enableOutboundCustomFields),showCustomFields:f||!i.outbound||i.enableOutboundCustomFields,showErrors:u,conversation:i}),t.createElement("div",{className:"action-bar"},t.createElement("input",{type:"submit",tabIndex:"-1",style:{display:"none"}}),t.createElement("button",{className:"btn btn-primary anim-btn",disabled:i.saving},n.brand.preferences.trans_send_message))))))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.NewConversationFooter=r({displayName:"Reamaze.Conversations.NewConversationFooter",propTypes:{appContext:a.object.isRequired,inView:a.bool.isRequired,onSubmit:a.func,chatIsLive:a.bool,conversations:a.object.isRequired,buttonMode:a.bool,overridePlaceholder:a.string},getDefaultProps:function(){return{buttonMode:!1,conversationsCount:0}},getInitialState:function(){return{showNewConversationButton:this.props.buttonMode||this.shouldShowNewConversationButton(this.props.conversations,this.props.appContext.route)}},shouldComponentUpdate:function(e,t){return this.props.chatIsLive!=e.chatIsLive||this.props.inView!=e.inView||this.props.buttonMode!=e.buttonMode||this.state.showNewConversationButton!=t.showNewConversationButton},componentWillReceiveProps:function(e){this.setState({showNewConversationButton:e.buttonMode||this.shouldShowNewConversationButton(this.props.conversations,this.props.appContext.route)})},shouldShowNewConversationButton:function(e,t){return Object.keys(e||{}).some(function(t){return e[t].id&&"*"!=(""+e[t].id).charAt(0)}.bind(this))&&"conversations:new"!=t},_getMostRecentActiveChat:function(){var e=null,t=0,n=this.props.conversations;if(0===(n=(n=Object.keys(n).map((function(e){return n[e]}))).filter((function(e){return e.isChat&&("active"==e.status||"resolved"==e.status)}))).length&&this.props.chatIsLive)return e;if(0==n.length){var r=36e5,a=6048e5;n=this.props.conversations,n=(n=Object.keys(n).map((function(e){return n[e]}))).filter((function(e){return!e.isChat&&!e.outbound&&"archived"!=e.status&&"deleted"!=e.status&&(!e.messages.find((function(e){return e.user&&e.user.isStaff||new Date(e.createdAt)<new Date(Date.now()-a)}))||e.messages.find((function(e){return new Date(e.createdAt)>new Date(Date.now()-r)})))}))}return n.forEach((function(n){var r=n.messages.slice(0).sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})),a=new Date(r[0].createdAt).getTime();a>t&&(e=n,t=a)})),e},newConversation:function(){Reamaze.Analytics.track("New Conversation Button Clicked");var e=this._getMostRecentActiveChat();e?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:show",routeParams:{slug:e.slug}}}):this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new"}})},newConversationButtonText:function(){return this.props.chatIsLive?this.props.appContext.brand.preferences.trans_chat_new_chat:this.props.appContext.brand.inOffice||!this.props.appContext.brand.nextOfficeTime?this.props.appContext.brand.preferences.trans_popup_new_conversation_prompt:this.props.appContext.brand.preferences.trans_popup_new_conversation_ooo_prompt},render:function(){var n=this.newConversationButtonText(),r={textAlign:"center"};return this.state.showNewConversationButton&&(r.boxShadow="0 5px 25px 0 rgba(0,0,0,0.05)"),this.props.style&&e.extend(r,this.props.style),t.createElement("div",{id:"footer",ref:"footer",style:r},t.createElement("style",null,"\n            #footer a.btn {\n              margin: 0 12px;\n            }\n          "),!this.state.showNewConversationButton&&t.createElement(Reamaze.Conversations.NewMessage,{appContext:this.props.appContext,onSubmit:this.props.onSubmit,chatIsLive:this.props.chatIsLive,inView:this.props.inView,focus:"conversations:new"==this.props.appContext.route,overridePlaceholder:this.props.overridePlaceholder}),this.state.showNewConversationButton&&t.createElement("a",{"aria-label":n,tabIndex:"0",role:"button",className:"btn btn-primary anim-btn anim-btn-shadow",onClick:this.newConversation,style:{marginBottom:"5px"}},n),this.props.showConversationsCount&&this.props.conversationsCount>0&&t.createElement("a",{href:"javascript:;",className:"anim-btn btn btn-link anim-btn-shadow",style:{margin:"0 5px 5px 5px",padding:"5px 10px",border:"1px solid "+this.props.appContext.brand.styles.buttonBgColor,textDecoration:"none"},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.onConversationsCountClick(e)}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),t.createElement("span",{style:{verticalAlign:"middle",marginLeft:"5px"}},this.props.conversationsCount)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.NewMessage=r({displayName:"Reamaze.Conversations.NewMessage",mixins:[TimerMixin],propTypes:{appContext:a.object.isRequired,onSubmit:a.func.isRequired,onFocus:a.func,onTypingStart:a.func,onTypingStop:a.func,focus:a.bool,inView:a.bool,chatIsLive:a.bool,overridePlaceholder:a.string},getDefaultProps:function(){return{focus:!1,inView:!0}},getInitialState:function(){return this.throttledOnKeyUp=e.throttle(250,this.onKeyUp),this.debouncedOnTypingStart=e.throttle(3e3,this.onTypingStart),this.debouncedOnTypingStop=e.throttle(500,this.onTypingStop),{uploading:!1,attachmentsCount:0,messageBlank:!0,isCreditCard:!1,showErrors:!1,typing:!1}},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.state.uploading!=t.uploading||this.state.attachmentsCount!=t.attachmentsCount||this.state.messageBlank!=t.messageBlank||this.state.isCreditCard!=t.isCreditCard||this.state.showErrors!=t.showErrors||this.props.chatIsLive!=e.chatIsLive},contextTypes:{window:a.object},componentDidMount:function(){e(this.context.window.document).find("#new_message").on("attachments:add",function(){this.setState((function(e){return{attachmentsCount:e.attachmentsCount+1}}))}.bind(this)),e(this.context.window.document).find("#new_message").on("attachments:remove",function(){this.setState((function(e){return{attachmentsCount:e.attachmentsCount-1}}))}.bind(this)),e(this.context.window.document).find("#new_message").on("attachments:start",function(){this.setState({uploading:!0})}.bind(this)),e(this.context.window.document).find("#new_message").on("attachments:done",function(){this.setState({uploading:!1})}.bind(this)),e(this.context.window).trigger("app:reinitjs"),this.props.focus&&this.setTimeout(function(){this.refs.body&&this.props.inView&&!this.props.appContext._preview&&n.findDOMNode(this.refs.body).focus()}.bind(this),0),this.context.window.Mousetrap.bind({"mod+enter":this._insertNewline}),this.refs.body&&this.context.window.autosize(n.findDOMNode(this.refs.body))},componentDidUpdate:function(){e(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize.update(n.findDOMNode(this.refs.body))},componentWillUnmount:function(){e(this.context.window.document).find("#new_message").off("attachments:add"),e(this.context.window.document).find("#new_message").off("attachments:remove"),e(this.context.window.document).find("#new_message").off("attachments:start"),e(this.context.window.document).find("#new_message").off("attachments:done"),e(this.context.window.document).find(n.findDOMNode(this.refs.fileupload1)).remove(),e(this.context.window.document).find(n.findDOMNode(this.refs.fileupload2)).remove(),this.context.window.Mousetrap&&this.context.window.Mousetrap.unbind("mod+enter")},_insertNewline:function(){var t=e(this.refs.body),r=t.val(),a=t.prop("selectionStart");t.val(r.slice(0,a)+"\n"+r.slice(a)),t.prop("selectionEnd",a+1),t.blur().focus(),this.context.window.autosize.update(n.findDOMNode(this.refs.body))},_getStyleTag:function(){
return t.createElement("style",null,"\n          form#new_message #fileupload-wrap {\n            white-space: nowrap;\n            margin-top: 5px;\n          }\n          form#new_message input#fileupload {\n            position: absolute;\n          }\n          form#new_message #fileupload-wrap > div {\n            margin-right: 5px;\n            white-space: nowrap;\n            vertical-align: middle;\n            display: inline-block;\n          }\n          form#new_message .attachment-cta {\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n          }\n          form#new_message .attachment-count {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            color: #fff;\n          }\n          form#new_message.has-attachment-errors .attachment-count {\n            display: none;\n          }\n          form#new_message .attachments-error-indicator {\n            display: none;\n          }\n          form#new_message.has-attachment-errors .attachments-error-indicator {\n            display: inline-block;\n          }\n          form#new_message #submit-container button {\n            border: 0;\n            cursor: pointer;\n            font-size: 16px;\n            padding: 0;\n          }\n          form#new_message #action-bar {\n            display: -ms-flexbox;\n            display: -ms-flex;\n            display: -moz-flex;\n            display: -webkit-flex;\n            display: flex;\n            flex-wrap: none;\n            position: relative;\n          }\n          .attributed form#new_message #action-bar {\n            padding-bottom: 5px;\n          }\n          form#new_message #action-bar #body-container {\n            padding: 0px 8px 0px 5px;\n            width: 100%;\n            -ms-flex: 1;\n            -moz-flex: 1;\n            -webkit-flex: 1;\n            flex: 1;\n          }\n          form#new_message #action-bar #body-container textarea {\n            width: 100%;\n            padding: 5px;\n            margin: 0;\n            border: 0;\n            max-height: 4em;\n            min-height: 32px;\n            height: 32px;\n            overflow-y: auto;\n            resize: none;\n          }\n          form#new_message #action-bar #live-indicator .rmzfa {\n            font-size: 8px;\n            color: limegreen;\n            position: absolute;\n            top: 11px;\n            left: -6px;\n          }\n          form#new_message #action-bar #error-indicator .rmzfa {\n            font-size: 11px;\n            color: #f00;\n            position: absolute;\n            top: 9px;\n            left: -7px;\n          }\n          form#new_message .attachment-box {\n            display: none;\n          }\n          form#new_message .attachment-box.in {\n            display: block;\n          }\n          form#new_message #submit-container button {\n            height: 30px;\n            width: 39px;\n            border-radius: 14px;\n            line-height: 30px;\n            margin-left: 5px;\n            position: relative;\n          }\n          ")},_validateMessage:function(t){this.setState({messageBlank:!e.trim(e(n.findDOMNode(this.refs.body)).val())},(function(){t&&t()}))},_onSubmit:function(t){return t.preventDefault(),t.stopPropagation(),this._validateMessage(function(){this.state.uploading||(e(this.refs.form).find(".input-error").length>0?this.setState({showErrors:!0}):(this.state.showErrors&&this.setState({showErrors:!1}),this.setTimeout(function(){var r=n.findDOMNode(this.refs.body),a={body:e(r).val(),customer_body:e(n.findDOMNode(this.refs.customer_body)).val()},o=e(n.findDOMNode(this)).find('#attachments-list input[name="message[attachment_ids][]"]'),i=this.props.appContext.brand.preferences.disable_attachments;o.length>0&&!i&&(a.attachment_ids=[],o.each((function(e,t){a.attachment_ids.push(t.value)}))),hasCreditCard(a.body)?this.setState({showErrors:!0,isCreditCard:!0}):(this.props.onSubmit(a),e(n.findDOMNode(this)).find("#attachments-list li").not(".add-attachment").remove(),this.setState({attachmentsCount:0}),e(r).val(""),this.context.window.autosize.update(r),this.debouncedOnTypingStop(t))}.bind(this),0)))}.bind(this)),!1},_submit:function(){e(this.refs.submitButton).click()},_getCaptchas:function(){var e="customer_body_data_"+parseInt(Date.now()/1e3,10);return t.createElement("div",{id:e},t.createElement("style",{type:"text/css",media:"screen",scoped:"scoped"},"#"+e+" { display:none; }"),t.createElement("label",{htmlFor:"customer_body"},"Do not fill in this field"),t.createElement("textarea",{name:"customer_body",id:"customer_body",ref:"customer_body"}))},onKeyUp:function(t){this._validateMessage(),e(t.target).val().trim().length>0?this.debouncedOnTypingStart(t):this.debouncedOnTypingStop(t)},onKeyPress:function(e){this.props.appContext.isMobileBrowser||13!=e.which||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),this._submit())},onBlur:function(e){this.debouncedOnTypingStop(e)},onTypingStart:function(t){this.props.onTypingStart&&e(t.target).val().trim().length>0&&(t.persist(),this.props.onTypingStart(t))},onTypingStop:function(e){this.props.onTypingStop&&(e.persist(),this.props.onTypingStop(e))},render:function(){var e=this.state.messageBlank&&0==this.state.attachmentsCount,n=e&&this.state.showErrors||this.state.isCreditCard&&this.state.showErrors,r="1em";return"large"===this.props.appContext.shoutboxFontSize&&(r="1.1em"),t.createElement("div",{id:"new_message_container"},this._getStyleTag(),t.createElement("form",{id:"new_message",method:"POST",className:"upload-attachments popup","data-pastezone":"#body-container","data-dropzone":"body","data-attachment-input-name":"message[attachment_ids][]",onSubmit:this._onSubmit,ref:"form",style:{padding:"0 15px"}},t.createElement("div",{className:"attachment-box public"},t.createElement("div",{className:"attachments-list-wrap"},t.createElement("div",{className:"close"},t.createElement("i",{className:"fas rmzfa rmzfa-chevron-down"})),t.createElement("ul",{id:"attachments-list",style:{textAlign:"left"}},t.createElement("li",{className:"attachment-wrap add-attachment"},t.createElement("a",{className:"preview-wrap upload-wrap"},t.createElement("span",{className:"attachment-link"},t.createElement("i",{className:"icon fas rmzfa rmzfa-plus",style:{fontSize:"24px",color:this.props.appContext.brand.styles.buttonLinkColor}})),t.createElement("input",{id:"list-fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload1",multiple:"multiple"})))))),this._getCaptchas(),t.createElement("div",{id:"action-bar"},t.createElement("div",{id:"body-container"},t.createElement("textarea",{name:"message[body]",placeholder:this.props.overridePlaceholder||this.props.appContext.brand.preferences.trans_body,onFocus:this.props.onFocus,onKeyUp:function(e){e.persist(),this.throttledOnKeyUp(e)}.bind(this),onKeyPress:this.onKeyPress,onBlur:this.onBlur,className:"mousetrap "+(e?"input-error":""),style:{boxShadow:n?"red 0px 1px 0px 0px":"none",fontSize:r},ref:"body"})),!this.props.appContext.brand.preferences.disable_attachments&&t.createElement("div",{id:"fileupload-wrap",role:"button",className:(this.state.attachmentsCount>0?"attachment-view":"")+" anim-btn"},this.state.uploading&&t.createElement(Reamaze.Spinner,{style:{width:"32px",height:"32px",marginTop:"-10px",marginRight:"15px",transform:"scale(0.5)"}}),t.createElement("div",{id:"fileupload-area",className:"upload-wrap attachment-cta",style:{display:this.state.uploading?"none":"block"}},t.createElement("span",{className:"attachment-link"},t.createElement("i",{className:"icon fas rmzfa rmzfa-paperclip"})),t.createElement("input",{id:"fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload2",multiple:"multiple"}),this.state.attachmentsCount>0&&t.createElement("span",{className:"attachment-count"}),t.createElement("span",{className:"fas rmzfa rmzfa-exclamation-circle attachments-error-indicator",style:{color:"red",fontSize:"16px",verticalAlign:"top",marginLeft:"-4px"}}))),t.createElement("div",{id:"submit-container"},t.createElement("button",{type:"submit",ref:"submitButton",disabled:this.state.uploading,className:(this.state.uploading?"":"btn")+" anim-btn",title:this.props.appContext.brand.preferences.trans_popup_reply},t.createElement("svg",{width:"17px",height:"17px",viewBox:"0 0 535.5 535.5",style:{enableBackground:"new 0 0 535.5 535.5",position:"relative",top:"3px",left:"1px"}},t.createElement("g",null,t.createElement("polygon",{fill:this.props.appContext.brand.styles.buttonFontColor,points:"0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75"}))))),n&&t.createElement("div",{id:"error-indicator"},t.createElement("i",{className:"fas rmzfa rmzfa-exclamation-circle"})),this.props.chatIsLive&&!n&&t.createElement("div",{id:"live-indicator"},t.createElement("i",{className:"fas rmzfa rmzfa-circle"})))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.PromptOptions=r({displayName:"Reamaze.Conversations.PromptOptions",propTypes:{onPromptOptionClick:a.func.isRequired,promptOptions:a.arrayOf(a.string),serviceOptions:a.arrayOf(a.shape({text:a.string,data:a.object})),submitting:a.bool.isRequired,scrollContent:a.func.isRequired},getInitialState:function(){return{visible:!1,selectedPrompt:null}},componentDidMount:function(){this.setState({visible:!0}),this.props.scrollContent("b")},onPromptOptionClick:function(e,t){var n={body:t};this.setState({selectedPrompt:e.target.id}),this.props.onPromptOptionClick(n)},onServiceOptionClick:function(e,t){try{window.__Commerce.setupPromise.then((function(e){e.addItem({type:"service",data:t.data}),Reamaze.closePopup()})).catch((function(e){console.error("Error fetching cart:",e)}))}catch(e){if(!e.message.includes("undefined"))throw error;console.error("Could not find Commerce module",e)}this.onPromptOptionClick(e,t.text)},renderPromptOptions:function(){if(!this.props.promptOptions||!this.props.promptOptions.length)return!1;var e=[];return this.props.promptOptions.forEach(function(n,r){var a=this,o="prompt-option";o+=this.state.selectedPrompt=="prompt-option-"+r?" selected":"",e.push(t.createElement("li",{className:"prompt-option-li",key:"prompt-option-"+r},t.createElement("button",{id:"prompt-option-"+r,disabled:this.props.submitting,onClick:function(e){return a.onPromptOptionClick(e,n)},className:o},n)))}.bind(this)),e},renderServiceOptions:function(){if(!this.props.serviceOptions||!this.props.serviceOptions.length)return!1;var e=[];return this.props.serviceOptions.forEach(function(n,r){var a=this;e.push(t.createElement("li",{className:"prompt-option-li",key:"service-option-"+r},t.createElement("button",{disabled:this.props.submitting,onClick:function(e){return a.onServiceOptionClick(e,n)},className:"prompt-option"},n.text)))}.bind(this)),e},render:function(){if(!(this.props.promptOptions&&this.props.promptOptions.length||this.props.serviceOptions&&this.props.serviceOptions.length))return!1;var e="prompt-options-container";return e+=this.state.visible?"":" hidden",t.createElement("ul",{className:e},this.renderPromptOptions(),this.renderServiceOptions())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.RespondForm=r({displayName:"Reamaze.Conversations.RespondForm",propTypes:{id:a.any.isRequired,slug:a.string.isRequired,isChat:a.bool,dispatcher:a.object,scrollContentToBottom:a.func,currentUser:a.object,inView:a.bool,outbound:a.bool,outboundData:a.object,chatIsLive:a.bool,appContext:a.object.isRequired,onSubmit:a.func,submitting:a.bool},getDefaultProps:function(){return{}},contextTypes:{window:a.object},componentDidMount:function(){e(this.context.window).trigger("app:reinitjs")},componentDidUpdate:function(){e(this.context.window).trigger("app:reinitjs")},getMessageChannel:function(){var e=this.props.appContext.getPusher();return e?e.channel("presence-conversation-"+this.props.id):null},onInputFocus:function(){this.props.scrollContentToBottom()},typing:!1,onTypingStart:function(t){var n=this.getMessageChannel();if(n&&!(n.members.count<2)){this.typing=!0;var r=/(\d{4}[\s\-]?\d{4}[\s\-]?)([\s\-]?\d{4})?([\s\-]?\d{4})?/g,a={name:"Customer",status:"typing:start",staff:!1,url:window.location.href,text:"..."};this.props.appContext.brand.typingPreviewEnabled&&(a.text=e(t.target).val().replace(r,"(redacted)")),n.trigger("client-status",a)}},onTypingStop:function(){var e=this.getMessageChannel();!e||e.members.count<2||this.typing&&(this.typing=!1,e.trigger("client-status",{name:"Customer",status:"typing:stop",staff:!1}))},render:function(){return t.createElement("div",{id:"responder",style:{opacity:this.props.submitting?"0.4":1}},t.createElement(Reamaze.Conversations.NewMessage,{appContext:this.props.appContext,onSubmit:this.props.onSubmit,onFocus:this.onInputFocus,onTypingStart:this.onTypingStart,onTypingStop:this.onTypingStop,focus:!0,inView:this.props.inView,chatIsLive:this.props.chatIsLive}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.SatisfactionRating=r({displayName:"SatisfactionRating",mixins:[TimerMixin],getInitialState:function(){var t=this.props.satisfactionRating.rating;return this.sendRating=e.debounce(1e3,this._sendRating),{commentProcessing:!1,commentSaved:!1,rating:t,visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},_sendRating:function(t){e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/satisfaction_ratings/"+this.props.conversation.satisfactionRating.id,type:"PUT",data:{satisfaction_rating:{rating:t},sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:this.props.conversation.slug,props:{satisfactionRating:e}}}),this.setState({rating:e.rating})}.bind(this),crossDomain:!0})},updateRating:function(e){this.setState({rating:parseInt(e)}),this.sendRating(e)},updateComment:function(t){this.setState({commentProcessing:!0,commentSaved:!1},function(){e.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/satisfaction_ratings/"+this.props.conversation.satisfactionRating.id,type:"PUT",data:{satisfaction_rating:{comment:t},sparams:e.param({sso:this.props.currentUser.ssoData()})}}).always(function(){this.setState({commentProcessing:!1,commentSaved:!0})}.bind(this))}.bind(this))},getSmileySurvey:function(){var e=this,n={1:{on:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-82.857 -420.934)"},t.createElement("circle",{r:"217.143",cy:"638.076",cx:"300",fill:"#ffa683"}),t.createElement("path",{d:"M394.357 601.72c0 16.568-13.43 30-30 30-16.568 0-29.955-12.177-30-30l35.5-28c16.568.164 24.5 11.43 24.5 28zM199.857 600.72c0 16.568 13.432 30 30 30 16.57 0 29.956-12.177 30-30l-35.5-28c-16.567.164-24.5 11.43-24.5 28z",fill:"#352d2b"}),t.createElement("path",{d:"M358.204 730.534c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"}))),off:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-42.857 -206.648)"},t.createElement("circle",{cx:"260",cy:"423.791",r:"217.143",fill:"#d7d7d7"}),t.createElement("path",{d:"M354.357 387.434c0 16.568-13.43 30-30 30-16.568 0-29.955-12.176-30-30l35.5-28c16.568.165 24.5 11.43 24.5 28zM159.857 386.434c0 16.568 13.432 30 30 30 16.57 0 29.956-12.176 30-30l-35.5-28c-16.567.165-24.5 11.43-24.5 28z",fill:"#fff"}),t.createElement("path",{d:"M318.204 516.248c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"})))},2:{on:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-128.57 -298.077)"},t.createElement("circle",{cx:"345.714",cy:"515.219",r:"217.143",fill:"#ffc083"}),t.createElement("path",{d:"M302.07 478.862a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM440.07 478.862a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),t.createElement("path",{d:"M403.918 607.677c-35.382-27.914-88.223-27.713-122.388 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"}))),off:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-97.143 -200.934)"},t.createElement("circle",{r:"217.143",cy:"418.076",cx:"314.286",fill:"#d7d7d7"}),t.createElement("path",{d:"M270.643 381.72a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM408.643 381.72a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),t.createElement("path",{d:"M372.49 510.534c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"})))},3:{on:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-60 -192.362)"},t.createElement("circle",{cx:"277.143",cy:"409.505",r:"217.143",fill:"#ffe183"}),t.createElement("path",{d:"M233.5 373.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM371.5 373.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),t.createElement("path",{d:"M210.413 492.835h125.482",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"}))),off:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-125.714 -206.648)"},t.createElement("circle",{r:"217.143",cy:"423.791",cx:"342.857",fill:"#d7d7d7"}),t.createElement("path",{d:"M299.214 387.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM437.214 387.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),t.createElement("path",{d:"M276.128 507.12h125.48",fill:"#fff",fillRule:"evenodd",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"})))},4:{on:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-37.143 -212.362)"},t.createElement("circle",{r:"217.143",cy:"429.505",cx:"254.286",fill:"#ffe583"}),t.createElement("path",{d:"M210.643 393.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM348.643 393.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),t.createElement("path",{d:"M149.53 496.77c60 40.194 149.6 39.905 207.533 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"}))),off:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-162.857 -86.648)"},t.createElement("circle",{cx:"380",cy:"303.791",r:"217.143",fill:"#d7d7d7"}),t.createElement("path",{d:"M336.357 267.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM474.357 267.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),t.createElement("path",{d:"M275.245 371.056c59.998 40.194 149.598 39.904 207.532 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"})))},5:{on:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-14.286 -103.79)"},t.createElement("circle",{cx:"231.429",cy:"320.934",r:"217.143",fill:"#ffeb83"}),t.createElement("path",{d:"M187.786 284.577a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM325.786 284.577a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),t.createElement("path",{d:"M137.143 381.22h182s.532 68.682-90.968 68.682c-90.525 0-91.032-68.683-91.032-68.683z",fill:"#352d2b",fillRule:"evenodd",stroke:"#000"}))),off:t.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},t.createElement("g",{transform:"translate(-148.57 -149.505)"},t.createElement("circle",{r:"217.143",cy:"366.648",cx:"365.714",fill:"#d7d7d7"}),t.createElement("path",{d:"M322.07 330.29a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM460.07 330.29a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#faf8fa"}),t.createElement("path",{d:"M271.43 426.934h182s.53 68.682-90.97 68.682c-90.525 0-91.03-68.682-91.03-68.682z",fill:"#faf8fa",fillRule:"evenodd"})))}};return t.createElement("div",{style:{width:"100%",maxWidth:"400px",margin:"0.3em auto",position:"relative"}},t.createElement("div",{id:"ratings"},Object.keys(n).map((function(r){return t.createElement("div",{id:"rating-"+r,className:"rating "+(e.state.rating==""+r?"selected":"off")},t.createElement("div",{className:"svg-wrapper on"},n[r].on),t.createElement("div",{className:"svg-wrapper off",onClick:e.updateRating.bind(e,""+r)},n[r].off))}))))},getStarSurvey:function(){var e=this,n=[1,2,3,4,5];return t.createElement("div",{style:{width:"100%",maxWidth:"400px",margin:"0.3em auto",position:"relative"}},t.createElement("div",{id:"ratings"},n.map((function(n){return t.createElement("div",{id:"rating-"+n,className:"rating "+(e.state.rating>=""+n?"selected":"off")},t.createElement("div",{className:"svg-wrapper on",onClick:e.updateRating.bind(e,""+n)},t.createElement("svg",{viewBox:"0 0 650 650",mlns:"http://www.w3.org/2000/svg"},t.createElement("g",{transform:"translate(50, 40)"},t.createElement("path",{fill:"#fad001",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"})))),t.createElement("div",{className:"svg-wrapper off",onClick:e.updateRating.bind(e,""+n)},t.createElement("svg",{viewBox:"0 0 650 650",mlns:"http://www.w3.org/2000/svg"},t.createElement("g",{transform:"translate(50, 40)"},t.createElement("path",{fill:"#d7d7d7",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"})))))}))))},getDescriptiveSurvey:function(){var e=this,n={1:{light:"#FEA9A9",dark:"#EDA2A0",prompt:this.props.ratingOnePrompt},2:{light:"#FCC094",dark:"#E5AD85",prompt:this.props.ratingTwoPrompt},3:{light:"#F3EBA4",dark:"#EFE79F",prompt:this.props.ratingThreePrompt},4:{light:"#AFEF88",dark:"#A1E079",prompt:this.props.ratingFourPrompt},5:{light:"#6CDF85",dark:"#67D37F",prompt:this.props.ratingFivePrompt}};return t.createElement("div",{style:{width:"100%",maxWidth:"500px",margin:"0.3em auto",position:"relative",paddingBottom:"15px"}},t.createElement("div",{id:"descriptive-ratings"},Object.keys(n).map((function(r){return t.createElement("div",{id:"rating-"+r,className:"descriptive-rating "+(e.state.rating==""+r?"selected":"off")},t.createElement("div",{className:"descriptive-wrapper on"},t.createElement("button",{style:{backgroundImage:"linear-gradient(45deg, "+n[r].dark+", "+n[r].light+")",boxSizing:"border-box",border:"solid",borderWidth:"thin",borderColor:"white",borderRadius:"30px",height:"40px",width:"100%",display:"flex",alignItems:"center"}},t.createElement("div",{style:{width:"100%"}},n[r].prompt))),t.createElement("div",{className:"descriptive-wrapper off",onClick:e.updateRating.bind(e,""+r)},t.createElement("button",{style:{backgroundColor:"#D7D7D7",boxSizing:"border-box",border:"solid",borderWidth:"thin",borderColor:"white",borderRadius:"30px",height:"40px",width:"100%",display:"flex",alignItems:"center"}},t.createElement("div",{style:{width:"100%"}},n[r].prompt))))}))))},render:function(){return t.createElement("li",{className:"card fade "+(this.state.visible?"in":""),style:{margin:"1em"}},t.createElement("style",null,'\n            #ratings {\n              display: -ms-flexbox;\n              display: -ms-flex;\n              display: -moz-flex;\n              display: -webkit-flex;\n              display: flex;\n              flex-wrap: nowrap;\n            }\n            #ratings:after {\n              display: block;\n              content: "";\n              position: absolute;\n              background: #eaeaea;\n              top: 50%;\n              left: 10%;\n              right: 10%;\n              height: 3px;\n              margin-top: -4px;\n              z-index: 0;\n            }\n            #ratings .rating {\n              display: block;\n              width: 20%;\n              box-sizing: border-box;\n              padding: 5%;\n              vertical-align: middle;\n              transition: transform 0.4s;\n              position: relative;\n              z-index: 1;\n            }\n            #ratings .rating.selected {\n              transform: scale(1.3);\n            }\n            #ratings .rating .svg-wrapper {\n              width: 100%;\n              border-radius: 50%;\n              cursor: pointer;\n              height: 0;\n              padding-top: 100%;\n              position: relative;\n            }\n\n            #ratings .rating svg {\n              position: absolute;\n              left: 0;\n              top: 0;\n            }\n            #ratings .rating.off .off {\n              display: inline-block;\n            }\n            #ratings .rating.off .on {\n              display: none;\n            }\n            #ratings .rating.selected .off {\n              display: none;\n            }\n            #ratings .rating.selected .on {\n              display: inline-block;\n            }\n\n            #descriptive-ratings {\n              display: flex;\n              flex-direction: column-reverse;\n            }\n\n            #descriptive-ratings .descriptive-rating .descriptive-wrapper {\n              width: 100%;\n              cursor: pointer;\n              height: 50%;\n              position: relative;\n              top: 20%;\n              padding-top: 2px;\n              padding-bottom: 2px;\n              text-align: center;\n              font-size: 12px;\n            }\n\n            #descriptive-ratings .descriptive-rating.off .off {\n              display: inline-block;\n            }\n            #descriptive-ratings .descriptive-rating.off .on {\n              display: none;\n            }\n            #descriptive-ratings .descriptive-rating.selected .off {\n              display: none;\n            }\n            #descriptive-ratings .descriptive-rating.selected .on {\n              display: inline-block;\n            }\n          '),t.createElement("div",null,this.props.conversation.satisfactionRating&&this.state.rating&&t.createElement("div",null,t.createElement("i",{className:"rmzfa fas rmzfa-check",style:{display:"block",margin:"0.3em auto",fontSize:"18px",lineHeight:"40px",height:"40px",width:"40px",borderRadius:"50%",background:"#e9efef",color:"#9bb3b3",textAlign:"center"}}),t.createElement("h1",{style:{fontSize:"1.3em",textAlign:"center",marginBottom:"5px"}},this.props.appContext.brand.preferences.trans_survey_thanks_header),t.createElement("p",{style:{marginBottom:"20px",textAlign:"center",color:"#8b8d96"}},this.props.appContext.brand.preferences.trans_survey_thanks_message)),t.createElement("p",{style:{marginTop:"20px",textAlign:"center",color:"#8b8d96",fontSize:"90%"}},this.props.appContext.brand.preferences.trans_survey_ratings_prompt),this.props&&"smiley"===this.props.template&&this.getSmileySurvey(),"stars"===this.props.template&&this.getStarSurvey(),"descriptive"===this.props.template&&this.getDescriptiveSurvey(),this.state.rating&&t.createElement("form",{onSubmit:function(e){e.preventDefault(),this.updateComment(this.textarea.value)}.bind(this)},t.createElement("label",{htmlFor:"comment",style:{textAlign:"center",color:"#a0a4a6",display:"block",fontSize:"90%",marginBottom:"15px"}},this.props.appContext.brand.preferences.trans_survey_comment_prompt),t.createElement("textarea",{id:"comment",ref:function(e){this.textarea=e}.bind(this),onChange:function(){this.state.commentSaved&&this.setState({commentSaved:!1})}.bind(this),placeholder:this.props.appContext.brand.preferences.trans_survey_comment_placeholder,defaultValue:this.props.conversation.satisfactionRating.comment,style:{display:"block",width:"100%",height:"70px",boxSizing:"border-box",padding:"10px",border:"1px solid #e8e8e8",boxShadow:"none",marginBottom:"15px",resize:"none"}}),t.createElement("div",{style:{textAlign:"right"}},t.createElement("i",{className:"rmzfa fas rmzfa-check",style:{marginRight:"20px",color:"rgb(36, 213, 143)",fontSize:"20px",transition:"0.3s",opacity:this.state.commentSaved?"1.0":"0.0"}}),t.createElement("button",{className:"btn anim-btn anim-btn-shadow",disabled:this.state.commentProcessing||this.state.commentSaved},this.props.appContext.brand.preferences.trans_survey_comment_submit)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateAnchorAction=r({displayName:"Reamaze.Conversations.TemplateAnchorAction",propTypes:{action:a.object.isRequired,appContext:a.object.isRequired,currentUser:a.object.isRequired,message:a.object.isRequired},doAction:function(){var t=this.props,n=t.action,r=t.message,a=t.currentUser,o=t.appContext.baseDataUrl;if(n.uuid){var i={uuid:n.uuid,message_id:r.id,name:n.name,sparams:e.param({sso:a.ssoData()})};Reamaze.localStorage.setItem("messageTemplate.lastAction",JSON.stringify({name:n.name,timestamp:Date.now()})),"url"===n.type&&(i.action_type="click"),e.ajax({url:o+"/data/message_template_events",type:"POST",data:i})}},render:function(){var e=this.props,n=e.action,r=e.children,a="url"===n.type?n.url:"javascript:void(0)",o="url"===n.type?"_blank":null,i={color:"inherit",opacity:"1",display:"flex",alignItems:"center",height:"inherit"};return t.createElement(t.Fragment,null,n.url?t.createElement("a",{href:a,target:o,onClick:this.doAction,style:i},r):t.createElement("div",null,r))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateIcon=r({displayName:"Reamaze.Conversations.TemplateIcon",propTypes:{icon:a.string.isRequired,style:a.object,appContext:a.object.isRequired},getDefaultProps:function(){return{style:{}}},render:function(){var e=this.props,n=e.icon,r=e.style,a=(e.appContext.brand.styles,{book:"rmzfa fas rmzfa-book",truck:"rmzfa fas rmzfa-truck",external_link:"rmzfa fas rmzfa-external-link-alt"});return t.createElement("div",{className:"template-icon",style:r},t.createElement("i",{className:""+a[n]}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateImage=r({displayName:"Reamaze.Conversations.TemplateImage",propTypes:{image:a.string.isRequired,style:a.object},getDefaultProps:function(){return{style:{}}},render:function(){var e=this.props.style,n=e.height||"100px";return t.createElement("div",{className:"template-image",style:e},t.createElement("img",{src:this.props.image,style:{objectFit:"cover",height:n,width:"100%"}}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateList=r({displayName:"Reamaze.Conversations.TemplateList",propTypes:{componentData:a.object.isRequired,appContext:a.object.isRequired,currentUser:a.object.isRequired,message:a.object.isRequired},getFontColor:function(){var e=this.props.appContext.brand.styles.headerBgColor;return Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(e),Reamaze.Utils.parseColor("#fff"))<2?Reamaze.Styles.dark.widgetIconColor:e},renderList:function(){var e=this,n=this.props,r=n.appContext,a=n.currentUser,o=n.message,i=n.componentData.items,s="25%",p=this.getFontColor();return t.createElement(t.Fragment,null,i.map((function(n,l){var c="external_link"===n.icon,u={height:"100px"};return l!=i.length-1&&(u.borderBottom="1px solid "+r.brand.styles.bodyMutedFontColor),t.createElement("div",{key:"template-list-item-"+l,className:"template-list-item",style:u},t.createElement(Reamaze.Conversations.TemplateAnchorAction,{action:n.action,appContext:r,currentUser:a,message:o},n.image&&t.createElement(Reamaze.Conversations.TemplateImage,{image:n.image,style:{width:s,height:"100px",marginBottom:"-15px",marginTop:"-15px"}
}),n.icon&&(c&&n.action.url||!c)&&t.createElement(Reamaze.Conversations.TemplateIcon,{icon:n.icon,appContext:r,style:{width:s,textAlign:"center",fontSize:"30px",color:p}}),e.renderText(n,p)))})))},renderText:function(e,n){var r={width:"65%",margin:"0 10px"},a={fontSize:"16px",fontWeight:"bold",color:n,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingBottom:"5px"},o=e.price?65:80;return e.subtitle&&e.subtitle.length>o&&(e.subtitle=e.subtitle.slice(0,o).trim().concat("...")),t.createElement("div",{style:r},t.createElement(Reamaze.Conversations.TemplateText,{text:e.title,style:a}),e.price&&t.createElement(Reamaze.Conversations.TemplateText,{text:e.price,style:{paddingBottom:"5px",fontSize:"12px"}}),e.subtitle&&t.createElement(Reamaze.Conversations.TemplateText,{text:e.subtitle,style:{fontSize:"12px"}}))},render:function(){return t.createElement("div",{className:"template-list"},t.createElement("div",{className:"card-body full"},this.renderList()))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateMap=r({displayName:"Reamaze.Conversations.TemplateMap",propTypes:{componentData:a.object.isRequired},render:function(){return t.createElement("div",{className:"template-map"},t.createElement("iframe",{title:"Google Maps",width:"100%",height:"250px",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",src:"https://maps.google.com/maps?q="+this.props.componentData.lat+","+this.props.componentData.long+"&output=embed&z=14"}),t.createElement("div",{style:{padding:"5px 0 10px 0",textAlign:"center"}},t.createElement("a",{href:"https://maps.google.com/maps?q="+this.props.componentData.lat+","+this.props.componentData.long+"&z=14",target:"_blank"},"View map")))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateText=r({displayName:"Reamaze.Conversations.TemplateText",propTypes:{text:a.string.isRequired,style:a.object},getDefaultProps:function(){return{style:{}}},render:function(){return t.createElement("div",{style:this.props.style},this.props.text)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TypingMessage=r({displayName:"Reamaze.Conversations.TypingMessage",propTypes:{user:a.object.isRequired,appContext:a.object.isRequired,isFirstIndicator:a.bool},shouldComponentUpdate:function(e){return this.props.user.id!=e.user.id},render:function(){return t.createElement("li",{id:"typing-message-"+this.props.user.id,className:"message typing"+(this.props.user.displayAsStaff?"":" customer")},!this.props.isFirstIndicator&&t.createElement("div",{className:"message-user-image"},t.createElement("img",{src:this.props.user.avatarUrl,alt:this.props.user.display_name})),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap"},t.createElement("div",{className:"message-wrap2"},t.createElement("div",{className:"message-body"},t.createElement("div",{className:"typing-indicator-dots"},t.createElement("span",{className:"one"},"."),t.createElement("span",{className:"two"},"."),t.createElement("span",{className:"three"},"."))))),t.createElement("div",{className:"message-meta"},t.createElement("i",null,!this.props.isFirstIndicator&&this.props.appContext.brand.preferences.trans_chat_typing.replace(/\{\{\s*user\s*\}\}/g,this.props.user.display_name)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var p=s.get;if(void 0===p)return;return p.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,s=l=void 0}};!function(e,t){var n=function(e){function n(e){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.state={videoMuted:!1,audioMuted:!1,audioAvailable:!0,videoAvailable:!0,remoteStatus:{video:!1,audio:!1},facingMode:"user"}}return _inherits(n,e),_createClass(n,[{key:"componentWillUnmount",value:function(){this.stream&&(this.stream.getTracks().forEach((function(e){return e.stop()})),this.stream=void 0),this.peerConnection()&&(this.peerConnection().close(),this.peerConnection().oniceconnectionstatechange=void 0,this.peerConnection().ontrack=void 0),this.userVideoChannel&&(this.userVideoChannel.unsubscribe(),this.userVideoChannel.unbind("pusher:subscription_succeeded"),this.userVideoChannel=void 0),this.props.channel.unbind("client-conversation:video_call_ended"),this.props.channel.unbind("client-conversation:video_status_update"),window.removeEventListener("beforeunload",this.navigateAwayPrompt),window.removeEventListener("unload",this.endCall)}},{key:"peerConnection",value:function(){return this.props.peerConnection}},{key:"componentDidMount",value:function(){var e=this,t=this.props.appContext.getPusher(),n="presence-video-"+this.props.currentUser._data._id;this.userVideoChannel=t.subscribe(n),this.userVideoChannel.bind("pusher:subscription_succeeded",(function(t){1===!t.count?e.videoCallEnded():e.setupVideoCallConnection()}))}},{key:"setupVideoCallConnection",value:function(){var e=this;this.peerConnection().ontrack=function(t){var n=t.streams[0];e.remoteVideo.srcObject=n};var t=this.peerConnection().getReceivers(),n=new window.MediaStream;t.length>0&&(t.forEach((function(e){n.addTrack(e.track)})),this.remoteVideo.srcObject=n),this.peerConnection().onicecandidate=function(t){t.candidate&&e.props.channel.trigger("client-conversation:add_candidate",{candidate:t.candidate})},this.peerConnection().oniceconnectionstatechange=function(){"disconnected"===e.peerConnection().iceConnectionState&&e.endCall()},this.addStreams((function(){e.peerConnection().createAnswer().then((function(t){return e.peerConnection().setLocalDescription(t)})).then((function(){e.props.channel.trigger("client-conversation:video_call_answered",{answer:e.peerConnection().localDescription})})),e.updateRemoteUser()})),this.props.channel.bind("client-conversation:video_call_ended",this.videoCallEnded.bind(this)),this.props.channel.bind("client-conversation:video_status_update",this.removeVideoStatusUpdate.bind(this)),this.navigateAwayPrompt=this.navigateAwayPrompt.bind(this),this.endCall=this.endCall.bind(this),window.addEventListener("beforeunload",this.navigateAwayPrompt),window.addEventListener("unload",this.endCall)}},{key:"getUserStream",value:function(e){var t=this,n=this.state,r=n.audioAvailable,a=n.videoAvailable,o=n.facingMode;(r||a)&&window.navigator.mediaDevices.getUserMedia({audio:r,video:a&&{facingMode:o}}).then((function(n){t.localVideo.srcObject=n,t.stream=n;var r,a=t.peerConnection().getSenders().filter((function(e){return e.track}));a.length>0?(r=n.getVideoTracks()[0],a.find((function(e){return e.track.kind===r.kind})).replaceTrack(r)):t.stream.getTracks().forEach((function(e){t.peerConnection().addTrack(e,t.stream)})),e()})).catch((function(e){console.error(e)}))}},{key:"addStreams",value:function(e){var t=this;window.navigator.mediaDevices.enumerateDevices().then((function(n){var r=n.some((function(e){return"audioinput"===e.kind})),a=n.some((function(e){return"videoinput"===e.kind}));t.setState({audioAvailable:r,videoAvailable:a},(function(){return t.getUserStream(e)}))}))}},{key:"toggleAudioMute",value:function(){var e=this,t=this.state.audioMuted;this.stream&&(this.stream.getAudioTracks().forEach((function(e){e.enabled=t})),this.setState((function(e){return{audioMuted:!e.audioMuted}}),(function(){return e.updateRemoteUser()})))}},{key:"toggleVideoMute",value:function(){var e=this,t=this.state.videoMuted;this.stream&&(this.stream.getVideoTracks().forEach((function(e){e.enabled=t})),this.setState((function(e){return{videoMuted:!e.videoMuted}}),(function(){return e.updateRemoteUser()})))}},{key:"toggleVideoCameraDirection",value:function(){var e=this;this.state.facingMode;this.stream.getVideoTracks().forEach((function(e){return e.stop()})),this.setState((function(e){return"user"===e.facingMode?{facingMode:"environment"}:{facingMode:"user"}}),(function(){return e.getUserStream((function(){}))}))}},{key:"endCall",value:function(){this.props.channel.trigger("client-conversation:video_call_ended",{}),this.videoCallEnded()}},{key:"videoCallEnded",value:function(){this.props.onCallEnded()}},{key:"navigateAwayPrompt",value:function(){return"You're currently on a video call, are you sure you want to navigate away?"}},{key:"removeVideoStatusUpdate",value:function(e){this.setState({remoteStatus:e})}},{key:"updateRemoteUser",value:function(){this.props.channel.trigger("client-conversation:video_status_update",{video:!this.state.videoMuted,audio:!this.state.audioMuted})}},{key:"render",value:function(){var e=this,n="28px",r="30px";return t.createElement("div",{className:"video-call-container"},t.createElement("style",null,"\n            @supports ((-webkit-backdrop-filter: blur(15px)) or (backdrop-filter: blur(15px))) {\n              .video-call-container {\n                -webkit-backdrop-filter: blur(15px);\n                backdrop-filter: blur(15px);\n              }\n            }\n\n            .video-call-container {\n              background: rgba(45,45,45, 0.85);\n              position: fixed;\n              width: 100%;\n              height: 100%;\n              z-index: 99999999999;\n              top: 0;\n              left: 0;\n\n              display: flex;\n              justify-content: center;\n              align-items: center;\n            }\n\n            .remote-video {\n              width: 100%;\n            }\n\n            .remote-video-muted {\n              width: 240px;\n            }\n\n            .local-video {\n              max-width: 240px;\n              width: 35%;\n              border-radius: 8px;\n              position: fixed;\n              bottom: 10px;\n              right: 10px;\n            }\n\n            .video-action-controls {\n              position: fixed;\n              height: "+r+";\n              bottom: 10px;\n              width: 100%;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n            }\n\n            .video-action-button {\n              box-shadow: 0px 3px 8px 1px rgba(0, 0, 0, 0.06);\n              width: "+n+";\n              height: "+n+";\n              line-height: "+n+";\n              padding: 0;\n              background: rgba(125, 125, 125, 0.85);\n              border-radius: 50%;\n              border: 0;\n              color: white;\n              text-align: center;\n              display: inline-block;\n              margin: 0 8px;\n            }\n\n            .video-action-button i {\n              font-size: 12px;\n            }\n\n            .video-action-button-alt {\n              background: rgba(255, 101, 101, 80%);\n              color: white;\n              border-radius: 4px;\n              width: 32px;\n              height: 32px;\n              line-height: 32px;\n            }\n\n            .remote-video-muted {\n              width: 56px;\n              height: 56px;\n              border: 2px solid white;\n              border-radius: 56px;\n              display: inline-block;\n              text-indent: 100%;\n              white-space: nowrap;\n              overflow: hidden;\n              object-fit: cover;\n              box-shadow: 0px 5px 8px -2px rgba(0, 0, 0, 0.06);\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              position: absolute;\n            }\n          "),t.createElement("div",{className:"remote-video-wrap"},t.createElement("video",{ref:function(t){return e.remoteVideo=t},autoPlay:!0,className:"remote-video",style:{opacity:this.state.remoteStatus.video?"100%":"0%"},playsInline:!0,webkitPlaysInline:!0}),t.createElement("audio",{ref:function(t){return e.remoteAudio=t},autoPlay:!0,className:"remote-video",playsInline:!0,webkitPlaysInline:!0}),!this.state.remoteStatus.video&&t.createElement("img",{className:"remote-video-muted",src:this.props.remoteUser.avatar,alt:this.props.remoteUser.name}),!this.state.remoteStatus.audio&&t.createElement("div",{className:"video-action-button video-action-button-alt"},t.createElement("i",{className:"fas rmzfa rmzfa-microphone-alt-slash"})),!this.state.remoteStatus.video&&t.createElement("div",{className:"video-action-button video-action-button-alt"},t.createElement("i",{className:"fas rmzfa rmzfa-video-slash"}))),t.createElement("video",{ref:function(t){return e.localVideo=t},autoPlay:!0,muted:!0,className:"local-video",playsInline:!0,webkitPlaysInline:!0}),t.createElement("div",{className:"video-action-controls"},t.createElement("button",{onClick:this.toggleAudioMute.bind(this),className:"video-action-button"},t.createElement("i",{className:this.state.audioMuted?"fas rmzfa rmzfa-microphone-alt-slash":"fas rmzfa rmzfa-microphone-alt"})),t.createElement("button",{onClick:this.endCall.bind(this),className:"video-action-button video-action-button-alt"},t.createElement("i",{className:"fas rmzfa rmzfa-phone-slash"})),t.createElement("button",{onClick:this.toggleVideoMute.bind(this),className:"video-action-button"},t.createElement("i",{className:this.state.videoMuted?"fas rmzfa rmzfa-video-slash":"fas rmzfa rmzfa-video"})),this.props.appContext.isMobileBrowser&&t.createElement("button",{onClick:this.toggleVideoCameraDirection.bind(this),className:"video-action-button"},t.createElement("i",{className:"fas rmzfa rmzfa-sync"}))))}}]),n}(t.Component);Reamaze.Conversations.VideoCall=n}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.VideoCallMessage=r({displayName:"Reamaze.Conversations.VideoCallMessage",propTypes:{user:a.object.isRequired,onAnswerClick:a.func.isRequired,onDeclineClick:a.func.isRequired,appContext:a.object.isRequired},answerCall:function(){this.ringingAudio.pause(),this.props.onAnswerClick()},componentDidMount:function(){this.ringingAudio.play()},render:function(){var e=this;return t.createElement("li",{id:"answer-video-call",className:"message typing"},t.createElement("div",{className:"message-user-image"},t.createElement("img",{src:this.props.user.avatar,alt:this.props.user.name})),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap"},t.createElement("div",{className:"message-wrap2"},t.createElement("div",{className:"message-body","aria-live":"polite"},this.props.appContext.brand.preferences.trans_video_prompt_text))),t.createElement("div",null,t.createElement("button",{className:"btn btn-primary anim-btn",onClick:this.answerCall},this.props.appContext.brand.preferences.trans_video_answer_button_text),t.createElement("button",{className:"btn btn-link anim-btn",onClick:this.props.onDeclineClick},this.props.appContext.brand.preferences.trans_video_decline_button_text)),t.createElement("audio",{src:"/audio/video-call/client_ringing.mp3",ref:function(t){return e.ringingAudio=t},loop:!0,volume:.1,controls:!1})))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Hub"),Reamaze.Hub.ACTIONS={};var o=function(e,t){return t.type,null};Reamaze.Hub.App=r({displayName:"Reamaze.Hub.App",mixins:[TimerMixin],propTypes:{chatIsLive:a.bool,enableKb:a.bool,currentUser:a.object,active:a.bool,onAppMounted:a.func,contactHeader:a.string,conversations:a.object,conversationsFetched:a.bool,appContext:a.object.isRequired,label:a.any,category:a.string,videoCallInformation:a.object,brandData:a.object},contextTypes:{window:a.object},getDefaultProps:function(){return{}},getInitialState:function(){var t=new Reamaze.Dispatcher,n=function(t){var n=e.extend({},this.state);n.effects=[],(n=o(n,t))&&this.setState(n)}.bind(this);return t.register(n),this.props.appContext.dispatcher.register(n),{dispatcher:t,currentUser:this.props.currentUser,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive}},componentWillReceiveProps:function(e){var t={currentUser:e.currentUser,inView:e.active&&e.appContext.shoutbox.open,chatIsLive:e.chatIsLive};if(t.currentUser!=this.state.currentUser||t.inView!=this.state.inView||t.chatIsLive!=this.state.chatIsLive){if(!this.state.inView&&t.inView&&this.checkRedirectToConversationsNew())return;this.setState(t)}},componentDidMount:function(){this.props.onAppMounted(),this.state.inView&&this.setTimeout(this.updateLiveStatus,0),this.setInterval(this.updateLiveStatus,13e3),this.state.inView&&(this.checkRedirectToConversationsNew()||Reamaze.Analytics.track("Hub Shown"))},componentDidUpdate:function(e,t){this.state.inView&&!t.inView&&Reamaze.Analytics.track("Hub Shown")},checkRedirectToConversationsNew:function(){var e=this.props.conversations&&!!Object.keys(this.props.conversations).length,t=this.getHubApps(),n=this.props.enableKb&&this.props.appContext.brand.kb&&t.faq&&t.faq.enabled,r=Object.keys(t).some((function(e){return"faq"!=e&&!!t[e].enabled}));return!(e||n||r)&&(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{noback:!0}}}),!0)},updateLiveStatus:function(){this.props.appContext.brand.chatEnabled&&this.state.inView&&this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING_LIVE_STATUS})},goToStatus:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index",routeParams:{noback:!0}}})},getBanner:function(){var e=this.props.appContext.brand.allowIncidents&&this.props.appContext.brand.activeIncidents.length>0,n="1em";if("large"===this.props.appContext.shoutboxFontSize&&(n="1.1em"),!e)return null;var r=this.props.appContext.brand.activeIncidents.reduce((function(e,t,n){return 0===n?t.title:e+", "+t.title}),"");return t.createElement("div",{className:"alert alert-warning",style:{margin:"20px 20px 0 20px",paddingLeft:"19px",paddingRight:"14px",display:"flex",borderRadius:"10px",fontSize:n}},t.createElement("span",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:1}},r)," ",t.createElement("a",{href:"javascript:void(0)",style:{textAlign:"right"},onClick:this.goToStatus},this.props.appContext.brand.preferences.trans_status_view_status_button))},getSearchPlaceholder:function(){var e=this.props.appContext,t=e.brand,n=e.apps;return n.faq&&n.faq.placeholder?n.faq.placeholder:t.preferences.trans_hub_faq_placeholder},getHubApps:function(){var t=this.props.appContext,n=t.apps,r=t.brand,a=r.brandIsGoDaddy,o=r.brandIsEcommerceConnected,i=r.hubApps;return e.isEmptyObject(n)&&a&&o?i:n},getContent:function(){var n=this,r=[],a=this.getHubApps(),o=this.props.appContext.appOrder,i="1em";"large"===this.props.appContext.shoutboxFontSize&&(i="1.1em");var s=this.props.conversations&&!!Object.keys(this.props.conversations).length;return o.forEach((function(o){"faq"==o&&n.props.enableKb&&n.props.appContext.brand.kb&&a.faq&&a.faq.enabled&&r.push(t.createElement(Reamaze.Shared.Card,{id:"search-kb-card",key:"search-kb-card",appContext:n.props.appContext,loading:!1},t.createElement("style",null,"\n            #search-kb-card .rmzfa-search {\n              position: absolute;\n              top: 3px;\n              right: 0px;\n              color: #777;\n            }\n          "),t.createElement("div",{className:"card-header",style:{fontSize:i}},a.faq&&a.faq.header?a.faq.header:n.props.appContext.brand.preferences.trans_hub_faq_header),t.createElement("div",{className:"card-body"},t.createElement("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.target).find("input.search").val();return Reamaze.Analytics.track("Hub:FAQ Search",n),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index",routeParams:{path:"/?q="+encodeURIComponent(n)}}}),!1}.bind(n)},t.createElement("input",{type:"text",className:"search",style:{fontSize:i,paddingRight:"32px"},placeholder:n.getSearchPlaceholder()}),t.createElement("input",{type:"submit",style:{display:"none"},tabIndex:"-1"}),t.createElement("button",{className:"btn btn-link fas rmzfa rmzfa-search","aria-label":n.getSearchPlaceholder(),style:{fontSize:i}}))))),"orders"==o&&a.orders&&a.orders.enabled&&n.props.appContext.brand.brandIsEcommerceConnected&&r.push(t.createElement(Reamaze.Hub.Orders.App,{key:"orders-card",appContext:n.props.appContext,currentUser:n.props.currentUser})),"shopper"==o&&a.shopper&&a.shopper.enabled&&n.props.appContext.brand.brandIsEcommerceConnected&&r.push(t.createElement(Reamaze.Hub.Shopper.App,{key:"shopper-card",appContext:n.props.appContext,currentUser:n.props.currentUser})),"recentConversations"==o&&s&&r.push(t.createElement(Reamaze.Shared.Card,{id:"conversation-list-card",key:"conversation-list-card",appContext:n.props.appContext,loading:!n.props.conversationsFetched},t.createElement("div",{className:"card-header",style:{fontSize:i}},a.recentConversations&&a.recentConversations.header?a.recentConversations.header:n.props.appContext.brand.preferences.trans_hub_conversations_header),t.createElement("div",{className:"card-body full"},t.createElement("div",{style:{marginTop:"-5px",fontSize:i}},t.createElement(Reamaze.Conversations.ConversationList,{conversations:n.props.conversations,conversationsFetched:n.props.conversationsFetched,onMount:function(){},appContext:n.props.appContext})))))})),r},render:function(){var e=this.props,n=e.active,r=e.appContext,a=e.brandData,o=e.chatIsLive,i=e.contactHeader,s=e.conversations,p=e.enableKb;return n?t.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},t.createElement(Reamaze.Shared.Header,{allowHtmlHeader:!0,appContext:r,chatIsLive:this.state.chatIsLive,enableKb:p,header:i}),t.createElement(Reamaze.Disclaimer,{brandData:a}),t.createElement("div",{id:"content",ref:"content",className:!1===r.brand.attribution?"":"attributed"},this.getBanner(),t.createElement("div",{id:"content-inner",style:{padding:"20px 0 10px 0"}},this.getContent()),t.createElement(Reamaze.Attribution,{appContext:r,link:!1,style:{textAlign:"center",paddingTop:"5px",paddingBottom:"5px"}})),t.createElement(Reamaze.Conversations.NewConversationFooter,{appContext:r,buttonMode:!0,chatIsLive:o,conversations:s,inView:n&&r.shoutbox.open,ref:"footer"})):null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.App=r({mixins:[TimerMixin],propTypes:{appContext:a.object.isRequired},contextTypes:{window:a.object},getDefaultProps:function(){return{}},getInitialState:function(){return{ordersFetched:!1,orders:[],order:null,route:"index"}},componentDidMount:function(){this.setTimeout(this.fetchOrders.bind(this,3),0)},fetchOrders:function(t){this.props.currentUser.isSSOUser()?e.ajax({url:this.props.appContext.baseDataUrl+"/data/orders",type:"GET",data:{limit:t,sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.setState({ordersFetched:!0,orders:e.orders||[]})}.bind(this),crossDomain:!0}):this.setState({orders:[],ordersFetched:!0})},showAllOrders:function(){Reamaze.Analytics.track("Hub:Orders View All"),this.setState({route:"allOrders",ordersFetched:!1},this.fetchOrders.bind(this,100))},findOrder:function(t,n){return Reamaze.Analytics.track("Hub:Orders Search"),e.ajax({url:this.props.appContext.baseDataUrl+"/data/orders",type:"GET",data:e.extend({},t,{sparams:e.param({sso:this.props.currentUser.ssoData()})}),success:function(e){e.orders[0]?this.setState({order:e.orders[0],route:"search"}):n()}.bind(this),error:n,crossDomain:!0}),!1},goToIndex:function(){this.setState({route:"index"})},getContent:function(){var e=this.props.appContext.apps,n=this.props.appContext.brand.preferences;return"index"==this.state.route||"allOrders"==this.state.route?this.state.orders.length>0?t.createElement(Reamaze.Hub.Orders.OrderList,{appContext:this.props.appContext,orders:"allOrders"==this.state.route?this.state.orders:this.state.orders.slice(0,2),currentUser:this.props.currentUser}):t.createElement("div",{style:{padding:"0 20px"}},e.orders.no_orders||n.trans_hub_orders_none_orders):"search"==this.state.route?this.state.order?t.createElement(Reamaze.Hub.Orders.OrderList,{appContext:this.props.appContext,orders:[this.state.order],currentUser:this.props.currentUser}):t.createElement(Reamaze.Hub.Orders.FindOrder,{appContext:this.props.appContext,findOrder:this.findOrder,backButton:this.goToIndex}):void 0},getFooter:function(){var e=this.props.appContext.apps,n=this.props.appContext.brand.preferences,r="1em";return"large"===this.props.appContext.shoutboxFontSize&&(r="1.1em"),"index"==this.state.route||"allOrders"==this.state.route?t.createElement("div",{className:"card-footer",style:{fontSize:r}},"index"==this.state.route&&this.state.orders.length>2&&t.createElement("button",{className:"btn btn-primary anim-btn anim-btn-shadow",style:{marginRight:"0.8em"},onClick:function(){this.showAllOrders()}.bind(this)},e.orders.order_history_button_text||n.trans_hub_orders_order_history_button_text),t.createElement("button",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:function(){this.setState({route:"search",order:null})}.bind(this)},e.orders.find_order_button_text||n.trans_hub_orders_find_order_button_text),"allOrders"==this.state.route&&t.createElement("button",{className:"btn btn-link",onClick:this.goToIndex,style:{marginLeft:"10px"}},n.trans_popup_back)):"search"==this.state.route&&this.state.order?t.createElement("div",{className:"card-footer",style:{fontSize:r}},t.createElement("button",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:function(){this.setState({route:"search",order:null})}.bind(this)},e.orders.find_order_button_text||n.trans_hub_orders_find_order_button_text),t.createElement("button",{className:"btn btn-link",onClick:this.goToIndex,style:{marginLeft:"10px"}},n.trans_popup_back)):void 0},render:function(){var e=this.props.appContext.apps,n=this.props.appContext.brand.preferences,r="1em";return"large"===this.props.appContext.shoutboxFontSize&&(r="1.1em"),t.createElement(Reamaze.Shared.Card,{id:"orders-card",appContext:this.props.appContext,loading:!this.state.ordersFetched},t.createElement("style",null,"\n        #orders-card input {\n          background: #fff;\n          padding: 0 10px;\n          width: 100%;\n          opacity: 0.6;\n          transition: opacity 250ms linear;\n        }\n        #orders-card input:focus {\n          opacity: 1;\n        }\n      "),t.createElement("div",{className:"card-header",style:{fontSize:r}},e.orders.header||n.trans_hub_orders_header),t.createElement("div",{className:"card-body full",style:{fontSize:r}},this.getContent()),this.getFooter())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.FindOrder=r({displayName:"Reamaze.Hub.Orders.FindOrder",mixins:[TimerMixin],getInitialState:function(){return{loading:!1,visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},render:function(){var r=this.props.appContext.apps,a=this.props.appContext.brand.preferences,o=(this.props.appContext.brand.styles,"1em");return"large"===this.props.appContext.shoutboxFontSize&&(o="1.1em"),t.createElement("form",{ref:"form",onSubmit:function(t){return t.preventDefault(),t.stopPropagation(),e(n.findDOMNode(this.refs.form)).find(":focus").blur(),this.setState({loading:!0}),this.props.findOrder({orderEmail:this.refs.orderEmail.value,orderNumber:this.refs.orderNumber.value},function(){this.setState({error:!0,loading:!1})}.bind(this)),!1}.bind(this),disabled:this.state.loading,className:"rmz-fade "+(this.state.visible?"in":"")},t.createElement("div",{style:{opacity:this.state.loading?"0.6":1,padding:"0 20px"}},t.createElement("div",null,t.createElement("input",{type:"text",name:"orderNumber",style:{fontSize:o},ref:"orderNumber",placeholder:r.orders.order_number_placeholder||a.trans_hub_orders_order_number_placeholder,required:!0})," ",t.createElement("br",null),t.createElement("input",{type:"text",name:"email",style:{fontSize:o},ref:"orderEmail",placeholder:r.orders.order_email_placeholder||a.trans_hub_orders_order_email_placeholder,required:!0})),t.createElement("div",null,t.createElement("input",{type:"submit",style:{display:"none",fontSize:o},tabIndex:"-1"}),t.createElement("button",{className:"btn btn-primary anim-btn anim-btn-shadow",style:{paddingTop:"8px"},disabled:this.state.loading,label:"Search for order"},t.createElement("i",{className:"fas rmzfa rmzfa-search"})),this.props.backButton&&t.createElement("button",{className:"btn btn-link",onClick:this.props.backButton,style:{marginLeft:"10px"}},a.trans_popup_back),this.state.error&&t.createElement("span",{style:{marginLeft:"1em",color:"#ea4d4a",fontSize:o}},t.createElement("i",{className:"rmzfa fas rmzfa-exclamation-circle"})," ",r.orders.find_order_error||a.trans_hub_orders_find_order_error))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.OrderList=r({displayName:"Reamaze.Hub.Orders.OrderList",mixins:[TimerMixin],propTypes:{orders:a.array,appContext:a.object},getDefaultProps:function(){return{orders:[]}},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.onFetched()},componentWillReceiveProps:function(){},onFetched:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},render:function(){var e=this.props.appContext.brand.styles;return t.createElement("div",null,t.createElement("style",null,"\n          #order-list {\n            margin-top: -5px;\n          }\n          #order-list li {\n            border-left: 1px solid transparent;\n            transition: all 0.25s linear;\n            padding: 12px 20px;\n          }\n          #order-list li.clickable:hover {\n            cursor: pointer;\n            border-left: 1px solid "+e.headerBgColor+";\n          }\n          #order-list li:not(.clickable) a:hover {\n            opacity: 1;\n            cursor: default;\n          }\n          #order-list li > a {\n            display: -ms-flexbox;\n            display: -ms-flex;\n            display: -moz-flex;\n            display: -webkit-flex;\n            display: flex;\n            flex-wrap: nowrap;\n            -ms-flex-wrap: nowrap;\n            -ms-flex-pack: justify;\n            justify-content: space-between;\n            color: #333;\n          }\n          #order-list li .right {\n            text-align: right;\n          }\n          #order-list li .meta {\n            opacity: 0.7;\n          }\n          #order-list .shipments, #order-list .note {\n            margin-top: 3px;\n          }\n          #order-list .note .rmzfa {\n            margin-right: 5px;\n            opacity: 0.7;\n            float: left;\n            margin-top: 1px;\n          }\n          #order-list .shipments .shipment {\n            margin-left: 15px;\n            margin-top: 3px;\n          }\n        "),t.createElement("ul",{id:"order-list",className:"rmz-fade "+(this.state.visible?"in":"")},this.props.orders.map(function(e){return t.createElement(Reamaze.Hub.Orders.OrderListItem,{key:e.id,order:e,appContext:this.props.appContext,currentUser:this.props.currentUser})}.bind(this))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.OrderListItem=r({displayName:"Reamaze.Hub.Orders.OrderListItem",getInitialState:function(){return{fetching:!1,shipments:null}},componentDidMount:function(){"shopify"==this.props.order.provider&&this.props.order.fulfillments&&this.setState({shipments:this.props.order.fulfillments})},fetchShipments:function(){this.setState({fetching:!0},function(){e.ajax({url:this.props.appContext.baseDataUrl+"/data/orders/"+this.props.order.id+"/shipments",type:"GET",data:{sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.setState({fetching:!1,shipments:e.shipments||[]})}.bind(this),error:function(){this.setState({fetching:!1})},crossDomain:!0})}.bind(this))},renderShipments:function(){
var e=this.props.appContext.apps.orders.shipments||this.props.appContext.brand.preferences.trans_hub_orders_shipments,n=this.props.appContext.apps.orders.no_tracking_number||this.props.appContext.brand.preferences.trans_hub_orders_none_tracking_number;return t.createElement("div",{className:"shipments"},t.createElement("div",null,e),this.state.shipments.map(function(e,r){return t.createElement("div",{key:r,className:"shipment"},e.urls&&e.urls.length>0?e.urls.map((function(n,r){return t.createElement("a",{style:{display:"block"},href:n,target:"_blank"},e.provider," ",e.tracking_numbers[r]||n)})):t.createElement("a",{href:e.url?e.url:"javascript:;",target:"_blank",onClick:function(t){e.url||(t.preventDefault(),t.stopPropagation())}},e.provider," ",e.tracking_number||n))}.bind(this)))},render:function(){var e=this.props.appContext.apps,n=this.props.appContext.brand.preferences,r=this.props.appContext.brand.styles,a=Reamaze.Utils.pSBC(.95,r.headerBgColor)||"#fafafa",o=r.widgetColor;return t.createElement("li",{className:this.props.order.url||"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments?"clickable":""},t.createElement("a",{href:this.props.order.url?this.props.order.url:"javascript:;",target:this.props.order.url?"_blank":"_self",onClick:function(e){this.props.order.url||(e.preventDefault(),e.stopPropagation()),Reamaze.Analytics.track("Hub:Orders Order Clicked"),"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments&&this.fetchShipments()}.bind(this)},t.createElement("div",null,t.createElement("div",{style:{color:o}},e.orders.order_name_prefix||n.trans_hub_orders_order_name_prefix," ",this.props.order.name,this.props.order.url&&t.createElement(t.Fragment,null," ",t.createElement("i",{className:"rmzfa fas rmzfa-external-link-alt",style:{margin:0,fontSize:"13px",position:"relative",bottom:"1px"}}))),t.createElement("div",{className:"meta",style:{textDecoration:"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments?"underline":"none"}},e.orders["fulfillment_"+this.props.order.status]||n["trans_hub_orders_fulfillment_"+this.props.order.status]||this.props.order.status||""," ","bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments&&t.createElement("span",null,"\xbb"))),t.createElement("div",{className:"right"},t.createElement("div",{className:"meta"},new Date(this.props.order.date).toLocaleDateString()),t.createElement("div",null,this.props.order.total))),e.orders.enable_notes&&this.props.order.note&&t.createElement("div",{className:"note"},t.createElement("i",{className:"rmzfa far rmzfa-sticky-note"}),t.createElement("div",{dangerouslySetInnerHTML:{__html:Reamaze.Utils.simpleFormat(this.props.order.note)}})),this.state.fetching&&t.createElement("div",null,t.createElement(Reamaze.Spinner,{xColor:r.widgetColor,bgColor:a,style:{margin:"1em auto",width:"30px",transform:"scale(0.8)"}})),this.state.shipments&&this.state.shipments.length>0&&this.renderShipments())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Hub.Shopper"),Reamaze.Hub.Shopper.App=r({propTypes:{appContext:a.object.isRequired,currentUser:a.object.isRequired},contextTypes:{window:a.object},handleSubmit:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.target).find("input.search-shopper").val();if(!n)return!1;var r={message:{body:n}};this.props.currentUser&&(r.sparams=e.param({sso:this.props.currentUser.ssoData()}));var a=Math.floor(Date.now()/1e3),o=Reamaze.ec("0"+a);return r._zt=o,r._zt2=a,r._url=window.location.href,r._browser=Reamaze.Utils.massageUserAgent(window.navigator),r.chat=!0,this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_CONVERSATION,payload:{slug:"*tmp-"+o,data:r}}),!1},render:function(){var e="1em",n=this.props.appContext.apps,r=this.props.appContext.brand.preferences;"large"===this.props.appContext.shoutboxFontSize&&(e="1.1em");var a=n.shopper&&n.shopper.header?n.shopper.header:r.trans_hub_shopper_header,o=n.shopper&&n.shopper.placeholder?n.shopper.placeholder:r.trans_hub_shopper_placeholder,i=n.shopper&&n.shopper.placeholder?n.shopper.placeholder:r.trans_hub_shopper_placeholder;return t.createElement(Reamaze.Shared.Card,{id:"shopper-card",appContext:this.props.appContext,loading:!1},t.createElement("style",null,"\n            #shopper-card .rmzfa-search {\n            position: absolute;\n            top: 3px;\n            right: 0px;\n            color: #777;\n            }\n            "),t.createElement("div",{className:"card-header",style:{fontSize:e}},a),t.createElement("div",{className:"card-body"},t.createElement("form",{onSubmit:this.handleSubmit},t.createElement("input",{type:"text",className:"search-shopper",style:{fontSize:e,paddingRight:"32px"},placeholder:""+o}),t.createElement("input",{type:"submit",style:{display:"none"},tabIndex:"-1"}),t.createElement("button",{className:"btn btn-link fas rmzfa rmzfa-search","aria-label":""+i,style:{fontSize:e}}))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.KB"),Reamaze.KB.App=r({propTypes:{enableKb:a.bool,currentUser:a.object,active:a.bool,popupOptions:a.object,onAppMounted:a.func,conversations:a.object,appContext:a.object.isRequired,chatIsLive:a.bool,videoCallInformation:a.object},contextTypes:{window:a.object},getDefaultProps:function(){return{}},getInitialState:function(){return{kbLoaded:!1}},componentWillReceiveProps:function(t){this.props.active&&!t.active&&e(this.context.window).focus()},componentDidMount:function(){this.props.onAppMounted(),this.props.active&&this.props.appContext.shoutbox.open&&Reamaze.Analytics.track("KB Shown")},componentDidUpdate:function(e){!this.props.active||!this.props.appContext.shoutbox.open||e.active&&e.appContext.shoutbox.open||Reamaze.Analytics.track("KB Shown")},onContactUsClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{}}})},onHomeClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},onViewConversationHistoryClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},getHeader:function(){return t.createElement("div",{id:"nav-c-header"},t.createElement("a",{href:"javascript:;",role:"presentation",onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index",routeParams:{path:"/?rl="+Date.now()}}})}.bind(this)},this.props.appContext.brand.preferences.trans_kb_header))},getPath:function(){return this.props.appContext.routeParams&&this.props.appContext.routeParams.path?this.props.appContext.routeParams.path:"/"},getContent:function(){var n,r=e.param({sso:this.props.currentUser.ssoData(),popup:1}),a=this.getPath();n=(a=a+(a.indexOf("?")>0?"&":"?")+r).match(/^http/)?a:this.props.appContext.baseUrl+a,this.props.appContext.routeParams&&this.props.appContext.routeParams.anchor&&(n+=this.props.appContext.routeParams.anchor),n+="&fontSize="+this.props.appContext.shoutboxFontSize;var o={width:"100%",height:"100%",overflowY:"hidden"},i={position:"relative"};return t.createElement("div",{style:o},!this.state.kbLoaded&&t.createElement(Reamaze.Popup.Spinner,{xColor:this.props.appContext.brand.styles.widgetColor}),t.createElement("iframe",{title:"FAQ",style:i,src:n,width:"100%",height:"100%",scrolling:"no",frameBorder:"0",allowtransparency:"true",allowFullScreen:"true",name:"_popup",onLoad:function(){this.setState({kbLoaded:!0})}.bind(this)}))},onNewMessageSubmit:function(t){if(!this.props.appContext._preview){var n=t.customer_body;delete t.customer_body,data={message:t,customer_body:n},this.props.currentUser&&(data.sparams=e.param({sso:this.props.currentUser.ssoData()}));var r=Math.floor(Date.now()/1e3),a=Reamaze.ec("0"+r);return data._zt=a,data._zt2=r,data._url=window.location.href,data._browser=Reamaze.Utils.massageUserAgent(window.navigator),data.chat=this.props.chatIsLive,this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_CONVERSATION,payload:{slug:"*tmp-"+a,data:data}}),!1}},render:function(){if(!this.props.active)return null;var e={};return!1!==this.props.appContext.brand.attribution&&(e={boxShadow:"none",border:"none",paddingTop:"8px"}),t.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},t.createElement(Reamaze.KB.Css,null),t.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"10px",paddingRight:"10px",position:"relative",zIndex:"1"}},t.createElement("div",{style:{display:"table",width:"100%"}},t.createElement("div",{style:{display:"table-row"}},t.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons"},t.createElement("div",null,function(){if(this.props.conversations&&Object.keys(this.props.conversations).length>0){var e=0;for(var n in this.props.conversations)this.props.conversations[n].unread&&e++;return t.createElement("a",{href:"javascript:;",className:"anim-btn",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onViewConversationHistoryClicked,title:this.props.appContext.brand.preferences.trans_contact_us_past_conversations,"aria-label":this.props.appContext.brand.preferences.trans_contact_us_past_conversations},t.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),e>0&&t.createElement("span",{style:{verticalAlign:"middle",marginLeft:"4px",fontSize:"13px"}},e))}return t.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onHomeClicked,"aria-label":this.props.appContext.brand.preferences.trans_navigation_home},t.createElement("i",{className:"fas rmzfa rmzfa-bars",style:{fontSize:"17px",verticalAlign:"middle"}}))}.bind(this)())),t.createElement("div",{className:"nav-c",style:{width:"100%",fontSize:"1.1em"}},this.getHeader()),t.createElement("div",{className:"nav-c-r"})))),t.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed",style:{height:"100%",position:"relative",paddingBottom:!1===this.props.appContext.brand.attribution?"0":"26px"}},this.getContent(),t.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",padding:"8px 10px 0px 6px",position:"absolute",width:"100%",bottom:"0px",boxShadow:"0 5px 25px 0 rgba(0,0,0,0.05)",borderTop:"1px solid rgba(0,0,0,0.05)"}})),t.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,onSubmit:this.onNewMessageSubmit,buttonMode:!0,style:e,showConversationsCount:!0,conversationsCount:Object.keys(this.props.conversations).length,onConversationsCountClick:this.onViewConversationHistoryClicked,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n){e.namespace("Reamaze.KB"),Reamaze.KB.Css=n({shouldComponentUpdate:function(){return!1},render:function(){return t.createElement("style",null,"\n        #header .nav-c {\n          display: table-cell;\n          vertical-align: top;\n          text-align: center;\n        }\n        #header #nav-c-header a:hover {\n          text-decoration: underline;\n        }\n        #header .nav-c-l, #header .nav-c-r {\n          width: 35px;\n        }\n        .rmz-fade {\n          transition: opacity 150ms ease-in;\n          opacity: 0.01\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Live"),Reamaze.Live.App=r({displayName:"Reamaze.Live.App",mixins:[TimerMixin],propTypes:{currentUser:a.object,appContext:a.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){var e=function(e){e.type==Reamaze.ACTIONS.USER_TRANSITION&&this.onUserTransition(e.payload.fromAnonymousId)}.bind(this);return this.props.appContext.dispatcher.register(e),{liveId:null}},shouldComponentUpdate:function(){return!1},componentDidMount:function(){this.checkInterval=this.setInterval(this.checkSocked,100)},componentWillUnmount:function(){this.socked&&this.socked.disconnect()},checkSocked:function(){window.Socked&&this.checkInterval&&(this.clearInterval(this.checkInterval),this.checkInterval=null,this.initSocked())},onUserTransition:function(e){this.socked&&this.socked.disconnect(),this.socked&&this.socked.connect(),this.state.channel&&this.state.channel.once("internal:subscription_success",function(){this.state.channel.trigger("private-user-transitioned",{fromAnonymousId:e})}.bind(this))},initSocked:function(){if(this.canLoadLive()){this.socked=new Socked(this.props.appContext.brand.url,{host:"ws.reamaze.com",authUrl:this.props.appContext.baseDataUrl+"/data/socked/auth",auth:{params:{sparams:function(){return e.param({sso:this.props.currentUser.ssoData()})}.bind(this),meta:function(){return JSON.stringify({url:window.location.href})}},callback:function(e){e.userId&&e.id&&e.id!=e.anonymous_id&&(this.props.currentUser.set("_id",e.userId),this.props.currentUser.set("name",e.name)),this.setState({liveId:e.id}),this.props.currentUser.setAnonymousId(e.anonymous_id),e.email&&this.props.currentUser.set("email",e.email)}.bind(this)},autoConnect:!1,reconnectionAttempts:3,reconnectionDelay:1e4,randomizationFactor:.8}),this.socked.on("connected",function(){try{if(!this.state.channel){var e=this.socked.subscribe("live"),t=function(){var t,n=window.location.href.replace(window.location.search,"");try{t=JSON.parse(Reamaze.localStorage.getItem("rmz-live-url"))}catch(e){}var r=(new Date).getTime();(!t||t.url!=n||r>=t.ts+12e4)&&(e.event("pageview",{url:n}),Reamaze.localStorage.setItem("rmz-live-url",JSON.stringify({url:n,ts:r})))};e.subscribed?t():e.once("internal:subscription_success",function(){t(),this.onGetCart()}.bind(this)),e.on("private-cue",this.onCue),e.on("private-get-cart",this.onGetCart.bind(this,!0)),e.on("private-portal",this.startMirroring),this.setState({channel:e})}}catch(e){console.log(e)}}.bind(this));try{this.socked.connect()}catch(e){console.log(e)}}},onCue:function(e){Reamaze.cue(e.data.cue)},onGetCart:function(t){window.Shopify&&window.Shopify.shop?e.ajax({url:"/cart.json",dataType:"json",accepts:"application/json",success:function(e){this.state.channel.trigger("private-cart-resp",{cart:e})}.bind(this),error:function(e,t,n){this.state.channel.trigger("private-cart-resp",{error:"Unable to fetch cart",errorString:n})}.bind(this)}):t&&this.state.channel.trigger("private-cart-resp",{error:"Page is not a Shopify store."})},canLoadLive:function(){return!this.props.appContext.brand||!1!==this.props.appContext.brand.allowLiveView},startMirroring:function(){if(this.props.appContext.brand&&!1===this.props.appContext.brand.allowPeek||!this.state.liveId)return!1;this.portal||(this.portal=new PortalClient(this.socked,"presence-portal-"+(this.state.liveId||this.props.currentUser.getAnonymousId()),this.getPortalId())),this.portal.start()},stopMirroring:function(){this.portal&&this.portal.end()},getPortalId:function(){var e;return(e=Reamaze.sessionStorage.getItem("portalId"))||(e=Math.floor(4294967296*(1+Math.random())).toString(16).substring(1),Reamaze.sessionStorage.setItem("portalId",e)),e},render:function(){return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.namespace("Reamaze.Mixins"),Reamaze.Mixins.Styles={getResetCss:function(){return' /* reset */\n        html {\n          box-sizing: border-box;\n        }\n        *, *:before, *:after {\n          box-sizing: inherit;\n        }\n        html, body, .frame-root, .frame-root > div, .frame-content, .frame-content {\n          height: 100%;\n          width: 100%;\n        }\n        input.disabled, textarea.disabled {\n          background: #eee;\n        }\n        html, body, div, span, applet, object, iframe,\n        h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n        a, abbr, acronym, address, big, cite, code,\n        del, dfn, em, img, ins, kbd, q, s, samp,\n        small, strike, strong, sub, sup, tt, var,\n        b, u, i, center,\n        dl, dt, dd, ol, ul, li,\n        fieldset, form, label, legend,\n        table, caption, tbody, tfoot, thead, tr, th, td,\n        article, aside, canvas, details, embed,\n        figure, figcaption, footer, header, hgroup,\n        menu, nav, output, ruby, section, summary,\n        time, mark, audio, video {\n        \tmargin: 0;\n        \tpadding: 0;\n        \tborder: 0;\n        \tfont-size: 100%;\n        \tfont: inherit;\n        \tvertical-align: baseline;\n        }\n        /* HTML5 display-role reset for older browsers */\n        article, aside, details, figcaption, figure,\n        footer, header, hgroup, menu, nav, section {\n        \tdisplay: block;\n        }\n        body {\n        \tline-height: 1;\n        }\n        ol, ul {\n        \tlist-style: none;\n        }\n        blockquote, q {\n        \tquotes: none;\n        }\n        blockquote:before, blockquote:after,\n        q:before, q:after {\n        \tcontent: \'\';\n        \tcontent: none;\n        }\n        table {\n        \tborder-collapse: collapse;\n        \tborder-spacing: 0;\n        }\n        a {\n          text-decoration: none;\n        }\n\n\n        /* custom reset css */\n        input, button, select, textarea {\n          font-family: "Nunito",Helvetica,Arial,sans-serif;\n          font-size: 14px;\n        }\n        input:focus, button:focus {\n          outline: none;\n        }\n        body {\n          line-height: 1.35;\n          font-size: 14px;\n          -webkit-text-size-adjust: 100%;\n        }\n        a:hover, body button:hover {\n          opacity: 0.8;\n        }\n        body .anim-btn {\n          transition: all 0.2s linear;\n          -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n        }\n        body .anim-btn-shadow:hover, body .anim-btn-shadow:focus {\n          box-shadow: 0px 10px 20px 0px rgba(0,0,0,0.07);\n        }\n        body .anim-btn:hover, body .anim-btn:focus {\n          transform: translate3d(0,-3px,0);\n        }\n        b, strong, h1, h2, h3, h4, h5, h6 {\n          font-weight: bold;\n        }\n        i, em {\n          font-style: italic;\n        }\n        a {\n          word-wrap: break-word;\n        }\n        blockquote {\n          padding: 0px 0 0 10px;\n          margin: 0 0 15px;\n          border-left: 2px solid #ddd;\n        }\n        h1 {\n          font-size: 2em;\n          margin: .5em 0;\n        }\n        h2 {\n          font-size: 1.5em;\n          margin: .67em 0;\n        }\n        h3 {\n          font-size: 1.17em;\n          margin: .75em 0;\n        }\n        h4 {\n          margin: .83em 0;\n        }\n        h5 {\n          font-size: 0.83em;\n          margin: 1.12em 0;\n        }\n        h6 {\n          font-size: 0.75em;\n          margin: 1.5em 0;\n        }\n\n        .btn {\n          display: inline-block;\n          padding: 6px 25px;\n          margin-bottom: 0;\n          line-height: 20px;\n          text-align: center;\n          vertical-align: middle;\n          cursor: pointer;\n          margin: 0px;\n          border-radius: 20px;\n        }\n        .btn.disabled, body .btn[disabled] {\n          opacity: 0.65;\n          filter: alpha(opacity=65);\n          -webkit-box-shadow: none;\n          -moz-box-shadow: none;\n          box-shadow: none;\n          background-image: none;\n          cursor: default;\n        }\n        .btn.btn-link {\n          border: none;\n          background: none;\n          text-decoration: underline;\n          padding: 5px 13px;\n        }\n        select,\n        textarea,\n        input[type="text"],\n        input[type="password"],\n        input[type="datetime"],\n        input[type="datetime-local"],\n        input[type="date"],\n        input[type="month"],\n        input[type="time"],\n        input[type="week"],\n        input[type="number"],\n        input[type="email"],\n        input[type="url"],\n        input[type="search"],\n        input[type="tel"],\n        input[type="color"],\n        .uneditable-input {\n          display: inline-block;\n          height: 37px;\n          padding: 10px 6px 4px;\n          margin-bottom: 10px;\n          font-size: 14px;\n          line-height: 20px;\n          vertical-align: middle;\n          outline: none;\n        }\n        input[placeholder].placeholder, textarea[placeholder].placeholder {\n          color: #aaa;\n        }\n      '},getBrandCss:function(e){var t=e.headerBgColor,n=e.buttonBgColor;return e.gradient&&(t="linear-gradient(135deg, "+t+" 0%, "+(Reamaze.Utils.pSBC(.3,t)||t)+" 100%)",n="linear-gradient(135deg, "+n+" 0%, "+(Reamaze.Utils.pSBC(.3,n)||n)+" 100%)"),"body #header {\n        background: "+t+";\n        color: "+e.headerFontColor+";\n        font-size: 1.2em;\n      }\n\n      body #header a,\n      body #header a:visited,\n      body #header a:hover {\n        color: "+e.headerFontColor+";\n      }\n\n      body a,\n      body a:visited,\n      body a:hover {\n        color: "+e.bodyLinkColor+";\n      }\n      body {\n        font-family: "+Reamaze.Styles.default.bodyFont+";\n      }\n      body .btn,\n      body a.btn,\n      body a.btn:visited,\n      body a.btn:hover {\n        background: "+n+";\n        border: none;\n        color: "+e.buttonFontColor+";\n        border-radius: "+e.buttonBorderRadius+";\n      }\n      body .btn.btn-link {\n        color: "+e.bodyLinkColor+";\n        text-decoration: none;\n      }\n      body .btn.btn-link:hover {\n        background: none;\n        color: "+e.bodyLinkColor+';\n        text-decoration: underline;\n      }\n      body select,\n      body textarea,\n      body input[type="text"],\n      body input[type="password"],\n      body input[type="datetime"],\n      body input[type="datetime-local"],\n      body input[type="date"],\n      body input[type="month"],\n      body input[type="time"],\n      body input[type="week"],\n      body input[type="number"],\n      body input[type="email"],\n      body input[type="url"],\n      body input[type="search"],\n      body input[type="tel"],\n      body input[type="color"],\n      body .uneditable-input,\n      body .faux-input,\n      body label.checkbox {\n        background: '+e.inputBgColor+";\n        border: none;\n        border-bottom: "+e.inputBorder+";\n        color: "+e.inputFontColor+";\n      }\n      body select {\n        -webkit-appearance: none;\n        -webkit-border-radius: 0px;\n        background: url(\"data:image/svg+xml;utf8,<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='24' height='24' viewBox='0 0 24 24'><path fill='#444' d='M7.406 7.828l4.594 4.594 4.594-4.594 1.406 1.406-6 6-6-6z'></path></svg>\");\n        background-position: 100% 50%;\n        background-repeat: no-repeat;\n      }\n      body #body-container textarea {\n        border: "+e.inputBorder+";\n      }\n      "}},function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Notifications");var DATA_KEY="notifications_st",notificationIdx=0;$jq(document).on("Reamaze.init",(function(){notificationIdx=Reamaze.sessionStorage.getItem("notificationIdx")||0}));var Statuses={CLOSED:0,CLICKED:1,VIEWED:2,EXPIRED:3},NotificationStatuses=function(){this._notificationStatuses={},this._justViewed={};try{var e=JSON.parse(Reamaze.localStorage.getItem(DATA_KEY));this._notificationStatuses=e||{}}catch(e){}return this};NotificationStatuses.prototype.isClicked=function(e){return this._notificationStatuses[e.id]==Statuses.CLICKED},NotificationStatuses.prototype.markClicked=function(e){this._notificationStatuses[e.id]=Statuses.CLICKED,this.cache()},NotificationStatuses.prototype.isViewed=function(e){return this._notificationStatuses[e.id]==Statuses.VIEWED},NotificationStatuses.prototype.isJustViewed=function(e){return!!this._justViewed[e.id]},NotificationStatuses.prototype.markViewed=function(e){this._notificationStatuses[e.id]=this._notificationStatuses[e.id]||Statuses.VIEWED,this._justViewed[e.id]=1,this.cache()},NotificationStatuses.prototype.isClosed=function(e){return this._notificationStatuses[e.id]==Statuses.CLOSED},NotificationStatuses.prototype.markClosed=function(e){e.forEach(function(e){this._notificationStatuses[e]=Statuses.CLOSED}.bind(this)),this.cache()},NotificationStatuses.prototype.isExpired=function(e){return this._notificationStatuses[e.id]==Statuses.EXPIRED},NotificationStatuses.prototype.markExpired=function(e){e.forEach(function(e){this._notificationStatuses[e]=Statuses.EXPIRED}.bind(this)),this.cache()},NotificationStatuses.prototype.renew=function(e){delete this._notificationStatuses[e.id],this.cache()},NotificationStatuses.prototype.cache=function(){Reamaze.localStorage.setItem(DATA_KEY,JSON.stringify(this._notificationStatuses))},Reamaze.Notifications.ACTIONS={CLOSE_NOTIFICATION:"CLOSE_NOTIFICATION",CLICK_NOTIFICATION:"CLICK_NOTIFICATION",VIEW_NOTIFICATION:"VIEW_NOTIFICATION",CREATE_NOTIFICATIONS:"CREATE_NOTIFICATIONS",REMOVE_NOTIFICATIONS:"REMOVE_NOTIFICATIONS",CLOSE_ALL_NOTIFICATIONS:"CLOSE_ALL_NOTIFICATIONS",UPDATE_DIMENSIONS:"UPDATE_DIMENSIONS",ACKNOWLEDGE_NOTIFICATION:"ACKNOWLEDGE_NOTIFICATION"},Reamaze.Notifications.EFFECTS={CALLBACK:"CALLBACK",TRACK_EVENT:"TRACK_EVENT"};var appStateReducer=function(state,action){switch(action.type){case Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION:return state.notificationStatuses.markClosed([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),action.payload.onClose&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClose}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Closed",label:action.payload.name||action.payload.id}}),state;case Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION:return action.payload.closeNotification&&(state.notificationStatuses.markClosed([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses)),action.payload.onClose&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClose}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Button Clicked",label:action.payload.name||action.payload.id}}),state;case Reamaze.Notifications.ACTIONS.CLOSE_ALL_NOTIFICATIONS:return state.notificationStatuses.markClosed(state.notifications.map((function(e){return e.id}))),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.VIEW_NOTIFICATION:return state.notificationStatuses.markViewed(action.payload),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Shown",label:action.payload.name||action.payload.id,nonInteraction:!0}}),state;case Reamaze.Notifications.ACTIONS.CLICK_NOTIFICATION:return action.payload.disableCueClick?null:(state.notificationStatuses.markClicked(action.payload),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),action.payload.onClick&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClick}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Clicked",label:action.payload.name||action.payload.id}}),state);case Reamaze.Notifications.ACTIONS.EXPIRE_NOTIFICATION:return state.notificationStatuses.markExpired([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS:return action.payload.forEach((function(notification){notification.id||(notification.id="_rmz-"+notificationIdx++%20,notification.renew=!0,Reamaze.sessionStorage.setItem("notificationIdx",notificationIdx)),notification.timestamp||(notification.timestamp=Date.now()),notification.onClick||(notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.disableCueClick||(notification.onClick=function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{}})}.bind(this)))})),state.notifications=notificationsReducer([].concat(state.notifications),action.payload,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS:var newNotifications=[],notificationIds=action.payload;return state.notifications.forEach((function(e){-1===notificationIds.indexOf(e.id)&&newNotifications.push(e)})),state.notifications=newNotifications,state;case Reamaze.Notifications.ACTIONS.UPDATE_DIMENSIONS:return state.dimensions.width==action.payload.width&&state.dimensions.height==action.payload.height?null:(state.dimensions=action.payload,state);case Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED:return!action.payload.props.unread&&action.payload.props.outboundData&&(state.notificationStatuses.markClicked({id:action.payload.props.outboundData.id}),state.notifications=notificationsReducer([].concat(state.notifications),[],state.notificationStatuses)),state;default:return null}},appEffectsHandler=function(e){switch(e.type){case Reamaze.Notifications.EFFECTS.CALLBACK:"function"==typeof e.payload&&e.payload();break;case Reamaze.Notifications.EFFECTS.TRACK_EVENT:Reamaze.Analytics.track(e.payload.action,e.payload.label,e.payload.value,!!e.payload.nonInteraction)}},notificationsReducer=function(e,t,n){var r={};return e.concat(t).forEach((function(e){e.renew&&(n.renew(e),delete r[e.id],delete e.renew),void 0===e.sound&&(e.sound=!0),e.timestamp||(e.timestamp=Date.now());var t=r[e.id],a=n.isClosed(e),o=n.isExpired(e),i=n.isClicked(e),s=n.isViewed(e)&&!n.isJustViewed(e);t||a||i||o||e.transient&&s||(r[e.id]=e)})),Object.keys(r).map((function(e){return r[e]}))};Reamaze.Notifications.App=createReactClass({displayName:"Reamaze.Notifications.App",propTypes:{anchor:PropTypes.object,playSound:PropTypes.func,updateNotificationCount:PropTypes.func,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object,videoCallInformation:PropTypes.object},getDefaultProps:function(){return{anchor:{bottom:22,right:22}}},getInitialState:function(){var e=new Reamaze.Dispatcher,t=function(e){var t=$jq.extend({},this.state);t.effects=[],(t=appStateReducer(t,e))&&(this.setState(t),t.effects.forEach(appEffectsHandler.bind(this)))}.bind(this);return e.register(t),this.props.appContext.dispatcher.register(t),{dispatcher:e,notifications:[],notificationStatuses:new NotificationStatuses,dimensions:{width:0,height:0}}},componentDidUpdate:function(e,t){t.notifications.length!=this.state.notifications.length&&this.props.updateNotificationCount(this.state.notifications.length)},componentDidMount:function(){this.props.updateNotificationCount(this.state.notifications.length)},getNotificationsToDisplay:function(){if(0==this.state.notifications.length)return[];var e=this.state.notifications;return e=(e=e.sort((function(e,t){return e.timestamp==t.timestamp?0:e.timestamp<t.timestamp?1:-1}))).slice(0,this.props.appContext.fullScreen?1:3),this.props.anchor.bottom&&(e=e.reverse()),e||[]},getNotificationPrompts:function(){return this.getNotificationsToDisplay().map(function(e){return e.videoCall?React.createElement(Reamaze.Notifications.VideoCallPrompt,{key:"notification-"+e.id,appContext:this.props.appContext,closeFunc:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION,payload:e})}.bind(this,e),user:e.user,size:e.size}):React.createElement(Reamaze.Notifications.Prompt,{anchor:this.props.anchor,playSound:e.sound?this.props.playSound:null,closeFunc:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION,payload:e})}.bind(this,e),buttonFunc:function(e,t,n){this.props.appContext._preview||this.props.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION,payload:$jq.extend({buttonClicked:t,closeNotification:n},e)})}.bind(this,e),id:e.id,outboundConversations:this.props.outboundConversations,message:e.message,buttons:e.buttons,user:e.user,
size:e.size,onClick:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLICK_NOTIFICATION,payload:e})}.bind(this,e),onNotificationViewed:function(e){this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.VIEW_NOTIFICATION,payload:e})}.bind(this,e),onNotificationExpired:function(e){this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.EXPIRE_NOTIFICATION,payload:e})}.bind(this,e),duration:e.duration||null,key:"notification-"+e.id,persisted:e.persisted||null,appContext:this.props.appContext})}.bind(this))},getOffset:function(e){if(e)return parseInt(e,10)},render:function(){if(this.props.appContext.shoutbox.open||!this.props.appContext.brand||!this.props.appContext.brand.name)return null;var e=this.getOffset(this.props.anchor.left),t=this.getOffset(this.props.anchor.right),n=this.getOffset(this.props.anchor.top),r=this.getOffset(this.props.anchor.bottom);this.props.appContext.fullScreen&&(e=0,t=0,n=null!=this.props.anchor.top?0:void 0,r=null!=this.props.anchor.bottom?0:void 0);var a=this.getNotificationPrompts();return a.length?"/shopify_checkout_extension"==window.location.pathname?null:React.createElement("div",{id:"rmz-notify-prompts"},React.createElement("style",null,"\n          #rmz-notifications {\n            position: fixed;\n            z-index: 2147483647;\n            left: "+(null!=e?e+"px":"auto")+";\n            right: "+(null!=t?t+"px":"auto")+";\n            top: "+(null!=n?n+"px":"auto")+";\n            bottom: "+(null!=r?r+"px":"auto")+";\n            "+(this.props.appContext.fullScreen?"":"margin-right: -20px;")+"\n            width: "+(this.props.appContext.fullScreen?"100%":this.state.dimensions.width+"px")+";\n            height: "+this.state.dimensions.height+"px;\n          }\n          "),React.createElement("div",{id:"rmz-notifications"},React.createElement(Reamaze.Frames.BasicFrame,{appContext:this.props.appContext},React.createElement("style",null,"\n              .reamaze-notify-prompt {\n                background: #fff;\n                margin: 15px 0;\n                position: relative;\n                border-radius: 15px 0;\n                box-shadow: 0 4px 13px 0px rgba(0,0,0,0.15);\n                border-bottom: 1px solid "+this.props.appContext.brand.styles.widgetColor+";\n              }\n            "),React.createElement(Reamaze.Notifications.NotificationsList,{dispatcher:this.state.dispatcher,notifications:a,hAlign:null!=this.props.anchor.left?"left":"right",vAlign:null!=this.props.anchor.top?"top":"bottom",appContext:this.props.appContext})))):null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){var o=ReactTransitionGroup.CSSTransitionGroup;e.namespace("Reamaze.Notifications"),Reamaze.Notifications.NotificationsList=r({displayName:"Reamaze.Notifications.NotificationsList",mixins:[TimerMixin],propTypes:{notifications:a.array,dispatcher:a.object,hAlign:a.string,vAlign:a.string,appContext:a.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{renderNotifications:!1}},componentDidUpdate:function(){this.updateDimensions(),this.setTimeout(function(){this.updateDimensions()}.bind(this),400)},componentDidMount:function(){this.setTimeout(function(){this.setState({renderNotifications:!0})}.bind(this),500)},cachedWidth:0,cachedHeight:0,updateDimensions:function(){var e=n.findDOMNode(this.refs.notifications).offsetWidth,t=n.findDOMNode(this.refs.notifications).offsetHeight;this.cachedHeight==t&&this.cachedWidth==e||(this.cachedWidth=e,this.cachedHeight=t,this.props.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.UPDATE_DIMENSIONS,payload:{width:e+80,height:t+40}}))},getStyleTag:function(){return t.createElement("style",null,"\n        .reamaze-notify-prompt.rmz-prompt-enter,\n        .reamaze-notify-prompt.rmz-prompt-appear {\n          opacity: 0;\n        }\n        .reamaze-notify-prompt.rmz-prompt-enter-active,\n        .reamaze-notify-prompt.rmz-prompt-appear-active,\n        .reamaze-notify-prompt {\n          transition: opacity 0.4s linear;\n          opacity: 1;\n        }\n        .reamaze-notify-prompt.rmz-prompt-leave {\n          opacity: 1;\n          transition: opacity 0.4s linear;\n        }\n        .reamaze-notify-prompt.rmz-prompt-leave-active {\n          opacity: 0;\n        }\n      ")},render:function(){var e={position:"absolute",padding:"0 20px 0 50px"};"left"==this.props.hAlign?e.left=0:e.right=0,"top"==this.props.vAlign?e.top=0:e.bottom=0;var n=this.state.renderNotifications?this.props.notifications:[];return t.createElement("div",{style:e},this.getStyleTag(),t.createElement("div",{id:"notifications",ref:"notifications"},t.createElement(o,{transitionName:"rmz-prompt",transitionAppearTimeout:400,transitionEnterTimeout:400,transitionLeaveTimeout:400},n)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};(function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Notifications"),Reamaze.Notifications.PROMPT_SIZES={preview:{width:300,truncateAt:150,avatarSize:40,mobileAvatarSize:32},small:{width:260,truncateAt:150,avatarSize:40,mobileAvatarSize:32},full:{width:300,truncateAt:300,avatarSize:40,mobileAvatarSize:32}},Reamaze.Notifications.Prompt=createReactClass({displayName:"Reamaze.Notifications.Prompt",mixins:[TimerMixin],propTypes:{closeFunc:PropTypes.func,buttonFunc:PropTypes.func,id:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),message:PropTypes.string,user:PropTypes.object,playSound:PropTypes.func,onClick:PropTypes.func,buttons:PropTypes.array,onNotificationViewed:PropTypes.func,onNotificationExpired:PropTypes.func,duration:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),size:PropTypes.oneOf(["preview","full","small"]),persisted:PropTypes.bool,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object.isRequired},getDefaultProps:function(){return{size:"full",persisted:!1}},componentDidMount:function(){this.props.playSound&&this.props.playSound(),this.setTimeout(this.props.onNotificationViewed,1),this.props.duration&&this.props.duration>0&&this.setTimeout(this.props.onNotificationExpired,1e3*this.props.duration+400)},render:function(){var e=this.props,t=e.persisted,n=e.appContext,r=e.size,a=e.closeFunc,o={top:"8px",right:"5px",padding:"7px",size:12},i=Reamaze.Notifications.PROMPT_SIZES[r].width;return React.createElement("div",{className:"reamaze-notify-prompt "+(t?"persisted":""),style:{width:n.fullScreen?"100%":i+"px"}},n.fullScreen&&React.createElement("style",null,"\n              .reamaze-notify-prompt .reamaze-minimize-v span {\n                position: relative;\n                display: block;\n                top: 50%;\n                margin-top: -12px;\n              }\n            "),React.createElement(Reamaze.Popup.CloseX,_extends({ref:"popupCloseX",onClick:a,appContext:n},o)),React.createElement("div",{style:{height:"100%"}},React.createElement(Reamaze.Notifications.PromptContent,this.props)))}}),Reamaze.Notifications.PromptContent=createReactClass({displayName:"Reamaze.Notifications.PromptContent",propTypes:{id:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),width:PropTypes.number,closeFunc:PropTypes.func,buttonFunc:PropTypes.func,message:PropTypes.string,user:PropTypes.object,onClick:PropTypes.func,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object.isRequired},getAvatars:function(e){if(e&&e.length){e=e.slice(0,3);var t=Reamaze.Notifications.PROMPT_SIZES[this.props.size],n=this.props.appContext.fullScreen?t.mobileAvatarSize:t.avatarSize;return e.map(function(e,t){return React.createElement("img",{src:e,key:"avatar-"+t,className:"rmz-prompt-avatar-"+t,style:{width:n+"px",height:n+"px",borderRadius:n+"px"}})}.bind(this))}return null},getButtons:function(){if(!this.props.buttons||!this.props.buttons.length)return null;var idx=0;return React.createElement("div",{style:{marginTop:"1.2em",textAlign:"center"}},this.props.buttons.map(function(button){var tmp=document.createElement("div");tmp.innerHTML=button.text;var buttonText=tmp.textContent||tmp.innerText||"",buttonProps={title:buttonText};return button.url&&(buttonProps.href=button.url,button.target?buttonProps.target=button.target:buttonProps.target="_blank"),button.script?buttonProps.onClick=function(event){event.stopPropagation(),this.props.buttonFunc(button,!0),eval(button.script)}.bind(this):button.url?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!1)}.bind(this):button.response?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0),this.props.appContext._preview||(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.props.outboundConversations.getConversation(this.props.id).slug}}}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_MESSAGE,payload:{data:{message:{body:buttonText}},slug:this.props.outboundConversations.getConversation(this.props.id).slug}}))}.bind(this):button.dismiss?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0)}.bind(this):button.pushprompt&&(buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0),Reamaze.promptPushPermissions().then((function(){var e=new Event("ReamazePushDataInit");window.dispatchEvent(e)}))}.bind(this)),React.createElement("a",_extends({className:"btn anim-btn",key:"btn-"+idx++,dangerouslySetInnerHTML:{__html:buttonText}},buttonProps))}.bind(this)))},render:function(){var e=this.props.message||"",t=Reamaze.Notifications.PROMPT_SIZES[this.props.size].truncateAt,n=Reamaze.Utils.getUserDisplayDetails(this.props.user,this.props.appContext.brand,this.props.appContext.faces),r="15px 20px",a=$jq("<textarea/>").html(e).text(),o=a.substr(0,t)+(a.length>t?String.fromCharCode(8230):""),i=$jq("<textarea/>").text(o).html(),s=Reamaze.Utils.simpleFormat(i);return React.createElement("div",{style:{width:"100%",height:"100%"}},React.createElement("style",null,"\n            .rmz-prompt-content:hover {\n              opacity: 0.8;\n            }\n            .rmz-prompt-content p {\n              margin-bottom: 0.5em;\n            }\n            .rmz-prompt-content p:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-content .btn {\n              margin-bottom: 10px;\n              width: 100%;\n            }\n            .rmz-prompt-content .btn:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-avatars img {\n              left: -"+(this.props.appContext.fullScreen?"40":"48")+"px;\n              box-shadow: rgba(0, 0, 0, 0.1) 0px 3px 5px 1px;\n              background: #fff;\n              padding: 1px;\n              position: absolute;\n            }\n            .rmz-prompt-avatar-0 {\n              bottom: 0;\n              z-index: 3;\n            }\n            .rmz-prompt-avatar-1 {\n              bottom: 20px;\n              z-index: 2;\n            }\n            .rmz-prompt-avatar-2 {\n              bottom: 40px;\n              z-index: 1;\n            }\n            .rmz-prompt-user-name {\n              margin-bottom: 0.4em;\n              padding-right: 10px;\n              font-weight: bold;\n              font-size: 1.05em;\n            }\n          "),React.createElement("div",{className:"rmz-prompt-content",onClick:this.props.onClick,style:{width:"100%",height:"100%",cursor:"pointer"}},React.createElement("div",{style:{position:"relative"}},React.createElement("div",{style:{padding:r,overflow:"hidden"}},React.createElement("div",{ref:"promptBody"},n&&n.name&&React.createElement("div",{className:"rmz-prompt-user-name"},React.createElement("span",null,n.name)),React.createElement("div",{dangerouslySetInnerHTML:{__html:s},style:{opacity:"0.8",lineHeight:"1.4em",overflow:"hidden",wordWrap:"break-word",fontSize:"1.1em"}}),this.getButtons())),n&&n.avatarUrls&&n.avatarUrls.length&&n.avatarUrls.length>0&&React.createElement("div",{className:"rmz-prompt-avatars"},this.getAvatars(n.avatarUrls)))))}})})(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var p=s.get;if(void 0===p)return;return p.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0,s=l=void 0}};!function(e,t,n,r,a){var o=function(e){function n(){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this)}return _inherits(n,e),_createClass(n,[{key:"onAnswerClick",value:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_ANSWERED,payload:{openPopup:!0}})}},{key:"onDeclineClick",value:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_DECLINED,payload:{}}),this.props.closeFunc()}},{key:"render",value:function(){var e=this.props,n=e.appContext,r=e.size,a=e.persisted,o=e.onClick,i=e.closeFunc,s=e.user,p=Reamaze.Notifications.PROMPT_SIZES[r],l=n.fullScreen?p.mobileAvatarSize:p.avatarSize,c={top:"8px",right:"5px",padding:"7px",size:12},u=p.width,d="15px 20px";return t.createElement("div",{className:"reamaze-notify-prompt "+(a?"persisted":""),style:{width:n.fullScreen?"100%":u+"px"}},n.fullScreen&&t.createElement("style",null,"\n                .reamaze-notify-prompt .reamaze-close-x span {\n                  position: relative;\n                  display: block;\n                  top: 50%;\n                  margin-top: -12px;\n                }\n              "),t.createElement("style",{type:"text/css"},"\n            .rmz-prompt-content:hover {\n              opacity: 0.8;\n            }\n            .rmz-prompt-content p {\n              margin-bottom: 0.5em;\n            }\n            .rmz-prompt-content p:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-buttons {\n              margin-top: 12px;\n            }\n            .rmz-prompt-avatars img {\n              left: -"+(n.fullScreen?"40":"48")+"px;\n              box-shadow: rgba(0, 0, 0, 0.1) 0px 3px 5px 1px;\n              background: #fff;\n              padding: 1px;\n              position: absolute;\n            }\n            .rmz-prompt-avatar-0 {\n              bottom: 0;\n              z-index: 3;\n            }\n          "),t.createElement(Reamaze.Popup.CloseX,_extends({ref:"popupCloseX",onClick:i},c,{appContext:n})),t.createElement("div",{style:{height:"100%"}},t.createElement("div",{className:"rmz-prompt-content",onClick:o,style:{width:"100%",height:"100%",cursor:"pointer"}},t.createElement("div",{style:{position:"relative"}},t.createElement("div",{style:{padding:d,overflow:"hidden"}},t.createElement("div",{ref:"promptBody"},s&&s.name&&t.createElement("div",{className:"rmz-prompt-user-name"},t.createElement("span",null,s.name)),t.createElement("div",{style:{opacity:"0.65",lineHeight:"1.4em",overflow:"hidden",wordWrap:"break-word"}},n.brand.preferences.trans_video_prompt_text),t.createElement("div",{className:"rmz-prompt-buttons"},t.createElement("button",{className:"btn btn-primary anim-btn",onClick:this.onAnswerClick.bind(this)},n.brand.preferences.trans_video_answer_button_text),t.createElement("button",{className:"btn btn-link anim-btn",onClick:this.onDeclineClick.bind(this)},n.brand.preferences.trans_video_decline_button_text)))),s&&s.avatarUrls&&s.avatarUrls.length&&t.createElement("div",{className:"rmz-prompt-avatars"},t.createElement("img",{src:s.avatarUrls[0],className:"rmz-prompt-avatar-0",style:{width:l+"px",height:l+"px",borderRadius:l+"px"}}))))))}}]),n}(t.Component);o.propTypes={closeFunc:a.func,id:a.string,user:a.object,onClick:a.func,size:a.oneOf(["preview","full","small"]),persisted:a.bool,appContext:a.object.isRequired},Reamaze.Notifications.VideoCallPrompt=o}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a,o){e.namespace("Reamaze.Outbounds");var i="ob";Reamaze.Outbounds.ACTIONS={CREATE_OUTBOUND_CONVERSATION:"CREATE_OUTBOUND_CONVERSATION",DELETE_OUTBOUND_CONVERSATION:"DELETE_OUTBOUND_CONVERSATION"},Reamaze.Outbounds.App=r({displayName:"Reamaze.Outbounds.App",mixins:[TimerMixin],propTypes:{currentUser:a.object,outbounds:a.array,appContext:a.object.isRequired},getDefaultProps:function(){return{outbounds:[]}},getInitialState:function(){var e;try{e=JSON.parse(Reamaze.localStorage.getItem(i+".triggered"))||{}}catch(t){e={}}var t=Reamaze.sessionStorage.getItem("siteVisitTime");t||(t=(new Date).getTime(),Reamaze.sessionStorage.setItem("siteVisitTime",t));var n=Reamaze.sessionStorage.getItem("customerLocation"),r=void 0;return null!==n&&(r={country:(n=n.split(":"))[0],state:n[1]}),{triggered:e,pageVisitTime:(new Date).getTime(),leavingSite:!1,siteVisitTime:t,loadingLocation:!1,location:r}},componentDidUpdate:function(){this.setupRulesListeners(),this.processOutbounds()},componentDidMount:function(){this.setupRulesListeners(),this.setTimeout(this.processOutbounds,0),this.setInterval(this.processOutbounds,6e4)},componentWillUnmount:function(){this.pageExitTracker&&this.pageExitTracker.disable()},pageExitTracker:null,updateInterval:null,setupRulesListeners:function(){var e=!1,t=!1,n=!1;this.props.outbounds.forEach(function(r){r.rules&&r.rules.forEach(function(r){"leavingSite"==r.type?e=!0:"timeOnPage"==r.type||"timeOnSite"==r.type?t=!0:"inOfficeHour"===r.type&&(!this.props.appContext.brand||void 0===this.props.appContext.brand.inOffice)||"staffAvailable"===r.type&&void 0===this.props.appContext.chatIsLive?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING}):"customerLocation"==r.type&&(n=!0)}.bind(this))}.bind(this)),e&&this.setupPageExitTracker(),n&&this.setupCustomerLocation(),t&&!this.updateInterval&&(this.updateInterval=this.setInterval(this.forceUpdate,2e3))},setupPageExitTracker:function(){this.pageExitTracker||(this.pageExitTracker=o(!1,{delay:100,sensitivity:40,aggressive:!0,callback:function(){this.setState({leavingSite:!0},function(){this.setTimeout(function(){this.pageExitTracker&&this.pageExitTracker.enable(),this.setState({leavingSite:!1})}.bind(this),2e3)}.bind(this))}.bind(this)}))},setupCustomerLocation:function(){if(!this.state.location&&!this.state.loadingLocation){var t="https://extreme-ip-lookup.com/json/";this.setState({loadingLocation:!0},(function(){e.ajax({url:t,data:{key:"nfFQBhNtgEN4L3GxPEse"},success:function(e){Reamaze.sessionStorage.setItem("customerLocation",e.countryCode),this.setState({location:{country:e.countryCode}})}.bind(this),error:function(){Reamaze.sessionStorage.removeItem("customerLocation",""),this.setState({country:""})}.bind(this)})}))}},processOutbounds:function(){var e=this.getRuleContext(),t=JSON.parse(JSON.stringify(this.state.triggered)),n=0,r={};this.props.outbounds.forEach(function(a){if(r[a.id]=1,!t[a.id]){if(!this.props.appContext._preview&&a.start&&new Date(a.start)>new Date)return;if(!this.props.appContext._preview&&a.end&&new Date(a.end)<new Date)return;var o=new Reamaze.Outbounds.Rules(a.rules,e).check(),i=!a.buttons||!a.buttons.some((function(e){return e.pushprompt}))||Reamaze.eligibleForPushPrompt();(this.props.appContext._preview||o&&i)&&(this.triggerOutbound(a),n++,t[a.id]=1)}}.bind(this)),n>0&&(Reamaze.localStorage.setItem(i+".triggered",JSON.stringify(t)),this.setState({triggered:t}));var a=this.props.outboundConversations.getOutboundConversations();Object.keys(a).forEach(function(e){a[e].auto&&(!r[e]||a[e].expires&&new Date(a[e].expires)<new Date)&&this.props.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{id:e}})}.bind(this))},triggerOutbound:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.CREATE_OUTBOUND_CONVERSATION,payload:{outbound:e}})},getRuleContext:function(){return{pageVisitTime:this.state.pageVisitTime,siteVisitTime:this.state.siteVisitTime,leavingSite:this.state.leavingSite,user:this.props.currentUser,inOfficeHour:this.props.appContext.brand.inOffice,staffAvailable:this.props.appContext.chatIsLive,departmentsAvailable:this.props.appContext.departmentsAvailable||[],isMobileBrowser:this.props.appContext.isMobileBrowser,location:this.state.location||{country:"",state:""}}},render:function(){return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes,ouibounce),function(){jQuery.namespace("Reamaze.Outbounds");var e={equals:function(e,t){return e==t},notEquals:function(e,t){return!this.equals(e,t)},contains:function(e,t){return e&&t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},doesNotContain:function(e,t){return!this.contains(e,t)},between:function(e,t){return e>=t[0]&&e<=t[1]},lessThan:function(e,t){return e<t},greaterThan:function(e,t){return e>t},isTrue:function(e){return!!e},isFalse:function(e){return!e}};Reamaze.Outbounds.Rules=function(e,t){this.rules=e,this.context=t},Reamaze.Outbounds.Rules.prototype={url:function(t){return e[t.op](window.location.href,t.value)},identified:function(t){return e[t.op](this.context.user.isIdentified())},timeOnPage:function(t){return e[t.op]((new Date).getTime()-this.context.pageVisitTime,1e3*this.getRuleValueInSeconds(t.value))},timeOnSite:function(t){return e[t.op]((new Date).getTime()-this.context.siteVisitTime,1e3*this.getRuleValueInSeconds(t.value))},referrer:function(t){return e[t.op](document.referrer,t.value)},date:function(t){return e[t.op](new Date,new Date(t.value))},leavingSite:function(t){return e[t.op](this.context.leavingSite)},customFunc:function(t){return e[t.op](t.func(),t.value)},customValue:function(t){return e[t.op](t.customValue,t.value)},nthVisit:function(t){return e[t.op](this.context.user.get("visits")||1,t.value)},customerLocation:function(t){var n=this.context.location.country;if(!n)return!1;var r=t.value;return t.value.split(":").length>1&&(r=t.value.split(":")[0]),e[t.op](n,r)},deviceType:function(t){return e[t.op](this.context.isMobileBrowser?"mobile":"desktop",t.value)},inOfficeHour:function(t){return e[t.op](this.context.inOfficeHour)},staffAvailable:function(t){var n=this.context.staffAvailable;return t.value&&(n=this.context.departmentsAvailable.indexOf(t.value)>-1),e[t.op](n)},getRuleValueInSeconds:function(e){switch((e+="").slice(-1)){case"h":return 3600*parseInt(e.slice(0,-1),10);case"m":return 60*parseInt(e.slice(0,-1),10);default:return parseInt(e,10)}},check:function(){try{if(this.rules)for(var e=0;e<this.rules.length;e++){var t=this.rules[e];if(!this[t.type]||!this[t.type](t))return!1}return!0}catch(e){return console.log("Rules#check error - "+e.message),!1}}}}(),function(e,t,n,r,a){e.namespace("Reamaze.Popup"),Reamaze.Popup.BrandedFrame=r({displayName:"Reamaze.Popup.BrandedFrame",mixins:[Reamaze.Mixins.Styles],propTypes:{ping:a.object,hidden:a.bool,appContext:a.object.isRequired},getDefaultProps:function(){return{simple:!1,hidden:!1}},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{ping:null}},componentDidMount:function(){this.props.ping||this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})},render:function(){if(this.props.ping){var e="rmz-shoutbox-frame-container",r=function(t){t.documentElement.style="height: 100%; width: 100%;";var n=document.createElement("base");n.href=this.props.appContext.baseDataUrl,n.target="_parent",t.head.appendChild(n);var r=document.createElement("link");r.href="https://cdn.reamaze.com/assets/fonts.css",r.rel="stylesheet";var a=document.createElement("link");a.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",a.rel="stylesheet";var o=document.createElement("script");o.type="text/javascript",o.defer=!0,o.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",t.head.appendChild(r),t.head.appendChild(a),t.head.appendChild(o);var i=document.createElement("div");i.className="frame-root",t.body.className=e,t.body.style="height:100%;width:100%;width:100vw;overflow:hidden",t.body.appendChild(i)}.bind(this),a={width:"100%",height:"100%"};return this.props.hidden||(a.opacity=1),t.createElement("div",{style:a,className:e},t.createElement(Reamaze.Frames.Frame,{ref:function(e){e&&(n.findDOMNode(e).style.setProperty("width","100%","important"),n.findDOMNode(e).style.setProperty("height","100%","important"))},style:{width:"100%",height:"100%",border:0,position:"relative"},initialContent:r,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId},this.props.children))}return null},getStyleTag:function(){return t.createElement("div",null,this.getStyles(),this.getBrandStyles())},getBrandStyles:function(){var e=this.props.appContext.brand.styles;return t.createElement("style",null,this.getBrandCss(e))},getStyles:function(){return t.createElement("style",null,this.getResetCss(),"/* popup css */\n          #content-container {\n            position: relative;\n            width: 100%;\n            height: 100%;\n            -webkit-overflow-scrolling: touch;\n          }\n          #content-container.content-flex {\n            display: flex;\n            display: -webkit-box;\n            display: -moz-box;\n            display: -webkit-flex;\n            display: -ms-flexbox;\n            flex-direction: column;\n            -webkit-box-direction: normal;\n            -webkit-box-orient: vertical;\n            -moz-box-direction: normal;\n            -moz-box-orient: vertical;\n            -webkit-flex-direction: column;\n            -ms-flex-direction: column;\n          }\n          #content-container.content-flex #header, #content-container.content-flex #footer {\n            -webkit-flex-shrink: 0;\n            -moz-flex-shrink: 0;\n            flex-shrink: 0;\n            -ms-flex: 0 1 auto;\n            font-size: "+("large"===this.props.appContext.shoutboxFontSize?"1.1em":"1em")+";\n          }\n          #content-container.content-flex #content {\n            flex-grow: 1;\n            -webkit-box-flex: 1;\n            -moz-box-flex: 1;\n            -webkit-flex-grow: 1;\n            -ms-flex: 1 1 auto;\n          }\n          #content-container.content-flex #content.no-grow {\n            flex-grow: 0;\n            -webkit-box-flex: 0;\n            -moz-box-flex: 0;\n            -webkit-flex-grow: 0;\n            -ms-flex: 0 1 auto;\n          }\n          body {\n            color: #333;\n            -webkit-overflow-scrolling: touch;\n          }\n          #header {\n            padding: 15px 35px;\n          }\n          #content {\n            overflow-x: hidden;\n            overflow-y: auto;\n            margin-right: 2px;\n            height: 100%;\n            -webkit-overflow-scrolling: touch;\n          }\n          #content.attributed #content-inner {\n            min-height: calc(100% - 28px);\n          }\n          #footer {\n            border-top: 1px solid rgba(0, 0, 0, 0.05);\n            padding: 10px 0;\n            box-shadow: 0px 41px 20px 40px rgba(0,0,0,0.05);\n          }\n          ::-webkit-scrollbar {\n            width: 5px;\n            background: #fff;\n          }\n          ::-webkit-scrollbar-button {\n            height: 0;\n            width: 0;\n            display: none;\n          }\n          ::-webkit-scrollbar-corner {\n            background: transparent;\n          }\n          ::-webkit-scrollbar-thumb {\n            border-radius: 8px;\n            box-shadow: inset 0 -3px 0 0 #fff, inset 0 3px 0 0 #fff;\n            background-color: #dededecc;\n          }\n        ")}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Popup"),Reamaze.Popup.CloseX=n({displayName:"Reamaze.Popup.CloseX",propTypes:{appContext:r.object,zIndex:r.number,color:r.string,top:r.any,right:r.any,onClick:r.func,height:r.string,width:r.string,lineHeight:r.string,fontSize:r.string,textAlign:r.string,padding:r.string},getDefaultProps:function(){return{zIndex:2147483647,color:"#ccc",top:"12px",right:"12px",padding:"0px",size:13,margin:0}},render:function(){var e=this.props,n=e.size,r=e.color,a=e.appContext,o=e.onClick;return t.createElement("button",{"aria-label":a.brand.preferences.trans_aria_close_shoutbox,style:this.getStyles(),className:"reamaze-minimize-v anim-btn",onClick:function(e){e.preventDefault(),e.stopPropagation(),o(e)}.bind(this)},t.createElement("svg",{width:n+2,height:n+2,style:{width:n+2+"px",height:n+2+"px"}},t.createElement("g",null,t.createElement("path",{style:{stroke:r,fill:"rgba(0,0,0,0)",strokeWidth:2},d:"m 1,1 l "+n/2+","+n/2+" l "+n/2+","+n/2*-1}))))},getStyles:function(){return{position:"absolute",right:this.props.right,top:this.props.top,zIndex:this.props.zIndex,color:this.props.color,cursor:"pointer",display:"block",textDecoration:"none",border:"none",background:"none",padding:this.props.padding,margin:this.props.margin,width:"auto"}}})}(jQuery,React,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(e,t,n,r){e.namespace("Reamaze.Popup"),Reamaze.Popup.Popup=n({displayName:"Reamaze.Popup.Popup",mixins:[TimerMixin],propTypes:{zIndex:r.number,width:r.oneOfType([r.string,r.number]),height:r.oneOfType([r.string,r.number]),maxHeight:r.oneOfType([r.string,r.number]),minHeight:r.oneOfType([r.string,r.number]),xColor:r.string,anchor:r.any,onComponentDidMount:r.func,supportsFullScreen:r.bool,appContext:r.object.isRequired},getDefaultProps:function(){return{zIndex:2147483647,width:600,height:550,maxHeight:600,minHeight:0,xColor:"#bbb",supportsFullScreen:!0}},getInitialState:function(){return{guid:"popup-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),newlyMounted:!0}},componentDidMount:function(){this.setTimeout(function(){this.setState({newlyMounted:!1})}.bind(this),1)},render:function(){var e=this.getStyles(),n=this.getStyleTag(),r=this.props.anchor?"reamaze-anchored":"";return r=r+" "+this.state.guid,extraProps={},this.props.appContext.shoutbox.open&&!this.state.newlyMounted?(r+=" reamaze-visible",extraProps["aria-live"]="polite"):extraProps["aria-hidden"]=!0,t.createElement("div",_extends({id:"reamaze-popup",className:r},extraProps),n,this.props.anchor?null:t.createElement("div",{id:"reamaze-overlay"}),t.createElement("div",{id:"reamaze-wrapper",style:e.wrapper},t.createElement("div",{id:"reamaze-container"},this.props.children)))},getStyles:function(){var e={wrapper:{}};return this.props.anchor&&(e.wrapper.marginLeft=0,this.props.appContext.fullScreen?(e.wrapper.left=0,e.wrapper.right=0,e.wrapper.top=this.props.anchor.top?0:"auto",e.wrapper.bottom=this.props.anchor.bottom?0:"auto"):(e.wrapper.left=this.props.anchor.left?this.props.anchor.left:"auto",e.wrapper.right=this.props.anchor.right?this.props.anchor.right:"auto",e.wrapper.top=this.props.anchor.top?this.props.anchor.top:"auto",e.wrapper.bottom=this.props.anchor.bottom?this.props.anchor.bottom:"auto",this.props.appContext.shoutbox.open&&(this.props.anchor.bottom?e.wrapper.bottom=parseInt(this.props.anchor.bottom,10)+"px":e.wrapper.top=parseInt(this.props.anchor.top,10)+"px"))),e},getStyleTag:function(){var e,n="";this.props.anchor&&this.props.anchor.top?n+="top ":n+="bottom ",this.props.anchor&&this.props.anchor.left?n+="left ":n+="right ",e=this.props.anchor.bottom?parseInt(this.props.anchor.bottom,10)+20:this.props.anchor.top?parseInt(this.props.anchor.top,10)+20:this.props.appContext._preview?60:100;var r="10px 20px";return this.props.appContext.fullScreen&&(r=0),
t.createElement("style",null,"#reamaze-overlay {          position: fixed;          left: 0px;          right: 0px;          top: 0px;          bottom: 0px;          background: rgba(0, 0, 0, 0.0);          transition: background 0.55s;          z-index: -10000000;          pointer-events: none;        }        .reamaze-visible #reamaze-overlay {          background: rgba(0, 0, 0, 0.3);        }        ."+this.state.guid+".reamaze-visible #reamaze-overlay {          z-index:"+this.props.zIndex+";          pointer-events: all;        }                #reamaze-wrapper {          position:fixed;          left:50%;          top:0px;          box-sizing: content-box;          border-radius: "+r+";          transition: opacity 0.35s, top 0.35s, transform 0.35s, z-index 0.35s;          opacity: 0;          z-index: -10000000;          pointer-events: none;        }        .reamaze-anchored #reamaze-wrapper {          padding: 0px;          max-width: 425px;          perspective: 425px;          transform: scale(0.0001);        }        .reamaze-visible #reamaze-wrapper {          top: "+(this.props.appContext._preview?"30px":"70px")+";          opacity: 1;          transform: scale(1);        }        ."+this.state.guid+" #reamaze-wrapper {          width:"+this.props.width+"px;          height:"+this.props.height+"px;          min-height: 300px;          max-height: calc(100% - "+e+"px);          margin-left: -"+(this.props.width/2+10)+"px;        }        ."+this.state.guid+".reamaze-anchored #reamaze-wrapper {          transform-origin: "+n+";        }        ."+this.state.guid+".reamaze-visible #reamaze-wrapper {          z-index: "+this.props.zIndex+";          pointer-events: all;        }        .reamaze-visible.reamaze-anchored #reamaze-wrapper {          top: auto;          bottom: 60px;          opacity: 1;        }        #reamaze-wrapper iframe {          margin: 0;        }        #reamaze-wrapper iframe,        #reamaze-wrapper #reamaze-container {          border-radius: "+r+";          overflow: hidden;          display: block;        }        .reamaze-anchored #reamaze-wrapper iframe,        .reamaze-anchored #reamaze-wrapper #reamaze-container        {          border-radius: "+r+";          max-width: 425px;overflow: hidden;          transition: transform 0.35s;        }        .reamaze-anchored #reamaze-wrapper #reamaze-container {          transform: rotateX(-40deg) skewX(30deg);        }        ."+this.state.guid+".reamaze-anchored #reamaze-wrapper  #reamaze-container {          transform-origin: "+n+";        }        .reamaze-anchored #reamaze-wrapper iframe        {          height: 100%;        }        #reamaze-wrapper #reamaze-container .reamaze-minimize-v {          transition: all 0.2s linear;          -webkit-backface-visibility: hidden;          backface-visibility: hidden;        }        #reamaze-wrapper #reamaze-container .reamaze-minimize-v:hover {          transform: translate3d(0,-3px,0);          opacity: 0.8;        }        #reamaze-container {          position: relative;          background: white;          box-shadow: 0 33px 50px 0 rgba(0,0,0,0.12);        }        @supports ((-webkit-backdrop-filter: blur(15px)) or (backdrop-filter: blur(15px))) {          #reamaze-container {            background: rgba(255, 255, 255, 0.85);            -webkit-backdrop-filter: blur(15px);            backdrop-filter: blur(15px);          }        }        ."+this.state.guid+" #reamaze-container {          width:"+this.props.width+"px;          height:"+this.props.height+"px;          max-height: 100%;          min-height:"+this.props.minHeight+"px;        }        .reamaze-visible.reamaze-anchored #reamaze-wrapper #reamaze-container {          transform: none;        }        "+(!this.props.appContext._preview&&this.props.supportsFullScreen?"@media (max-width: 767px) {          ."+this.state.guid+" #reamaze-wrapper,          ."+this.state.guid+".reamaze-anchored #reamaze-wrapper {            top: 300px;            padding: 0px;            transition: top 0.6s, opacity 0.35s;          }          ."+this.state.guid+".reamaze-visible #reamaze-wrapper,          ."+this.state.guid+".reamaze-visible.reamaze-anchored #reamaze-wrapper {            position: fixed;            top: 0px;            left: 0px;            right: 0px;            bottom: 0px;            margin-left: 0px;            width: 100%;            max-width: 100%;            max-height: 100%;            padding: 0px;            box-sizing: border-box;            border-radius: 0;          }          ."+this.state.guid+".reamaze-anchored #reamaze-wrapper iframe,          ."+this.state.guid+".reamaze-anchored #reamaze-wrapper #reamaze-container,          ."+this.state.guid+".reamaze-visible #reamaze-container {            max-width: 100%;            width: 100%;          }          #reamaze-wrapper iframe,          #reamaze-wrapper #reamaze-container,          .reamaze-anchored #reamaze-wrapper iframe,          .reamaze-anchored #reamaze-wrapper #reamaze-container {            border-radius: 0;          }          #reamaze-wrapper .rmz-shoutbox-frame-container {            overflow: hidden;            border-radius: "+r+";            transform: translateZ(0);          }        }":"")+"      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Popup"),Reamaze.Popup.Spinner=n({displayName:"Reamaze.Popup.Spinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{}}},shouldComponentUpdate:function(){return!1},render:function(){return t.createElement("div",{style:this.props.style,className:"reamaze-popup-spinner"},this.getStyleTag(),t.createElement(Reamaze.Spinner,{xColor:this.props.xColor}))},getStyleTag:function(){this.props.xColor;return t.createElement("style",null,".reamaze-popup-spinner {          margin: -15px 0 0 -15px;          width: 30px;          height: 30px;          position: absolute;          top: 50%;          left: 50%;        }      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.PushPrompt"),Reamaze.PushPrompt.App=r({displayName:"Reamaze.PushPrompt.App",mixins:[TimerMixin,Reamaze.Mixins.Styles],propTypes:{currentUser:a.object,appContext:a.object.isRequired,pushPrompt:a.object.isRequired},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{show:!1,height:150}},componentDidMount:function(){var t=Reamaze.localStorage.getItem("pushPrompt.lastDismissed");this.setTimeout(function(){this.setState({show:!!this.props.appContext._preview||!t||Date.now()-parseInt(t)>3600*(this.props.pushPrompt.delay||24)*1e3})}.bind(this),this.props.appContext._preview?1e3:3e3),e(document).on("Reamaze.resize",function(e,t){t._height&&"pushPrompt"===t._name&&this.setState({height:t._height})}.bind(this))},getContainerStyleTag:function(){var e="\n      .rmz-push-prompt-container {\n        width: 400px;\n        left: 50%;\n        margin-left: -200px;\n        padding: 20px;\n      }",n="\n        .rmz-push-prompt-container {\n          background: rgba(255, 255, 255, 1);\n          opacity: "+(this.state.show?1:0)+';\n          transition: opacity 200ms ease-in;\n          position: fixed;\n          top: 70px;\n          left: 0px;\n          z-index: 2147483646;\n          width: 100%;\n          height: max-content;\n          border-radius: 10px 20px;\n          box-shadow: 0 33px 50px 0 rgba(0,0,0,0.12);\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          padding: 20px;\n          box-sizing: border-box;\n          pointer-events: '+(this.state.show?"all":"none")+";\n        }\n        @media screen and (min-width: 481px) {\n          "+e+"\n        }\n      ";return this.props.appContext._preview&&(n="\n          "+n+"\n          "+e+"\n        "),t.createElement("style",null,n)},getStyleTag:function(){var e=this.props.appContext.brand.styles;return t.createElement(t.Fragment,null,t.createElement("style",null,this.getResetCss()),t.createElement("style",null,this.getBrandCss(e)))},onDismiss:function(){this.props.appContext._preview||this.setState({show:!1},(function(){Reamaze.localStorage.setItem("pushPrompt.lastDismissed",Date.now())}))},onAllow:function(){this.props.appContext._preview||(Reamaze.promptPushPermissions().then((function(){var e=new Event("ReamazePushDataInit");window.dispatchEvent(e)})),this.setState({show:!1}))},render:function(){if(!Reamaze.eligibleForPushPrompt()&&!this.props.appContext._preview||!this.props.pushPrompt.name||!this.props.pushPrompt.message)return null;var e="rmz-push-prompt-frame-container",n=function(t){t.documentElement.style="height: max-content; width: 100%;";var n=document.createElement("base");n.href=this.props.appContext.baseDataUrl,n.target="_parent",t.head.appendChild(n);var r=document.createElement("link");r.href="https://cdn.reamaze.com/assets/fonts.css",r.rel="stylesheet";var a=document.createElement("link");a.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",a.rel="stylesheet";var o=document.createElement("script");o.type="text/javascript",o.defer=!0,o.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",t.head.appendChild(r),t.head.appendChild(a),t.head.appendChild(o);var i=document.createElement("div");i.className="frame-root",t.body.className=e,t.body.style="height:max-content;width:100%;width:100vw;overflow:hidden;",t.body.appendChild(i)}.bind(this),r={width:"100%",height:"auto"};return t.createElement("div",{className:"rmz-push-prompt-container"},this.getContainerStyleTag(),t.createElement("div",{style:r,className:e},t.createElement(Reamaze.Frames.Frame,{style:{width:"100%",height:this.state.height+"px",border:0,position:"relative",display:"block"},initialContent:n,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId,title:"Re:amaze Push Prompt"},t.createElement(Reamaze.PushPrompt.PromptMessage,{pushPrompt:this.props.pushPrompt,onDismiss:this.onDismiss,onAllow:this.onAllow}))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.PushPrompt"),Reamaze.PushPrompt.PromptMessage=r({displayName:"Reamaze.PushPrompt.PromptMessage",propTypes:{pushPrompt:a.object.isRequired,onDismiss:a.func.isRequired,onAllow:a.func.isRequired},componentDidMount:function(){window.postMessage(e.param({_command:"reamaze:resize",_height:this.container.clientHeight,_name:"pushPrompt"}),window.document.URL)},getStyleTag:function(){return t.createElement(t.Fragment,null,t.createElement("style",null,"\n          #push-prompt-container .title-container {\n            text-align: center;\n            font-size: 16px;\n            margin-top: 0em;\n            margin-bottom: 20px;\n          }\n          #push-prompt-container .message-container {\n            text-align: center;\n            font-size: 14px;\n            margin-bottom: 25px;\n          }\n          #push-prompt-container .buttons-container {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n          }\n        "))},allowButton:function(){var e=this,n=this.props.pushPrompt.buttons.find((function(e){return!0===e.pushprompt}));return t.createElement("div",{style:{margin:"0px 10px"}},t.createElement("a",{className:"allow btn btn-primary",onClick:function(t){t.stopPropagation(),e.props.onAllow()},style:{wordBreak:"break-word"}},n.text))},dismissButton:function(){var e=this.props.pushPrompt.buttons.find((function(e){return!0===e.dismiss}));return t.createElement("div",{style:{margin:"0px 10px",textAlign:"center"}},t.createElement("a",{className:"dismiss",href:"javascript:void(0);",onClick:this.props.onDismiss,style:{wordBreak:"break-word"}},e.text))},render:function(){return t.createElement("div",{id:"push-prompt-container",ref:function(e){this.container=e}.bind(this)},this.getStyleTag(),t.createElement("h2",{className:"title-container"},this.props.pushPrompt.name),t.createElement("div",{className:"message-container"},this.props.pushPrompt.message),t.createElement("div",{className:"buttons-container"},this.dismissButton(),this.allowButton()))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze"),Reamaze.Attribution=n({displayName:"Reamaze.Attribution",propTypes:{appContext:r.object.isRequired},shouldComponentUpdate:function(){return!1},getAttributionUrl:function(){var e="https://www."+this.props.appContext.appDomain+"/embeddable";return this.props.appContext.brand.url&&(e+="/"+this.props.appContext.brand.url),e},render:function(){if(!1===this.props.appContext.brand.attribution||"/shopify_checkout_extension"==window.location.pathname)return null;var n=e.extend({},{textAlign:"right",fontSize:"9px",padding:"0px 10px",textTransform:"uppercase",letterSpacing:"1px",zIndex:1},this.props.style||{});return t.createElement("div",{className:"attribution",style:n},t.createElement("style",null,'\n            .attribution span, .attribution a, .attribution a:hover, .attribution a:visited {\n              color: #CACACA;\n              font-family: "Nunito",Helvetica,Arial,sans-serif;\n            }\n            .attribution .attrib-name {\n              font-weight: bold;\n              font-size: 13px;\n              letter-spacing: 0px;\n              text-transform: lowercase;\n            }\n          '),this.props.appContext.fullScreen||!1===this.props.link?t.createElement("span",null,"We run on ",t.createElement("span",{className:"attrib-name"},"Re:amaze")):t.createElement("a",{tabIndex:"-1",href:this.getAttributionUrl(),target:"_blank"},"We run on ",t.createElement("span",{className:"attrib-name"},"Re:amaze")))}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r,a){var o=function(e){var n=e.brandData.preferences,r=n.enable_chat_disclaimer,a=n.trans_chat_disclaimer;return r&&t.createElement("div",{id:"disclaimer",style:{textAlign:"center",fontSize:"12px",padding:"5px 10px",color:"#c09853",backgroundColor:"#fcf8e3"},dangerouslySetInnerHTML:{__html:a}})};o.propTypes={brandData:a.shape({preferences:a.shape({enable_chat_disclaimer:a.bool.isRequired,trans_chat_disclaimer:a.string.isRequired}).isRequired}).isRequired},Reamaze.Disclaimer=o}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.namespace("Reamaze"),Reamaze.Dispatcher=function(){return this._dispatcher=new Flux.Dispatcher,this.dispatch=function(e){setTimeout(function(){_support&&_support._debug&&console.log(e),this._dispatcher.dispatch(e)}.bind(this),0)},this.register=function(e){return this._dispatcher.register(e)},this.unregister=function(e){return this._dispatcher.unregister(e)},this.waitFor=function(e){return this._dispatcher.waitFor(e)},this},jQuery.namespace("Reamaze"),Reamaze.GlobalErrorStates={},Reamaze.ConversationErrorStates={CONTACT_FORM_FIELDS_NAME_INVALID:0,CONTACT_FORM_FIELDS_EMAIL_INVALID:1},Reamaze.ErrorMap=function(e){for(var t=[],n=0;n<e.errors.length;n++);for(n=0;n<e.messages.length;n++){message=e.messages[n];for(var r=0;r<message.errors;r++);for(r=0;r<message.user.errors.length;r++);for(r=0;r<message.login.errors.length;r++)error=message.login.errors[r],"Email is invalid"===error&&t.push(Reamaze.ConversationErrorStates.CONTACT_FORM_FIELDS_EMAIL_INVALID)}return t},function(e,t,n,r,a){e.namespace("Reamaze.Frames"),Reamaze.Frames.Callbacks={};var o="undefined"!=typeof window&&window.console,i=function(){},s=i,p=i,l=e.extend;if(o){var c=console.error;s=function(){console.error=function(e){/<head>/.test(e)||c.call(console,e)}},p=function(){console.error=c}}Reamaze.Frames.Frame=r({displayName:"Reamaze.Frames.Frame",mixins:[TimerMixin],propTypes:{style:a.object,head:a.node,initialContent:a.func,mountTarget:a.string,contentDidMount:a.func,contentDidUpdate:a.func,frameId:a.string,title:a.string},getDefaultProps:function(){return{initialContent:function(e){var t=document.createElement("style");t.innerHTML="body { background: transparent; }",e.head.appendChild(t);var n=document.createElement("div");n.className="frame-root",e.body.appendChild(n)},contentDidMount:function(){},contentDidUpdate:function(){}}},render:function(){var e=l({},this.props);return delete e.head,delete e.initialContent,delete e.mountTarget,delete e.contentDidMount,delete e.contentDidUpdate,delete e.children,delete e.frameId,delete e.title,t.createElement("iframe",l({title:this.props.title||"Re:amaze Chat",allow:"microphone; camera",allowFullScreen:"true",allowtransparency:"true"},e,{children:void 0}))},componentDidMount:function(){this._isMounted=!0,this.renderFrameContents()},componentsRendered:!1,renderFrameContents:function(){if(this._isMounted){var r=function(e){if(e||(e=0),!(e>=3)){s();var t=i?this.props.contentDidMount:this.props.contentDidUpdate,a=this.getMountTarget();try{n.unstable_renderSubtreeIntoContainer(this,o,a,t)}catch(t){setTimeout(r.bind(this,e+1),300)}p(),this.componentsRendered=!0}}.bind(this),a=this.getDoc();if(a&&"complete"===a.readyState){Reamaze.Frames.Callbacks[this.props.frameId]=r,this.getWindow().frameId=this.props.frameId,this.getWindow().jQuery=Reamaze.jQuery;var o=t.createElement(Reamaze.Frames.FrameContent,{className:"frame-content",window:this.getWindow()},this.props.head,this.props.children),i=!this._setInitialContent;this._setInitialContent?this.componentsRendered&&r():(e(a).one("frameloaded",r),a.open(),a.defaultView&&(a.defaultView.frameId=this.props.frameId,a.defaultView.jQuery=Reamaze.jQuery),a.write("<!doctype html><html><head></head><body></body></html>"),a.close(),this.props.initialContent(a),this._setInitialContent=!0)}else this.setTimeout(this.renderFrameContents,0)}},getMountTarget:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]},getDoc:function(){return n.findDOMNode(this).contentDocument},getWindow:function(){return n.findDOMNode(this).contentWindow},componentDidUpdate:function(){this.renderFrameContents()},componentWillUnmount:function(){if(this._isMounted=!1,this.getDoc()){var e=this.getMountTarget();e&&n.unmountComponentAtNode(e)}}}),Reamaze.Frames.FrameContent=r({displayName:"Reamaze.Frames.FrameContent",propTypes:{window:a.object},childContextTypes:{window:a.object},getChildContext:function(){return{window:this.props.window}},render:function(){return t.createElement("div",null,this.props.children)}}),Reamaze.Frames.BasicFrame=r({displayName:"Reamaze.Frames.BasicFrame",mixins:[Reamaze.Mixins.Styles],getDefaultProps:function(){return{}},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{ping:null}},componentDidMount:function(){},render:function(){var e=function(e){e.documentElement.style="height: 100%; width: 100%;";var t=document.createElement("base");t.target="_parent",e.head.appendChild(t);var n=document.createElement("link");n.href="https://cdn.reamaze.com/assets/fonts.css",n.rel="stylesheet";var r=document.createElement("link");r.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",r.rel="stylesheet";var a=document.createElement("script");a.type="text/javascript",a.defer=!0,a.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",e.head.appendChild(n),e.head.appendChild(r),e.head.appendChild(a);var o=document.createElement("div");o.className="frame-root",e.body.appendChild(o)}.bind(this);return t.createElement("div",{style:{width:"100%",height:"100%"},className:this.props.className},t.createElement(Reamaze.Frames.Frame,{ref:function(e){e&&(n.findDOMNode(e).style.setProperty("width","100%","important"),n.findDOMNode(e).style.setProperty("height","100%","important"))},style:{width:"100%",height:"100%",border:0,position:"relative"},initialContent:e,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId},this.props.children))},getStyleTag:function(){return t.createElement("div",null,this.getStyles(),this.getBrandStyles())},getBrandStyles:function(){var e=this.props.appContext.brand.styles;return t.createElement("style",null,this.getBrandCss(e))},getStyles:function(){return t.createElement("style",null,this.getResetCss())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.namespace("Reamaze"),Reamaze.OutboundConversations=function(){var e="ob_conv";this.outboundConversations={};try{this.outboundConversations=JSON.parse(Reamaze.localStorage.getItem(e))||{}}catch(e){}return this.getOutboundConversations=function(){return JSON.parse(JSON.stringify(this.outboundConversations))},this.removeOutboundConversation=function(e){delete this.outboundConversations[e],this.cache()},this.getOutboundConversationId=function(e){return"*ob_"+e},this.getConversations=function(){var e={};return Object.keys(this.outboundConversations).forEach(function(t){var n=this.getConversation(t);n&&(e[n.id]=n)}.bind(this)),e},this.getConversation=function(e){var t=this.getOutboundConversationId(e),n=this.outboundConversations[e];return n?n.conversationId?null:(n.user||(n.user={type:"team"}),n.user.displayAsStaff=!0,{slug:t,id:t,outbound:!0,enableOutboundCustomFields:n.enableCustomFields,disableCueClick:n.disableCueClick,outboundData:{id:e,name:n.name,message:n.message,user:n.user,timestamp:n.timestamp,buttons:n.buttons,live:n.live,botsEnabled:n.botsEnabled,shoutboxSlug:n.shoutboxSlug},unread:n.unread,loaded:!1,messages:[this.getConversationMessage(n)]}):null},this.getConversationMessage=function(e){var t=e.user;t.displayAsStaff=!0,t.avatarUrl=t.avatarUrl||(t.avatarUrls?t.avatarUrls[0]:null);var n={};return e.buttons&&e.buttons.length>0&&(n.buttons=e.buttons),{id:"*ob_msg",user:t,createdAt:new Date(e.timestamp),body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(e.message)),body_preview:e.message,system:!0,meta:n}},this.updateOutboundConversation=function(e){this.outboundConversations[e.outboundData.id]&&(this.outboundConversations[e.outboundData.id].unread=e.unread,e.id&&e.id!=this.getOutboundConversationId(e.outboundData.id)&&(this.outboundConversations[e.outboundData.id].conversationId=e.id,this.outboundConversations[e.outboundData.id].conversationSlug=e.slug),this.cache())},this.createOutboundConversation=function(e,t,n,r,a,o,i,s,p,l,c,u,d,h,f,m){!a&&this.outboundConversations[t]||(n||(n={type:"team"}),this.outboundConversations[t]={message:e,id:t,user:n,timestamp:r,unread:!0,buttons:o,onClickScript:i,persisted:!0,name:s,transient:!!p,botsEnabled:!!c,live:!!l,auto:!!d,enableCustomFields:!!h,disableCueClick:!!f,shoutboxSlug:m},void 0!==u&&(this.outboundConversations[t].expires=u),this.cache())},this.cache=function(){Reamaze.localStorage.setItem(e,JSON.stringify(this.outboundConversations))},this},function(e){e.namespace("Reamaze"),Reamaze.PushAgent=createReactClass({displayName:"Reamaze.PushAgent",propTypes:{appContext:PropTypes.object.isRequired,currentUser:PropTypes.object.isRequired,subscribed:PropTypes.bool,customVapidToken:PropTypes.string},componentDidMount:function(){window.ReamazePushData={currentUser:this.props.currentUser,baseDataUrl:this.props.appContext.baseDataUrl,subscribed:this.props.subscribed,customVapidToken:this.props.customVapidToken,publicKey:!!this.props.appContext.brand.push&&this.props.appContext.brand.push.public_key,enabled:!!this.props.appContext.brand.push&&this.props.appContext.brand.push.enabled};var e=new Event("ReamazePushDataInit");window.dispatchEvent(e);var t="//push.reamaze.com/assets/reamaze-push.js";if(!(document.querySelectorAll('[src="'+t+'"]').length>0)){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.defer="defer",n.src=t;var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(n,r):document.head?document.head.appendChild(n):document.body.appendChild(n)}},componentDidUpdate:function(e){if(!e.subscribed&&this.props.subscribed){var t=new Event("ReamazePushDataInit");window.dispatchEvent(t)}},render:function(){return!1}})}(jQuery,React);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};(function($jq,React,ReactDOM,createReactClass,PropTypes){Reamaze.ACTIONS={PING:"PING",PING_LIVE_STATUS:"PING_LIVE_STATUS",UPDATE_PING_DATA:"UPDATE_PING_DATA",UPDATE_LIVE_STATUS:"UPDATE_LIVE_STATUS",ROUTE:"ROUTE",VIEW_CONVERSATION:"VIEW_CONVERSATION",OPEN_POPUP:"OPEN_POPUP",USER_TRANSITION:"USER_TRANSITION",BUILD_CONVERSATION:"BUILD_CONVERSATION",BUILD_MESSAGE:"BUILD_MESSAGE",SAVE_CONVERSATION:"SAVE_CONVERSATION",SHOW_PROMPT:"SHOW_PROMPT",REMOVE_PROMPT:"REMOVE_PROMPT"},Reamaze.EFFECTS={CREATE_MESSAGE_NOTIFICATION:"CREATE_MESSAGE_NOTIFICATION",PING_API:"PING_API",PING_LIVE_STATUS:"PING_LIVE_STATUS",CALL_UNREAD_CALLBACK:"CALL_UNREAD_CALLBACK",POPUP_OPENED:"POPUP_OPENED",CLEAR_ALL_NOTIFICATIONS:"CLEAR_ALL_NOTIFICATIONS",CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS:"CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS",CREATE_OUTBOUND_NOTIFICATION:"CREATE_OUTBOUND_NOTIFICATION",DELETE_OUTBOUND_NOTIFICATION:"DELETE_OUTBOUND_NOTIFICATION",API_GET_CONVERSATIONS:"API_GET_CONVERSATIONS",API_GET_CONVERSATION:"API_GET_CONVERSATION",API_GET_BRAND_DATA:"API_GET_BRAND_DATA",API_POST_CONVERSATION:"API_POST_CONVERSATION",TRACK_EVENT:"TRACK_EVENT"};var calculateUnread=function(e){var t=0;return Object.keys(e).forEach((function(n){e[n].unread&&t++})),t},_route=function(e,t,n){var r=e.appContext.route,a=e.appContext.routeParams;return t==r&&JSON.stringify(n)==JSON.stringify(a)||(e.appContext.prevRoute=r,e.appContext.prevRouteParams=a),e.appContext.route=t,e.appContext.routeParams=n,e},rootStateReducer=function(e,t,n){switch(n.type){case Reamaze.ACTIONS.ROUTE:return e=_route(e,n.payload.route,n.payload.routeParams);case Reamaze.ACTIONS.PING:return e.pinging?null:(e.pinging=!0,{effects:[{type:Reamaze.EFFECTS.PING_API}]});case Reamaze.ACTIONS.UPDATE_PING_DATA:e.ping=n.payload;var r=Reamaze.Styles.fromBrand(e.ping?e.ping.brand:null,t.styles);for(var a in e.appContext.brand.styles=r,e.appContext.chatIsLive=n.payload.chatIsLive,e.appContext.departmentsAvailable=n.payload.departmentsAvailable,e.appContext.allAgentsBusy=n.payload.allAgentsBusy,n.payload.conversations)e.conversations[a]||(e.conversations[a]=n.payload.conversations[a]);return e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e.effects.push({type:Reamaze.EFFECTS.CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS}),e.appContext.brand=$jq.extend(!0,{},e.appContext.brand||{},n.payload.brand,{staffAvatars:n.payload.staffAvatars,liveStaffAvatars:n.payload.liveStaffAvatars}),e;case Reamaze.ACTIONS.PING_LIVE_STATUS:return{effects:[{type:Reamaze.EFFECTS.PING_LIVE_STATUS}]};case Reamaze.ACTIONS.UPDATE_LIVE_STATUS:var o=!1;return e.appContext.chatIsLive!=n.payload.chatIsLive&&(o=!0),e.appContext.allAgentsBusy!=n.payload.allAgentsBusy&&(o=!0),e.appContext.chatIsLive=n.payload.chatIsLive,e.appContext.departmentsAvailable=n.payload.departmentsAvailable,e.appContext.allAgentsBusy=n.payload.allAgentsBusy,e.appContext.brand&&(o||JSON.stringify(e.appContext.brand.liveStaffAvatars)==JSON.stringify(n.payload.liveStaffAvatars)||(o=!0),e.appContext.brand=$jq.extend({},e.appContext.brand,{liveStaffAvatars:n.payload.liveStaffAvatars})),o?e:null;case Reamaze.ACTIONS.VIEW_CONVERSATION:e=_route(e,"conversations:show",{slug:n.payload.slug});case Reamaze.ACTIONS.OPEN_POPUP:var i=n.payload||{};if(void 0===i.anchor&&(i.anchor=!!t.widgetOpts),i.anchor&&t.widgetOpts&&t.widgetOpts.position&&(i.anchor={},t.widgetOpts.position.top?i.anchor.top=parseInt(t.widgetOpts.position.top,10)+10+parseInt(t.widgetOpts.size,10):t.widgetOpts.position.bottom&&(i.anchor.bottom=parseInt(t.widgetOpts.position.bottom,10)+10+parseInt(t.widgetOpts.size,10)),t.widgetOpts.position.left?i.anchor.left=t.widgetOpts.position.left:t.widgetOpts.position.right&&(i.anchor.right=t.widgetOpts.position.right)),i.route)e=_route(e,i.route,i.routeParams||{});else if(i.path||e.appContext.route&&!n.payload.mode)i.path&&(e=_route(e,"kb:index",{path:i.path}));else{var s=n.payload.mode||t.popupOpts.mode,p="hub:index";"kb"==s||"faq"==s?p="kb:index":"contact"==s&&(p="conversations:new"),e=_route(e,p,null)}return"widget"==i.source&&e.appContext.shoutbox.open||(e.appContext.shoutbox.open=!i.minimized),e.popup=i,i.minimized||(e.effects.push({type:Reamaze.EFFECTS.CLEAR_ALL_NOTIFICATIONS}),e.messagePrompts={}),e.effects.push({type:Reamaze.EFFECTS.POPUP_OPENED,payload:{minimized:i.minimized}}),e;case Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS:return e.appContext.brand.name||e.fetchingBrandData||e.effects.push({type:Reamaze.EFFECTS.API_GET_BRAND_DATA}),e;case Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION:var l=e.outboundConversations.getConversation(n.payload.id);return l&&l.unread&&((l=JSON.parse(JSON.stringify(l))).unread=!1,$jq.extend(e.conversations[l.slug],l),e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e.outboundConversations.updateOutboundConversation(e.conversations[l.slug])),e;default:return null}},conversationsStateReducer=function(e,t,n){switch(n.type){case Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED:n.payload.pendingSlug&&delete e.conversations[n.payload.pendingSlug];var r=e.currentUser.getAnonymousId(),a=r&&!n.payload.user.anonymous_id;e.currentUser.setAnonymousId(n.payload.user.anonymous_id),e.currentUser.set("_id",n.payload.user.id),e.currentUser.set("email",n.payload.user.email),e.currentUser.set("name",n.payload.user.name);var o=e.currentUser.getConversationTokens();o.push(n.payload.conversation.token),e.currentUser.setConversationTokens(o),e.conversations[n.payload.conversation.slug]=n.payload.conversation,e=_route(e,"conversations:show",{slug:n.payload.conversation.slug,id:n.payload.conversation.id});var i={action:(n.payload.conversation.isChat?"Chat":"Conversation")+" Started"};return n.payload.conversation.outboundData&&n.payload.conversation.outboundData.id&&(e.outboundConversations.updateOutboundConversation(n.payload.conversation),delete e.conversations[e.outboundConversations.getOutboundConversationId(n.payload.conversation.outboundData.id)],e.conversations[n.payload.conversation.slug].messages.unshift(e.outboundConversations.getConversationMessage(n.payload.conversation.outboundData)),i.label="From Cue "+(n.payload.conversation.outboundData.name||n.payload.conversation.outboundData.id)),e.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:i}),a&&e.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.USER_TRANSITION,payload:{fromAnonymousId:r}}),e.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:n.payload.conversation.slug}}),e;case Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED:if(!n.payload.conversationSlug||!n.payload.props||!e.conversations[n.payload.conversationSlug])return null;var s=(c=e.conversations[n.payload.conversationSlug].messages).filter((function(e){return e.pending||e.errored}));if(n.payload.props.messages&&(n.payload.props.messages=n.payload.props.messages.concat(s).sort((function(e,t){var n=new Date(e.createdAt),r=new Date(t.createdAt);return n<r?-1:n>r?1:0}))),$jq.extend(e.conversations[n.payload.conversationSlug],n.payload.props),e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),n.payload.props.outboundData&&n.payload.props.outboundData.id){var p=e.outboundConversations.getConversationMessage(n.payload.props.outboundData);e.conversations[n.payload.conversationSlug].messages[0].id!=p.id&&e.conversations[n.payload.conversationSlug].messages.unshift(p),e.outboundConversations.updateOutboundConversation(e.conversations[n.payload.conversationSlug])}return e;case Reamaze.Conversations.ACTIONS.CHAT_ENDED:return $jq.extend(e.conversations[n.payload.conversationSlug],n.payload.props),e;case Reamaze.Conversations.ACTIONS.MESSAGE_CREATED:var l=!1;(e.conversations[n.payload.conversationSlug].messages||[]).forEach((function(e){e.user.displayAsStaff&&(l=!0)}));for(var c,u=n.payload.message,d=(c=$jq.extend([],e.conversations[n.payload.conversationSlug].messages||[])).length,h=-1,f=0;f<c.length;f++)if(void 0!==c[f].requestId&&c[f].requestId===u.requestId||void 0!==c[f].id&&c[f].id===u.id){h=f;break}if(h>-1)c.splice(h,1,u);else{var m=-1;for(f=0;f<c.length;f++)if(c[f].created_at>=u.created_at){m=f;break}m>-1?c.splice(m,0,u):c.push(u)}if(e.conversations[n.payload.conversationSlug].messages=c,e.conversations[n.payload.conversationSlug].unread=!0,d!==c.length&&(e.conversations[n.payload.conversationSlug].promptOptions=[]),
"conversations:show"==e.appContext.route&&e.appContext.routeParams.slug==n.payload.conversationSlug&&e.appContext.shoutbox.open&&e.appContext.documentVisible||(e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}})),e.currentUser.get("_id")!=n.payload.message.user.id)(u=n.payload.message).conversation={id:n.payload.conversationId,slug:n.payload.conversationSlug},e.appContext.shoutbox.open||(e.messagePrompts[u.conversation.id]=u),-1==h&&e.effects.push({type:Reamaze.EFFECTS.CREATE_MESSAGE_NOTIFICATION,payload:n.payload.message}),!l&&n.payload.message.user.displayAsStaff&&e.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:{action:(e.conversations[n.payload.conversationSlug].isChat?"Chat":"Conversation")+" Staff First Response Received"}});return e;case Reamaze.Conversations.ACTIONS.MESSAGE_READ:return e.conversations[n.payload.conversationSlug].messages?(e.conversations[n.payload.conversationSlug].messages.forEach((function(e){if(e.id==n.payload.messageId)return e.viewed=!0,!1})),e):e;case Reamaze.Conversations.ACTIONS.CONVERSATION_STARTED_MESSAGE_TRIGGERED:return e.conversations[n.payload.conversationSlug].messages&&e.conversations[n.payload.conversationSlug].messages.length?(e.conversations[n.payload.conversationSlug].insertConversationStartedMessageId=e.conversations[n.payload.conversationSlug].messages.slice(-1)[0].id,e):e;case Reamaze.Conversations.ACTIONS.COLLECT_C2_IDENTITY:return e.conversations[n.payload.conversationSlug].showCollectC2Identity||e.currentUser.hasEmail()||(e.conversations[n.payload.conversationSlug].showCollectC2Identity=!0,e.conversations[n.payload.conversationSlug].insertConversationStartedMessageId=e.conversations[n.payload.conversationSlug].messages.slice(-1)[0].id),e;case Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED:return e.conversations[n.payload.conversationSlug].messages?(e.conversations[n.payload.conversationSlug].messages.forEach((function(t){if(t.id==n.payload.messageId)return t.appreciated||n.payload.error||(e.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:{action:"Message Appreciated"}}),t.appreciated=!0),!1})),e):e;case Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS:return e.conversationsFetched?null:(e.effects.push({type:Reamaze.EFFECTS.API_GET_CONVERSATIONS}),e);case Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS_CALLBACK:for(var g in n.payload)if((!e.conversationsFetched||!e.conversations[g]||!e.conversations[g].loaded&&!e.conversations[g].fetching)&&(e.conversations[g]=n.payload[g],e.conversations[g].outboundData)){p=e.outboundConversations.getConversationMessage(e.conversations[g].outboundData);e.conversations[g].messages[0].id!=p.id&&e.conversations[g].messages.unshift(p)}return Object.keys(e.conversations).forEach((function(t){e.conversations[t]&&e.conversations[t].messages||(console.log("Conversation retrieved without messages: ",JSON.stringify(e.conversations[t])),delete e.conversations[t])})),e.conversationsFetched=!0,e.fetchingConversations=!1,e.conversationsLastFetched=Date.now(),e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e;case Reamaze.Conversations.ACTIONS.GET_CONVERSATION:return e.conversations[n.payload.slug].fetching?null:(e.conversations[n.payload.slug].fetching=!0,e.effects.push({type:Reamaze.EFFECTS.API_GET_CONVERSATION,payload:n.payload}),e);case Reamaze.Conversations.ACTIONS.GET_CONVERSATION_CALLBACK:if(e.conversations[n.payload.slug]=n.payload,e.conversations[n.payload.slug].outboundData){p=e.outboundConversations.getConversationMessage(e.conversations[n.payload.slug].outboundData);e.conversations[n.payload.slug].messages[0].id!=p.id&&e.conversations[n.payload.slug].messages.unshift(p)}return e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e;case Reamaze.Conversations.ACTIONS.VIDEO_CALL_OFFER:var v=n.payload.data,y=new window.RTCPeerConnection({iceServers:[{urls:["stun:stun.l.google.com:19302"]}]});y.setRemoteDescription(new RTCSessionDescription(v.offer));var b="rmz-video-call-"+Math.round(1e5*Math.random());return e.videoCallInformation={offer:v.offer,user:v.user,channel:n.payload.channel,peerConnection:y,notificationId:b},e.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[{id:b,user:{name:v.user.name,avatarUrls:[v.user.avatar]},sound:!1,size:"small",transient:!0,videoCall:!0,videoCallInformation:e.videoCallInformation}]}),e;case Reamaze.Conversations.ACTIONS.VIDEO_CALL_ANSWERED:return e.videoCallAnswered=!0,n.payload.openPopup&&e.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"hub:index",routeParams:{}}}),e.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS,payload:[e.videoCallInformation.notificationId]}),e;case Reamaze.Conversations.ACTIONS.VIDEO_CALL_DECLINED:return e.videoCallInformation&&e.videoCallInformation.channel&&e.videoCallInformation.channel.trigger("client-conversation:video_call_declined",{}),e.videoCallInformation.peerConnection.close(),e.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS,payload:[e.videoCallInformation.notificationId]}),e.videoCallAnswered=!1,e.videoCallInformation={},e;case Reamaze.ACTIONS.BUILD_CONVERSATION:return e.conversations[n.payload.slug]={pending:!0,saving:!1,error:!1,slug:n.payload.slug,id:n.payload.slug,messages:[{id:"*pending_0",user:{displayAsStaff:!1},createdAt:new Date,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(n.payload.data.message.body)),body_preview:n.payload.data.message.body,pendingData:n.payload.data}]},e=_route(e,"conversations:show",{slug:n.payload.slug});case Reamaze.ACTIONS.SAVE_CONVERSATION:var C=Math.floor(Date.now()/1e3),x=n.payload.formData,w={sso:e.currentUser.ssoData()};if(e.appContext.previewOptions&&(w.preview_options=e.appContext.previewOptions),x.push({name:"_zt",value:Reamaze.ec("0"+C)}),x.push({name:"_zt2",value:C}),x.push({name:"_url",value:window.location.href}),x.push({name:"_browser",value:Reamaze.Utils.massageUserAgent(window.navigator)}),x.push({name:"_zc_field",value:"5b5cd0da3121fc53b4bc84d0c8af2e81"}),x.push({name:"sparams",value:$jq.param(w)}),x.push({name:"__skip_bots",value:!e.appContext.allowBotProcessing}),E=e.conversations[n.payload.slug]){if(e.appContext._preview)return E.loaded=!0,E.pending=!1,e.conversations[n.payload.slug]=E,e;E.saving=!0,E.error=!1,e.conversations[n.payload.slug]=E,E.outbound&&E.outboundData&&x.push({name:"outbound_data_str",value:JSON.stringify(E.outboundData)});for(f=0;f<E.messages.length;f++)if(E.messages[f].pendingData&&!E.messages[f].user.displayAsStaff){u=E.messages[f];break}u&&(x.push({name:"customer_body",value:u.pendingData.customer_body}),x.push({name:"conversation[messages_attributes][0][body]",value:u.pendingData.message.body}),u.pendingData.message.attachment_ids&&u.pendingData.message.attachment_ids.length>0&&u.pendingData.message.attachment_ids.forEach((function(e){x.push({name:"conversation[messages_attributes][0][attachment_ids][]",value:e})})))}return x=x.filter((function(e){return""!==e.value})),e.effects.push({type:Reamaze.EFFECTS.API_POST_CONVERSATION,payload:{pendingSlug:n.payload.slug,formData:x}}),e;case Reamaze.ACTIONS.BUILD_MESSAGE:return(E=e.conversations[n.payload.slug])?(E.outbound&&(E.pending=!0,E.saving=!1,E.error=!1,E.messages.push({id:"*pending_0",user:{displayAsStaff:!1},createdAt:new Date,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(n.payload.data.message.body)),body_preview:n.payload.data.message.body,pendingData:n.payload.data})),e.conversations[n.payload.slug]=E,e):null;case Reamaze.ACTIONS.SHOW_PROMPT:return e.conversations[n.payload.conversationSlug]?(e.conversations[n.payload.conversationSlug].promptOptions=n.payload.options,e):null;case Reamaze.ACTIONS.REMOVE_PROMPT:return e.conversations[n.payload.conversationSlug]?(e.conversations[n.payload.conversationSlug].promptOptions=null,e):null;case Reamaze.Outbounds.ACTIONS.CREATE_OUTBOUND_CONVERSATION:var E,_=n.payload.outbound;return e.outboundConversations.createOutboundConversation(_.message,_.id,_.user,Date.now(),!_.id,_.buttons,e.appContext._preview?"function() {}":_.onClickScript,_.name,!!_.transient,!1,!!_.botsEnabled,_.end||0,!!_.auto,!!_.enableCustomFields,!!_.disableCueClick,e.appContext.shoutbox.slug),(E=e.outboundConversations.getConversation(_.id))&&(e.conversations[E.id]=E),e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CREATE_OUTBOUND_NOTIFICATION,payload:{outbound:_}}),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e;case Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION:var T=n.payload.ids||[];return n.payload.id&&T.push(n.payload.id),T.forEach((function(t){var n=e.outboundConversations.getConversation(t);e.outboundConversations.removeOutboundConversation(t),n&&e.conversations[n.id]&&e.conversations[n.id].outbound&&delete e.conversations[n.id],e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.DELETE_OUTBOUND_NOTIFICATION,payload:{id:t}})})),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e;default:return null}},rootEffectsHandler=function(e){switch(e.type){case Reamaze.EFFECTS.CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS:if(this.state.conversations&&Object.keys(this.state.conversations).length>0){var t=[];Object.keys(this.state.conversations).forEach(function(e){var n=this.state.conversations[e];if(n.unread&&n.newFromStaff){var r=n.messages[0];r.conversation={id:n.id,slug:n.slug};var a=this.notificationFromMessagePrompt(r);a.sound=!0,t.push(a)}}.bind(this)),t.length>0&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:t})}break;case Reamaze.EFFECTS.CREATE_MESSAGE_NOTIFICATION:if(this.refs.notifications&&(!this.state.popup||!this.state.appContext.shoutbox.open)){var n=this.notificationFromMessagePrompt(e.payload);n.renew=!0,this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[n]})}this.playSound();break;case Reamaze.EFFECTS.CLEAR_ALL_NOTIFICATIONS:this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_ALL_NOTIFICATIONS});break;case Reamaze.EFFECTS.PING_API:count=Object.keys(this.state.conversations).length,$jq.ajax({url:this.props.baseDataUrl+"/data/ping?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()}))+"&count="+count,cache:!this.state.appContext._preview,success:function(e){e.currentUser&&this.state.currentUser.set("_id",e.currentUser.id),this.state.appContext._preview&&"traditional"===this.state.appContext.contactMode&&(e.conversations=[]),this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.UPDATE_PING_DATA,payload:e})}.bind(this),complete:function(){this.state.pinging=!1}.bind(this)});break;case Reamaze.EFFECTS.PING_LIVE_STATUS:$jq.ajax({url:this.props.baseDataUrl+"/data/ping/live_status?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),cache:!this.state.appContext._preview,success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.UPDATE_LIVE_STATUS,payload:e})}.bind(this)});break;case Reamaze.EFFECTS.CALL_UNREAD_CALLBACK:"function"==typeof this.props.unreadCallbackFunc&&this.props.unreadCallbackFunc({count:e.payload.unreadCount});break;case Reamaze.EFFECTS.POPUP_OPENED:if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!e.payload.minimized){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);parseInt(r[1],10),parseInt(r[2],10);$jq("body").data("rmz-initial-pos",$jq("body").css("position")),$jq("body").data("rmz-initial-min-width",$jq("body").css("min-width")),$jq("body").data("rmz-initial-scroll",$jq("html").scrollTop()),$jq("body").data("rmz-initial-top",$jq("body").css("top")),$jq("body").data("rmz-initial-left",$jq("body").css("left")),$jq("body").data("rmz-initial-right",$jq("body").css("right")),$jq("body").css({position:"fixed"}),$jq("body").css({top:-$jq("body").data("rmz-initial-scroll"),left:0,right:0}),$jq("body").css({minWidth:"100%"}),$jq("meta[name=viewport]").length>=1&&(this.$metaNoZoom=$jq('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />'),this.$metaNoZoom.appendTo($jq("head")))}e.payload.minimized||($jq(window).trigger("Reamaze.popupOpened"),document.dispatchEvent(new CustomEvent("Reamaze.ShopifyCheckout.popupOpened")));break;case Reamaze.EFFECTS.API_GET_BRAND_DATA:$jq.ajax({url:"https://"+this.props.cdnDomain+"/data/brands/"+this.state.appContext.brand.url+"/ping",cache:!this.state.appContext._preview,success:function(e){var t=this.state.appContext;t.brand=$jq.extend({},t.brand,e),this.setState({appContext:t})}.bind(this),complete:function(){this.setState({fetchingBrandData:!1})}.bind(this)});break;case Reamaze.EFFECTS.TRACK_EVENT:Reamaze.Analytics.track(e.payload.action,e.payload.label,e.payload.value,!!e.payload.nonInteraction)}},conversationsEffectsHandler=function(effect){switch(effect.type){case Reamaze.EFFECTS.API_GET_CONVERSATIONS:$jq.ajax({url:this.props.baseDataUrl+"/data/conversations?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS_CALLBACK,payload:e.conversations})}.bind(this)});break;case Reamaze.EFFECTS.API_GET_CONVERSATION:$jq.ajax({url:this.props.baseDataUrl+"/data/conversations/"+effect.payload.slug+"?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION_CALLBACK,payload:e.conversation})}.bind(this),complete:function(){this.state.conversations[effect.payload.slug].fetching=!1}.bind(this)});break;case Reamaze.EFFECTS.API_POST_CONVERSATION:$jq.ajax({url:this.state.appContext.baseDataUrl+"/data/conversations",type:"POST",data:effect.payload.formData,success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED,payload:{conversation:e.conversation,user:e.user,pendingSlug:effect.payload.pendingSlug}})}.bind(this),error:function(e){var t=this.state.conversations[effect.payload.pendingSlug];t.error=!0,t.errors=Reamaze.ErrorMap(e.responseJSON.conversation),t.saving=!1,this.setState({conversations:this.state.conversations})}.bind(this),crossDomain:!0});break;case Reamaze.EFFECTS.CREATE_OUTBOUND_NOTIFICATION:var outbound=effect.payload.outbound,notification={message:outbound.message,name:outbound.name,id:outbound.id,buttons:outbound.buttons,user:outbound.user,onClickScript:this.state.appContext._preview?"function() {}":outbound.onClickScript,sound:outbound.sound,transient:!!outbound.transient,botsEnabled:!!outbound.botsEnabled,disableCueClick:!!outbound.disableCueClick,expires:outbound.end||0,isCue:!0,duration:outbound.duration};notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.disableCueClick||(notification.onClick=function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.state.outboundConversations.getConversation(notification.id).slug}}})}.bind(this)),this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[notification]}),notification.duration&&setTimeout((function(){Reamaze.removeCue(notification.id)}),1e3*notification.duration);break;case Reamaze.EFFECTS.DELETE_OUTBOUND_NOTIFICATION:this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS,payload:[effect.payload.id]})}};Reamaze.ReamazeJS=createReactClass({displayName:"Reamaze.ReamazeJS",mixins:[TimerMixin],propTypes:{widgetOpts:PropTypes.any,popupOpts:PropTypes.object,baseUrl:PropTypes.string,baseDataUrl:PropTypes.string,account:PropTypes.string,appDomain:PropTypes.string,cdnDomain:PropTypes.string,pusherAppKey:PropTypes.string,currentUser:PropTypes.object,customFields:PropTypes.object,trans:PropTypes.object,font:PropTypes.string,contactMode:PropTypes.string,shoutboxFacesMode:PropTypes.string,shoutboxHeaderLogo:PropTypes.bool,shoutboxFontSize:PropTypes.string,shoutboxSlug:PropTypes.string,faces:PropTypes.array,unreadCallbackFunc:PropTypes.func,enableKb:PropTypes.bool,allowBotProcessing:PropTypes.bool,enableBrowserTabAlerting:PropTypes.bool,pushNotifications:PropTypes.bool,route:PropTypes.string,routeParams:PropTypes.object,styles:PropTypes.object,_preview:PropTypes.bool,brandData:PropTypes.object,pushPrompt:PropTypes.oneOfType([PropTypes.bool,PropTypes.object]),outbounds:PropTypes.array,apps:PropTypes.object,hasTouch:PropTypes.bool,isMobileBrowser:PropTypes.bool,isMobileDevice:PropTypes.bool,overrides:PropTypes.shape({confirmationMessage:PropTypes.string})},pusher:null,getDefaultProps:function(){return{font:"normal normal 13px/17px Nunito, Helvetica, Arial, sans-serif"}},getInitialState:function(){var e={baseUrl:this.props.baseUrl,baseDataUrl:this.props.baseDataUrl,appDomain:this.props.appDomain,cdnDomain:this.props.cdnDomain,getPusher:this._getPusher,contactMode:this.props.contactMode,allowBotProcessing:this.props.allowBotProcessing,previewOptions:this.props.previewOptions,shoutboxFacesMode:this.props.shoutboxFacesMode,shoutboxFontSize:this.props.shoutboxFontSize,shoutboxHeaderLogo:this.props.shoutboxHeaderLogo,faces:this.props.faces,fullScreen:window.innerWidth<=767&&!this.props._preview,hasTouch:this.props.hasTouch,isMobileBrowser:this.props.isMobileBrowser,_preview:this.props._preview,brand:$jq.extend({},this.props.brandData,{styles:Reamaze.Styles.fromBrand(this.props.brandData?this.props.brandData:null,this.props.styles),url:this.props.account}),shoutbox:{open:!1,slug:this.props.widgetOpts.slug||""},customFields:this.props.customFields||{},route:this.props.route,routeParams:this.props.routeParams||{},prevRoute:this.props.route,prevRouteParams:{},apps:this.props.apps,appOrder:this.props.appOrder,documentVisible:!this.getDocumentHidden(),overrides:this.props.overrides},t=new Reamaze.Dispatcher;t.register(function(e){var t=$jq.extend({},this.state);t.effects=[];var n=(t=$jq.extend(null,rootStateReducer(t,this.props,e),conversationsStateReducer(t,this.props,e))).effects;delete t.effects,t&&Object.keys(t).length>0&&this.setState(t),n&&n.length>0&&(n.forEach(rootEffectsHandler.bind(this)),n.forEach(conversationsEffectsHandler.bind(this)))}.bind(this)),e.dispatcher=t;var n=new Reamaze.OutboundConversations,r={popup:null,messagePrompts:{},ping:null,unreadCount:0,currentUser:this.props.currentUser,notificationCount:0,outboundConversations:n,conversations:n.getConversations()||{},conversationsFetched:!1,fetchingConversations:!1,conversationsLastFetched:Date.now(),hide:!1,outbounds:(this.props.outbounds||[]).map((function(e){return e.auto=!0,e})),appContext:e,videoCallInformation:{},videoCallAnswered:!1},a=document.createElement("audio");return this.audioSupported=!this.props.disableAudio&&!!(a.setAttribute&&a.canPlayType&&a.canPlayType("audio/mpeg;").replace(/no/,"")),r},componentDidUpdate:function(){try{Reamaze.localStorage.setItem("messagePrompts.state",JSON.stringify(this.state.messagePrompts))}catch(e){Reamaze.localStorage.removeItem("messagePrompts.state")}this.state.appContext.route?Reamaze.localStorage.setItem("route",this.state.appContext.route):Reamaze.localStorage.removeItem("route"),this.state.appContext.shoutbox.open?(Reamaze.localStorage.removeItem("popup.minimized"),Reamaze.localStorage.removeItem("chat.minimized")):Reamaze.localStorage.setItem("chat.minimized",1);try{Reamaze.localStorage.setItem("routeParams",JSON.stringify(this.state.appContext.routeParams))}catch(e){Reamaze.localStorage.removeItem("routeParams")}this.subscribeConversationChannels()},componentDidMount:function(){this._resizeHandler=$jq.debounce(500,this._resizeHandler),$jq(window).on("resize",this._resizeHandler),$jq(window).on("keyup",this._escKeyHandler),this.props.popupOpts&&this.props.popupOpts.trigger&&$jq(document.body).on("click",this.props.popupOpts.trigger,this._popupTriggerHandler),$jq(document.body).on("click","[data-reamaze-lightbox]",this._popupHandler),$jq(document.body).on("click","[data-kb-topic],[data-kb-url],[data-kb-article]",this._kbTooltipHandler),$jq(window).on("Reamaze.openPopup",this._openPopupTrigger),$jq(window).on("Reamaze.closePopup",this._closePopupTrigger),$jq(window).on("Reamaze.navigate",this._handleNavigation),$jq(window).on("Reamaze.Widget.route",this._onWidgetRouteEvent),$jq(window).on("Reamaze.pusherSetupComplete",function(){this.forceUpdate()}.bind(this)),$jq(window).on("Reamaze.notify",this.onNotify),$jq(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.toggleDisplayOnFullScreenElement),$jq(document).on("Reamaze.Outbounds.new",this.onNewOutbound),$jq(document).on("Reamaze.Outbounds.remove",this.onRemoveOutbound),$jq(document).on("Reamaze.Outbounds.removeAll",this.onRemoveAllOutbounds),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this._restoreState();var e=document.createElement("iframe");this.pusherIframe=e,e.style.setProperty("width",0,"important"),e.style.setProperty("height",0,"important"),e.style.display="none",document.body.appendChild(e);var t=e.contentDocument;t.open(),t.close();var n=document.createElement("script");n.type="text/javascript",n.src="https://cdnjs.cloudflare.com/ajax/libs/pusher/7.0.1/pusher.min.js",t.head.appendChild(n);var r=function(){e.contentWindow.Pusher?Reamaze.setupPusher(e.contentWindow.Pusher):this.setTimeout(r,200)}.bind(this);r(),this.subscribeConversationChannels(),this.setInterval(this.pingForSSOUsers,12e4)},componentWillUnmount:function(){$jq(window).off("resize",this._resizeHandler),$jq(window).off("keyup",this._escKeyHandler),this.props.popupOpts&&this.props.popupOpts.trigger&&$jq(document.body).off("click",this.props.popupOpts.trigger,this._popupTriggerHandler),$jq(document.body).off("click","[data-reamaze-lightbox]",this._popupHandler),$jq(document.body).off("click","[data-kb-topic],[data-kb-url],[data-kb-article]",this._kbTooltipHandler),$jq(window).off("Reamaze.openPopup",this._openPopupTrigger),$jq(window).off("Reamaze.closePopup",this._closePopupTrigger),$jq(window).off("Reamaze.Widget.route",this._onWidgetRouteEvent),$jq(window).off("Reamaze.pusherSetupComplete"),$jq(window).off("Reamaze.notify",this.onNotify),$jq(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.toggleDisplayOnFullScreenElement),$jq(document).off("Reamaze.Outbounds.new",this.onNewOutbound),$jq(document).off("Reamaze.Outbounds.remove",this.onRemoveOutbound),$jq(document).off("Reamaze.Outbounds.removeAll",this.onRemoveAllOutbounds),document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.pusher&&this.pusher.disconnect(),this.pusherIframe&&(document.body.removeChild(this.pusherIframe),Reamaze.Pusher=void 0)},handleVisibilityChange:function(){var e=this.state.appContext;this.state.appContext.isMobileBrowser&&!this.getDocumentHidden()&&Date.now()-this.state.conversationsLastFetched>5e3&&this.setState({conversationsFetched:!1},function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS})}.bind(this)),this.state.appContext.documentVisible!=!this.getDocumentHidden()&&(e.documentVisible=!this.state.appContext.documentVisible,this.setState({appContext:e}))},getDocumentHidden:function(){try{if("hidden"in document)return document.hidden;for(var e=["webkit","moz","ms","o"],t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return document[e[t]+"Hidden"]}catch(e){}return null},pingForSSOUsers:function(){this.state.currentUser.isSSOUser()&&this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})},toggleDisplayOnFullScreenElement:function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,t=!!e;$jq(e).parents("#reamaze-container").length&&(t=!1),this.setState({hide:t})},conversationsSubscribed:{},subscribeConversationChannels:function(){var e=this;if(Reamaze.Pusher&&!this.state.appContext._preview&&0!=Object.keys(this.state.conversations).length){var t=0,n=Object.keys(this.state.conversations).reduce(function(e,t){var n=this.state.conversations[t];return n&&n.id&&e.push(n),e}.bind(this),[]);n=n.filter((function(e){var t=new Date;t.setMonth(t.getMonth()-1);var n=e.outbound||e.pending,r=e.messages&&e.messages.length>0&&e.messages[e.messages.length-1].createdAt&&new Date(e.messages[e.messages.length-1].createdAt)<t;return!n&&!r}));for(var r=n.sort((function(e,t){var n=new Date(e.messages&&e.messages.length>0?e.messages[e.messages.length-1].createdAt:e.last_message_timestamp),r=new Date(t.messages&&t.messages.length>0?t.messages[t.messages.length-1].createdAt:t.last_message_timestamp);return n==r?0:n<r?1:-1})),a=0;a<r.length&&!(t>=8);a++){var o=this._getPusher(),i=r[a],s=i.slug;t+=1;var p="presence-conversation-"+i.id;if(!o.channel(p)||!this.conversationsSubscribed[s]){var l=o.subscribe(p);l.bind("pusher:subscription_succeeded",function(){this.state.conversations[s].botsEnabled&&!this.state.conversations[s].botHandoverTimestamp&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:s}})}.bind(this,l)),l.bind("pusher:member_added",function(){}.bind(this,l)),l.bind("show-prompt",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SHOW_PROMPT,payload:{conversationSlug:t.slug,options:t.options}})}.bind(this,l)),l.bind("remove-prompt",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.REMOVE_PROMPT,payload:{conversationSlug:t}})}.bind(this,l)),Reamaze.Utils.Pusher.bindChunked(l,"messages/new",function(e,t,n){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{conversationSlug:e,conversationId:t,message:n.message}})}.bind(this,s,i.id)),l.bind("messages/show_conversation_started_message",function(e,t,n){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_STARTED_MESSAGE_TRIGGERED,payload:{conversationSlug:e,conversationId:t,message:n.message}})}.bind(this,s,i.id)),l.bind("messages/collect_c2_identity",function(e,t,n){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.COLLECT_C2_IDENTITY,payload:{conversationSlug:e,conversationId:t,message:n.message}})}.bind(this,s,i.id)),l.bind("messages/read",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_READ,payload:{conversationSlug:e,messageId:t.message_id}})}.bind(this,s)),l.bind("conversation/update",function(e,t){var n;1==t.archived&&(n={status:"archived"},t.satisfactionRating&&(n.satisfactionRating=t.satisfactionRating)),1==t.deleted&&(n={status:"deleted"}),"archived"!==n.status&&"deleted"!==n.status||this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:e,props:n}})}.bind(this,s)),l.bind("client-conversation:video_call_start",function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_OFFER,payload:{data:e,channel:l}})}.bind(this)),l.bind("client-conversation:add_candidate",(function(t){e.state.videoCallInformation&&e.state.videoCallInformation.peerConnection&&e.state.videoCallInformation.peerConnection.addIceCandidate(new RTCIceCandidate(t.candidate))})),this.conversationsSubscribed[s]=!0}}}},onNewOutbound:function(e,t){this.setState((function(e){var n=JSON.parse(JSON.stringify(e.outbounds||[]));return n.push(t),{outbounds:n}}))},onRemoveOutbound:function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{id:t}})},onRemoveAllOutbounds:function(){var e=this.state.outboundConversations.getOutboundConversations();if(e){var t=Object.keys(e);this.state.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{ids:t}})}},_onWidgetRouteEvent:function(e,t){var n=_route(this.state,t.route,t.routeParams);this.setState({appContext:n.appContext})},playSound:function(){if(this.refs.newMessageSound){var e=ReactDOM.findDOMNode(this.refs.newMessageSound).play();e&&e.then((function(){})).catch((function(){}))}},getWidget:function(){if(this.props.widgetOpts){var e=$jq.extend(!0,{},this.props.widgetOpts);return e.color=this.state.appContext.brand.styles.widgetColor,e.gradient=this.state.appContext.brand.styles.gradient,e.iconColor=this.state.appContext.brand.styles.widgetIconColor,React.createElement(Reamaze.Widget.Widget,_extends({},e,{openPopupFunc:this._openPopup,closePopupFunc:this._closePopup,conversations:this.state.conversations,unreadCount:this.state.unreadCount,hideLabel:this.state.notificationCount>0,appContext:this.state.appContext,enableBrowserTabAlerting:this.props.enableBrowserTabAlerting}))}return null},getPopup:function(){if(!this.state.popup)return null;this.state.conversationsFetched||this.state.fetchingConversations||this.setState({fetchingConversations:!0},this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS}));var e=[],t=$jq.extend({},this.props.popupOpts||{},this.state.popup);return e.push(React.createElement(Reamaze.Shoutbox,{popupOptions:t,ping:this.state.ping,conversations:this.state.conversations,conversationsFetched:this.state.conversationsFetched,enableKb:this.props.enableKb,currentUser:this.state.currentUser,closePopup:this._closePopup,key:"shoutbox",appContext:this.state.appContext,label:this.props.widgetOpts&&this.props.widgetOpts.label?this.props.widgetOpts.label:{},videoCallInformation:this.state.videoCallInformation,videoCallAnswered:this.state.videoCallAnswered,brandData:this.props.brandData})),e},onNotify:function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[t]})},_openPopupTrigger:function(e,t){this._openPopup.apply(this,[t])},_openPopup:function(e){e=e||{},this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:e})},_closePopupTrigger:function(e){this._closePopup.apply(this,Array.prototype.slice.call(arguments).splice(1,arguments.length))},_closePopup:function(){this.state.appContext.shoutbox.open=!1,this.setState({appContext:this.state.appContext},(function(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&($jq("body").data("rmz-initial-pos")&&($jq("body").css({position:$jq("body").data("rmz-initial-pos")}),$jq("body").data("rmz-initial-pos",null)),$jq("body").data("rmz-initial-min-width")&&($jq("body").css({minWidth:$jq("body").data("rmz-initial-min-width")}),$jq("body").data("rmz-initial-min-width",null)),($jq("body").data("rmz-initial-scroll")||0===$jq("body").data("rmz-initial-scroll"))&&($jq("html").scrollTop($jq("body").data("rmz-initial-scroll")),$jq("body").data("rmz-initial-scroll",null)),($jq("body").data("rmz-initial-top")||0===$jq("body").data("rmz-initial-top"))&&($jq("body").css({top:$jq("body").data("rmz-initial-top")}),$jq("body").data("rmz-initial-top",null)),($jq("body").data("rmz-initial-left")||0===$jq("body").data("rmz-initial-left"))&&($jq("body").css({left:$jq("body").data("rmz-initial-left")}),$jq("body").data("rmz-initial-left",null)),($jq("body").data("rmz-initial-right")||0===$jq("body").data("rmz-initial-right"))&&($jq("body").css({right:$jq("body").data("rmz-initial-right")}),$jq("body").data("rmz-initial-right",null)),this.$metaNoZoom&&(this.$metaNoZoom.remove(),this.$metaNoZoom=null)),Reamaze.Analytics.track("Shoutbox Closed")})),$jq(window).trigger("Reamaze.popupClosed"),document.dispatchEvent(new CustomEvent("Reamaze.ShopifyCheckout.popupClosed"))},_escKeyHandler:function(e){27==e.which&&this._closePopup()},_handleNavigation:function(e,t){t._url&&"_popup"==t._name&&(Reamaze.localStorage.setItem("route","kb:index"),Reamaze.localStorage.setItem("routeParams",JSON.stringify({path:t._url})),this.state.appContext=Object.assign({},this.state.appContext,{routeParams:{path:t._url}}))},_resizeHandler:function(){this.state.appContext.fullScreen=window.innerWidth<=767&&!this.state.appContext._preview,this.setState({appContext:this.state.appContext})},_kbTooltipHandler:function(e){e.preventDefault()
;var t=$jq(e.target),n=t.data("kbUrl"),r=t.data("kbArticle"),a=t.data("kbTopic"),o=!!$jq(e.currentTarget).data("reamaze-lightbox-anchored");if(a||r||n){var i,s=null;if(n){i=n;var p=n.indexOf("#");-1!=p&&(s=i.substring(p),i=i.substring(0,p))}else i="/kb/"+(a||"articles")+(r?"/"+r:"");i&&(i+=(i.indexOf("?")>0?"&":"?")+"ts="+Date.now(),this._openPopup({anchor:o,route:"kb:show",routeParams:{path:i,anchor:s}}))}},_popupHandler:function(e){e.preventDefault();var t=$jq(e.currentTarget).data("reamaze-lightbox-title"),n=$jq(e.currentTarget).data("reamaze-lightbox-width")||550,r=$jq(e.currentTarget).data("reamaze-lightbox-height")||600,a=!!$jq(e.currentTarget).data("reamaze-lightbox-anchored"),o=$jq(e.currentTarget).data("reamaze-lightbox-contact-mode")||null,i=$jq(e.currentTarget).data("reamaze-lightbox-disable-chat")||!1,s=$jq(e.currentTarget).data("reamaze-lightbox-channel")||null,p=$jq(e.currentTarget).data("reamaze-lightbox-placeholder")||null,l=$jq(e.currentTarget).data("reamaze-lightbox-subject")||null,c=null;return $jq(e.currentTarget).data("reamaze-lightbox")&&"default"!=$jq(e.currentTarget).data("reamaze-lightbox")&&(c=$jq(e.currentTarget).data("reamaze-lightbox")),this._openPopup({anchor:a,title:t,width:n,height:r,mode:c,disableChat:i,contactMode:o,category:s,override_placeholder:p,subject:l}),!1},_popupTriggerHandler:function(e){return this._openPopup(),e.preventDefault(),!1},_getPusher:function(){if(!Reamaze.Pusher)throw"Pusher No Conflict Mode: Pusher not ready.";return this.pusher||(this.pusher=new Reamaze.Pusher(this.props.pusherAppKey,{authTransport:"buffered",authDelay:200,authEndpoint:this.props.baseUrl+"/data/pusher/buffered_auth",encrypted:!0,activityTimeout:6e4,pongTimeout:15e3,auth:function(e){var t={params:{}};return t.params.ssos=$jq.param(e.ssoData()),t.params.url=window.location.href,t}.bind(this,this.state.currentUser)})),this.pusher},_restoreState:function(){if(!this.state.appContext._preview){var e=JSON.parse(Reamaze.localStorage.getItem("messageTemplate.lastAction")||"{}"),t=!1;Object.keys(e).length&&e.name.indexOf("article")>-1&&(t=!!e.timestamp&&Date.now()-parseInt(e.timestamp)<1e4);var n,r,a=Reamaze.localStorage.getItem("route"),o=Reamaze.localStorage.getItem("chat.minimized")||Reamaze.localStorage.getItem("popup.minimized")||this.state.appContext.fullScreen||t;try{n=JSON.parse(Reamaze.localStorage.getItem("routeParams"))||{}}catch(e){n=null}try{r=JSON.parse(Reamaze.localStorage.getItem("messagePrompts.state"))||{}}catch(e){r={}}"conversations:new"==a||"conversations:index"==a||"hub:index"==a?(a=null,n={}):"kb:index"!=a||"kb"==this.props.popupOpts.mode||n?"conversations:show"===this.props.route&&this.props.routeParams&&(a=this.props.route,n=this.props.routeParams):(a="conversations:new",n={}),"/shopify_checkout_extension"==window.location.pathname&&(a=null,n={}),this.state=_route(this.state,a,n),this.setState({appContext:this.state.appContext,messagePrompts:r},function(){if(this.state.appContext.route)this._openPopup({minimized:!!o});else if(this.state.currentUser.isIdentified()){var e=6e4*Math.random()+3e3;(this.state.currentUser.isSSOUser()||this.state.currentUser.getConversationTokens().length>0)&&(e=3e3*Math.random()+1e3),this.setTimeout(function(){this._openPopup({minimized:!this.state.appContext.shoutbox.open})}.bind(this),e)}if(this.refs.notifications){var t=this.getNotifications();t&&t.length>0&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:t})}}.bind(this))}},getNotifications:function(){var notifications=[],outboundConversations=this.state.outboundConversations.getOutboundConversations();return this.state.messagePrompts&&0!=Object.keys(this.state.messagePrompts).length||0!=Object.keys(outboundConversations).length?(Object.keys(this.state.messagePrompts).forEach(function(e){var t=this.notificationFromMessagePrompt(this.state.messagePrompts[e]);t&&notifications.push(t)}.bind(this)),Object.keys(outboundConversations).forEach(function(k){var notification=outboundConversations[k];notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.onClick=function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.state.outboundConversations.getConversation(notification.id).slug}}})}.bind(this),notification.sound=!1,notifications.push(notification)}.bind(this)),notifications):notifications},notificationFromMessagePrompt:function(e){if(e.user.displayAsStaff){var t=document.createElement("div");t.innerHTML=e.body||this.props.brandData.preferences.trans_new_message_prompt;var n=t.textContent||t.innerText||"";return{id:"c-"+e.conversation.id,message:n,size:"preview",user:{type:"staff",avatarUrls:[e.user.avatarUrl],name:e.user.name},timestamp:new Date(e.createdAt).getTime(),type:"message",sound:!1,onClick:function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.VIEW_CONVERSATION,payload:{slug:e.conversation.slug}})}.bind(this)}}},render:function(){var e={};return this.props.widgetOpts&&this.props.widgetOpts.position?(this.props.widgetOpts.position.top?e.top=parseInt(this.props.widgetOpts.position.top,10)+parseInt(this.props.widgetOpts.size,10):this.props.widgetOpts.position.bottom&&(e.bottom=parseInt(this.props.widgetOpts.position.bottom,10)+parseInt(this.props.widgetOpts.size,10)),this.props.widgetOpts.position.left?e.left=this.props.widgetOpts.position.left:this.props.widgetOpts.position.right&&(e.right=this.props.widgetOpts.position.right)):e={bottom:20,right:20},React.createElement("div",{id:"reamaze-widget-container",style:{font:this.props.font,display:this.state.hide?"none":"block"}},this.audioSupported&&React.createElement("audio",{ref:"newMessageSound",preload:"none"},React.createElement("source",{src:"https://"+this.props.cdnDomain+"/audio/snapup.mp3",type:"audio/mpeg"}),React.createElement("source",{src:"https://"+this.props.cdnDomain+"/audio/snapup.ogg",type:"audio/ogg"})),!!Reamaze.Pusher&&!(this.state.appContext.fullScreen&&this.state.notificationCount>0)&&this.getWidget(),!!Reamaze.Pusher&&this.getPopup(),React.createElement(Reamaze.Notifications.App,{anchor:e,playSound:this.playSound,updateNotificationCount:function(e){this.setState({notificationCount:e})}.bind(this),ref:"notifications",appContext:this.state.appContext,outboundConversations:this.state.outboundConversations,videoCallInformation:this.state.videoCallInformation}),this.props.pushNotifications&&React.createElement(Reamaze.PushAgent,{subscribed:!0===this.props.pushNotifications||1==this.props.pushNotifications.subscribed||void 0===this.props.pushNotifications.subscribed,appContext:this.state.appContext,currentUser:this.state.currentUser,customVapidToken:"object"==typeof this.props.pushNotifications&&null!==this.props.pushNotifications?this.props.pushNotifications.customVapidToken:void 0}),React.createElement(Reamaze.Outbounds.App,{currentUser:this.props.currentUser,outbounds:this.state.outbounds||[],outboundConversations:this.state.outboundConversations,appContext:this.state.appContext}),React.createElement(Reamaze.Live.App,{currentUser:this.state.currentUser,appContext:this.state.appContext}),this.props.pushPrompt&&React.createElement(Reamaze.PushPrompt.App,{currentUser:this.state.currentUser,appContext:this.state.appContext,pushPrompt:this.props.pushPrompt}))}})})(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze"),Reamaze.RectSpinner=n({displayName:"Reamaze.RectSpinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{height:"30px",width:"30px"}}},shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.style||{};return t.createElement("div",{style:e},this.getStyleTag(),t.createElement("div",{className:"reamaze-rect-spinner"}," "))},getStyleTag:function(){return t.createElement("style",null,"\n          .reamaze-rect-spinner,\n          .reamaze-rect-spinner:before,\n          .reamaze-rect-spinner:after {\n            background: "+this.props.xColor+";\n            -webkit-animation: load1 1s infinite ease-in-out;\n            animation: load1 1s infinite ease-in-out;\n            width: "+parseInt(this.props.style.width)/4+"px;\n            height: "+.8*parseInt(this.props.style.height)+"px;\n          }\n          .reamaze-rect-spinner {\n            color: "+this.props.xColor+";\n            text-indent: -9999em;\n            margin: 0;\n            position: relative;\n            font-size: 11px;\n            -webkit-transform: translateZ(0);\n            -ms-transform: translateZ(0);\n            transform: translateZ(0);\n            -webkit-animation-delay: -0.16s;\n            animation-delay: -0.16s;\n          }\n          .reamaze-rect-spinner:before,\n          .reamaze-rect-spinner:after {\n            position: absolute;\n            top: 0;\n            content: '';\n          }\n          .reamaze-rect-spinner:before {\n            left: -"+parseInt(this.props.style.width)/2.5+"px;\n            -webkit-animation-delay: -0.32s;\n            animation-delay: -0.32s;\n          }\n          .reamaze-rect-spinner:after {\n            left: "+parseInt(this.props.style.width)/2.5+"px;\n          }\n          @-webkit-keyframes load1 {\n            0%,\n            80%,\n            100% {\n              box-shadow: 0 0;\n              height: "+.8*parseInt(this.props.style.height)+"px;\n            }\n            40% {\n              box-shadow: 0 -"+parseInt(this.props.style.height)/3.3+"px;\n              height: "+parseInt(this.props.style.height)+"px;\n            }\n          }\n          @keyframes load1 {\n            0%,\n            80%,\n            100% {\n              box-shadow: 0 0;\n              height: "+.8*parseInt(this.props.style.height)+"px;\n            }\n            40% {\n              box-shadow: 0 -"+parseInt(this.props.style.height)/3.3+"px;\n              height: "+parseInt(this.props.style.height)+"px\n            }\n          }\n\n        ")}})}(jQuery,React,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},reamaze,_support;!function(e,t,n,r){e.namespace("Reamaze");ReactTransitionGroup.CSSTransitionGroup;Reamaze.Shoutbox=n({displayName:"Reamaze.Shoutbox",propTypes:{ping:r.object,conversations:r.object,conversationsFetched:r.bool,enableKb:r.bool,currentUser:r.object,closePopup:r.func,popupOptions:r.shape({zIndex:r.number,width:r.oneOfType([r.string,r.number]),height:r.oneOfType([r.string,r.number]),xColor:r.string,anchor:r.any,mode:r.string,supportsFullScreen:r.bool,disableChat:r.bool,category:r.string,contactMode:r.string}),label:r.object,appContext:r.object.isRequired,videoCallInformation:r.object,videoCallAnswered:r.bool},getDefaultProps:function(){return{}},getInitialState:function(){return{appMounted:!this.props.popupOptions.anchor}},getApps:function(){return this.props.appContext.route?[t.createElement(Reamaze.Hub.App,{chatIsLive:!(this.props.popupOptions.disableChat||!this.props.appContext.chatIsLive),enableKb:this.props.enableKb,currentUser:this.props.currentUser,onAppMounted:this.onAppMounted,active:0===this.props.appContext.route.indexOf("hub:")&&!this.props.popupOptions.path,key:"hub",contactHeader:this.props.popupOptions.title,category:this.props.popupOptions.category,appContext:this.props.appContext,label:this.props.label||{},conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,videoCallInformation:this.props.videoCallInformation,brandData:this.props.brandData}),t.createElement(Reamaze.Conversations.App,{chatIsLive:!(this.props.popupOptions.disableChat||!this.props.appContext.chatIsLive),contactMode:this.props.popupOptions.contactMode||this.props.appContext.contactMode,enableKb:this.props.enableKb,currentUser:this.props.currentUser,onAppMounted:this.onAppMounted,active:0===this.props.appContext.route.indexOf("conversations:")&&!this.props.popupOptions.path,key:"conversations",contactHeader:this.props.popupOptions.title,conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,category:this.props.popupOptions.category,appContext:this.props.appContext,label:this.props.label||{},popupOptions:this.props.popupOptions||{},videoCallInformation:this.props.videoCallInformation,brandData:this.props.brandData}),t.createElement(Reamaze.KB.App,{enableKb:this.props.enableKb,currentUser:this.props.currentUser,active:0===this.props.appContext.route.indexOf("kb:")||!!this.props.popupOptions.path,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"kb",conversations:this.props.conversations,appContext:this.props.appContext,videoCallInformation:this.props.videoCallInformation}),t.createElement(Reamaze.Status.App,{currentUser:this.props.currentUser,active:0===this.props.appContext.route.indexOf("status:")||!!this.props.popupOptions.path,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"status",conversations:this.props.conversations,appContext:this.props.appContext,videoCallInformation:this.props.videoCallInformation}),t.createElement(Reamaze.VideoCall.App,{currentUser:this.props.currentUser,active:this.state.videoCallActivated,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"video_call",appContext:this.props.appContext,videoCallInformation:this.props.videoCallInformation,videoCallAnswered:this.props.videoCallAnswered})]:null},onAppMounted:function(){this.setState({appMounted:!0})},render:function(){var e=this.props,n=e.appContext,r=e.ping,a=e.closePopup,o=this.props.popupOptions,i=o.height,s=_objectWithoutProperties(o,["height"]),p=this.getApps();return i||(i=650),p?t.createElement("div",null,t.createElement("style",null,"\n              .rmz-shoutbox-popup-container .rmz-shoutbox-frame-container {\n                opacity: 0;\n                -webkit-transition: opacity 200ms ease-in;\n                -moz-transition: opacity 200ms ease-in;\n                -o-transition: opacity 200ms ease-in;\n                -ms-transition: opacity 200ms ease-in;\n                transition: opacity 200ms ease-in;\n              }\n            "),t.createElement("div",{className:"rmz-shoutbox-popup-container"},t.createElement(Reamaze.Popup.Popup,_extends({key:"popup",ref:"popup"},s,{maxHeight:i,height:i,minHeight:200,appContext:n}),!this.state.appMounted&&t.createElement(Reamaze.Popup.Spinner,{ref:"popupSpinner",xColor:n.brand.styles.widgetColor}),t.createElement(Reamaze.Popup.BrandedFrame,{ping:r,hidden:!this.state.appMounted,closePopup:a,appContext:n},t.createElement(Reamaze.ShoutboxInit,{closePopup:a,appContext:n}),p),t.createElement(Reamaze.Popup.CloseX,{ref:"popupCloseX",onClick:a,color:n.brand.styles.headerFontColor,appContext:n,fontSize:"25px",height:"50px",width:"64px",textAlign:"right",padding:"18px 12px 12px 12px",top:"0",right:"5px"})))):null}}),Reamaze.ShoutboxInit=n({displayName:"Reamaze.ShoutboxInit",contextTypes:{window:r.object},componentDidMount:function(){e(this.context.window).on("keyup",this.keyHandler)},keyHandler:function(t){e(t.target).is(":input")||27==t.which&&this.props.closePopup()},render:function(){var e=this.props.appContext.fullScreen?"36px":"52px",n=this.props.appContext.brand.styles,r=Reamaze.Utils.pSBC(.95,n.headerBgColor)||"#fafafa";Reamaze.Utils.pSBC(.55,n.headerBgColor);return t.createElement("style",null,"\n        #header .nav-c {\n          display: table-cell;\n          vertical-align: top;\n          text-align: center;\n        }\n        #header .nav-c-l, #header .nav-c-r {\n          width: 35px;\n        }\n        #header #secondary-header {\n          text-align: center;\n          font-size: "+(this.props.appContext.fullScreen?"0.9em":"1em")+";\n          margin: 1em 1em 0 1em;\n        }\n        #header #secondary-header .staff-avatars {\n          margin-bottom: 0.8em;\n          height: "+e+";\n        }\n        #header .staff-avatars {\n          height: "+e+";\n        }\n        #header #secondary-header .staff-avatars img, \n        #header .staff-avatars img {\n          width: "+e+";\n          height: "+e+";\n          object-fit: cover;\n          border-radius: "+e+";\n          margin-left: -10px;\n          background: #fff;\n          border: 1px solid #fff;\n          display: inline-block;\n          color: #0000;\n        }\n        #header #secondary-header .staff-avatars img:first-child {\n          margin-left: 0;\n        }\n        #header #secondary-header .availability {\n          font-size: 0.9em;\n        }\n        #header #secondary-header a {\n          margin: 0 15px;\n        }\n        #secondary-header #misc-channels,\n        #secondary-header #chat-actions {\n          margin: 0.8em 2em 0 2em;\n          padding-top: 0.8em;\n          border-top: 1px solid rgba(255,255,255,0.5);\n        }\n        @media screen and (max-width: 480px) {\n          #secondary-header #misc-channels,\n          #secondary-header #chat-actions {\n            margin: 0.8em 0 0 0;\n          }\n        }\n        #secondary-header #misc-channels a {\n          margin: 0 15px;\n          display: inline-block;\n          font-size: 1.4em;\n        }\n        #secondary-header #misc-channels.misc-channels-smaller a {\n          margin: 0 10px;\n          display: inline-block;\n          font-size: 1.1em;\n        }\n        .rmz-fade {\n          transition: opacity 250ms ease-in;\n          opacity: 0.01\n        }\n        .rmz-fade.in {\n          opacity: 1;\n        }\n\n        .card:last-child {\n          margin-bottom: 0;\n        }\n        .card {\n          margin: 0 20px 20px 20px;\n          padding: 15px 20px;\n          box-shadow: 0 3px 20px 0 rgba(0,0,0,.07), 0 0px 1px 0 rgba(0,0,0,.2);\n          background: "+r+";\n          border-radius: 5px 10px;\n          overflow: hidden;\n          border-bottom: 1px solid "+n.headerBgColor+";\n        }\n        .card .card-header {\n          font-weight: bold;\n          color: #666;\n          margin-bottom: 10px;\n        }\n        .card .card-body {\n          position: relative;\n        }\n        .card .card-body.full {\n          margin: 0 -20px;\n        }\n        .card .card-footer {\n          margin-top: 10px;\n        }\n        .card input, .card textarea {\n          background: #fff;\n          padding: 0 10px;\n          width: 100%;\n          opacity: 0.6;\n          transition: opacity 250ms linear;\n        }\n        .card input:focus, .card textarea:focus {\n          opacity: 1;\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze"),Reamaze.Spinner=n({displayName:"Reamaze.Spinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{height:"30px",width:"30px"}}},shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.style||{};return e.position="relative",t.createElement("div",{style:e},this.getStyleTag(),t.createElement("div",{className:"reamaze-spinner"}," "))},getStyleTag:function(){var e=this.props.bgColor||"transparent",n=this.props.xColor;return t.createElement("style",null,"\n          .reamaze-spinner {\n            border: 5px solid "+e+";\n            border-top: 5px solid "+n+";\n            border-radius: 50%;\n            width: 100%;\n            height: 100%;\n            animation: spin 2s linear infinite;\n          }\n          @-webkit-keyframes spin {\n            0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n            }\n            100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n            }\n          }\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Widget"),Reamaze.Widget.Widget=n({displayName:"Reamaze.Widget.Widget",mixins:[TimerMixin],propTypes:{img:r.string,icon:r.string,size:r.oneOfType([r.string,r.number]),label:r.any,position:r.object.isRequired,color:r.string,iconColor:r.string,zindex:r.number,openPopupFunc:r.func,closePopupFunc:r.func,unreadCount:r.number,hideLabel:r.bool,appContext:r.object.isRequired,conversations:r.object,enableBrowserTabAlerting:r.bool},getDefaultProps:function(){return{icon:"reamaze",color:Reamaze.Styles.default.widgetColor,iconColor:Reamaze.Styles.default.widgetIconColor,zindex:2147483647,unreadCount:0}},previousDocumentTitle:null,interval:null,getInitialState:function(){var e=this.props.label&&this.props.label.mode?this.props.label.mode:"prompt-3";return{unreadCount:this.props.unreadCount,hideLabel:window.location.href.includes("chat-with-us")||this.props.hideLabel||"none"==e||-1!==e.indexOf("prompt")&&!!Reamaze.sessionStorage.getItem("seenLabel")&&!this.props.appContext._preview,hideWhoop:!!Reamaze.sessionStorage.getItem("hideWhoop"),latestMessageId:null}},componentWillReceiveProps:function(e){var t={unreadCount:e.unreadCount||0};!this.props.hideLabel&&e.hideLabel&&(t.hideLabel=!0,Reamaze.sessionStorage.setItem("seenLabel","true")),this.setState(t)},componentDidMount:function(){var e=this,t=this.props,n=t.appContext,r=t.hideLabel,a=t.label;this.previousDocumentTitle=document.title,a&&"object"==typeof a&&"notification"==a.mode&&a.text&&function(){var t=[{text:a.primary&&"string"==typeof a.primary?a.primary:a.primary&&"object"==typeof a.primary&&a.primary.text?a.primary.text:n.brand.preferences.trans_greeting_primary_button_text,response:a.response||!0}];a.primary2&&t.push({text:a.primary2.text||a.primary2,response:a.primary2.response||!0}),a.primary3&&t.push({text:a.primary3.text||a.primary3,response:a.primary3.response||!0}),a.primary4&&t.push({text:a.primary4.text||a.primary4,response:a.primary4.response||!0}),a.primary5&&t.push({text:a.primary5.text||a.primary5,response:a.primary5.response||!0}),t.push({text:a.secondary||n.brand.preferences.trans_greeting_secondary_button_text,dismiss:!0});var r=n.shoutboxFacesMode,o="team";"brand-avatar"==r?o="brand":"custom"==r&&(o="custom");var i=Reamaze.Utils.getDisplayStaffAvatars(n.brand,n.faces,n.shoutboxFacesMode).map((function(e){return e.avatarUrl}));e.setTimeout((function(){var r="shoutbox-cue-greeting";Reamaze.cue({id:r,name:"Shoutbox Cue Greeting",message:a.text,user:{type:o,name:n.brand.name,avatarUrls:i},buttons:t,sound:!!a.sound,transient:!0,botsEnabled:n.allowBotProcessing}),a.duration&&a.duration>0&&e.setTimeout((function(){n.shoutbox.open||Reamaze.removeCue(r)}),1e3*a.duration+350)}),1e3*(a.delay||0))}(),r&&Reamaze.sessionStorage.setItem("seenLabel","true")},componentDidUpdate:function(e,t){var n=this.getLatestUnreadMessage(),r=!!n&&n.id!=this.state.latestMessageId;if(this.props.enableBrowserTabAlerting&&(t.unreadCount!=this.state.unreadCount||r)&&this.previousDocumentTitle)if(this.state.unreadCount>0){var a="("+this.state.unreadCount+") - "+this.previousDocumentTitle;if(n){var o=document.createElement("span");o.innerHTML=n.body||this.props.appContext.brand.preferences.trans_new_message_prompt,a=(a="("+this.state.unreadCount+") - "+(o.textContent||o.innerText)).trim().replace(/(\r\n|\n|\r)/gm," ").replace(/\s{2,}/g," ")}this.interval&&this.clearInterval(this.interval);var i=this.setInterval(function(){document.title==a?document.title=this.previousDocumentTitle:document.title=a}.bind(this),2e3);this.interval=i,n&&this.setState({latestMessageId:n.id})}else this.interval&&(document.title=this.previousDocumentTitle,clearInterval(this.interval))},getLatestUnreadMessage:function(){var e=null;return this.props.conversations&&Object.keys(this.props.conversations).forEach(function(t){this.props.conversations[t].unread&&this.props.conversations[t].messages&&this.props.conversations[t].messages.forEach(function(t){(!e||t&&Date.parse(t.createdAt)>Date.parse(e.createdAt))&&(e=t)}.bind(this))}.bind(this)),e},ariaShouboxTrigger:function(e){"Enter"!=e.key&&" "!=e.key||(e.preventDefault(),this._triggerPopup())},render:function(){var e,n=Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.props.color),Reamaze.Utils.parseColor("#5e5e5e"))>3.25?Reamaze.Styles.dark.widgetIconColor:Reamaze.Styles.default.widgetIconColor;if(this.props.appContext.shoutbox.open)e=t.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},t.createElement("g",{transform:"scale("+this.props.size/30+")"},t.createElement("path",{style:{stroke:n,fill:"rgba(0,0,0,0)",strokeWidth:1},d:"M 10,10 L 20,20 M 20,10 L 10,20"})));else if(this.props.img)e=t.createElement("img",{src:this.props.img,alt:"Chat Button"});else{e=t.createElement("svg",null);var r="M17.328,24.371h-2.707v-2.596h2.707V24.371zM17.328,19.003v0.858h-2.707v-1.057c0-3.19,3.63-3.696,3.63-5.963c0-1.034-0.924-1.826-2.134-1.826c-1.254,0-2.354,0.924-2.354,0.924l-1.541-1.915c0,0,1.519-1.584,4.137-1.584c2.487,0,4.796,1.54,4.796,4.136C21.156,16.208,17.328,16.627,17.328,19.003z",a="M15.985,5.972c-7.563,0-13.695,4.077-13.695,9.106c0,2.877,2.013,5.44,5.147,7.108c-0.446,1.479-1.336,3.117-3.056,4.566c0,0,4.015-0.266,6.851-3.143c0.163,0.04,0.332,0.07,0.497,0.107c-0.155-0.462-0.246-0.943-0.246-1.443c0-3.393,3.776-6.05,8.599-6.05c3.464,0,6.379,1.376,7.751,3.406c1.168-1.34,1.847-2.892,1.847-4.552C29.68,10.049,23.548,5.972,15.985,5.972zM27.68,22.274c0-2.79-3.401-5.053-7.599-5.053c-4.196,0-7.599,2.263-7.599,5.053c0,2.791,3.403,5.053,7.599,5.053c0.929,0,1.814-0.116,2.637-0.319c1.573,1.597,3.801,1.744,3.801,1.744c-0.954-0.804-1.447-1.713-1.695-2.534C26.562,25.293,27.68,23.871,27.68,22.274z",o="M22.34 3.33008H9.66008C6.7164 3.33008 4.33008 5.7164 4.33008 8.66008V29.0353C4.33008 29.5789 4.9433 29.8962 5.38705 29.5823L11.2917 25.4046C11.9673 24.9267 12.7745 24.67 13.602 24.67H22.34C25.2837 24.67 27.67 22.2837 27.67 19.34V8.66008C27.67 5.7164 25.2837 3.33008 22.34 3.33008Z";if("help"==this.props.icon)e=t.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},t.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},t.createElement("path",{fill:n,style:{fill:n},d:r})));else if("chat"==this.props.icon)e=t.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},t.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},t.createElement("g",{transform:"scale(0.75) translate(5.625, 5.625)"},t.createElement("path",{fill:n,style:{fill:n},d:a}))));else if("webChat"==this.props.icon)e=t.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},t.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},t.createElement("g",{transform:"scale(0.7) translate(8, 5.625)"},t.createElement("path",{fill:"none",stroke:n,strokeWidth:3,d:o}))));else{var i="rmz-svg-a",s="url('"+window.location.href.split("#")[0]+"#"+i+"')";e=t.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"},role:"presentation",viewBox:"0 0 1500 1500"},t.createElement("defs",null,t.createElement("filter",{id:i,colorInterpolationFilters:"sRGB"},t.createElement("feFlood",{floodColor:"rgb(0,0,0)",floodOpacity:".078431",result:"flood"}),t.createElement("feComposite",{in:"flood",in2:"SourceGraphic",operator:"in",result:"composite1"}),t.createElement("feGaussianBlur",{in:"composite1",result:"blur"}),t.createElement("feOffset",{dx:"0",dy:"100",result:"offset"}),t.createElement("feComposite",{in:"SourceGraphic",in2:"offset",result:"composite2"}))),t.createElement("g",{transform:"scale(0.69) translate(310, 420) matrix(1.25,0,0,-1.25,0,1500)",fill:n},t.createElement("path",{transform:"matrix(.8 0 0 -.8 0 1200)",d:"m200.99 120.33c0 506.74 136.92 826.31 603.08 826.31 340.98 0 560.73 133.73 560.73 370.28 0 2.7488-1.1973-337.77-1.1973-665.21 0-378.91-246.9-531.38-721.76-531.38-169.36 0-433.51-0.0125-440.86 0zm348.26 281.17h499.32c21.899 0 39.529 17.63 39.529 39.529v39.529c0 21.899-17.63 39.527-39.529 39.527h-499.32c-21.899 0-39.529-17.628-39.529-39.527v-39.529c0-21.899 17.63-39.529 39.529-39.529zm68.633 190.29h436.95c18.468 0 33.336 14.868 33.336 33.336v43.738c0 18.468-14.868 33.336-33.336 33.336h-436.95c-18.468 0-33.336-14.868-33.336-33.336v-43.738c0-18.468 14.868-33.336 33.336-33.336z",filter:s}),t.createElement("path",{transform:"matrix(1 0 0 -1 -43.403 681.12)",d:"m612.5 346.19c-297.15 0-461.08-216.47-461.08-471.36-0.4161 61.018 1.6005 269.08 1.6005 269.08 0 163.78 118.75 379.67 461.33 379.67 109.55 0 142.69-0.9614 407.33-0.9614 0-110.17-118.67-176.43-409.18-176.43z",fillOpacity:".6",filter:s})))}}var p=!1;if(!this.state.hideWhoop){var l=!0;this.props.label&&"default"!==this.props.label.mode&&"notification"!==this.props.label.mode&&0===parseInt(this.props.label.delay||0,10)&&(l=!1),p=l&&null!==Reamaze.sessionStorage.setItem("hideWhoop","1")}var c=this.getStyleTag(p),u=this.getStyles(),d=this.props.label,h="rmz-chat-bubble";this.props.label&&"object"==typeof this.props.label&&("default"==this.props.label.mode?(d=this.props.label.text,h="rmz-static"):(d=null,"notification"==this.props.label.mode&&(h="rmz-notification")));var f=t.createElement("div",{className:"rmz-label-text",role:"button","aria-label":this.props.appContext.brand.preferences?this.props.appContext.brand.preferences.trans_contact_us_prompt:"",dangerouslySetInnerHTML:{__html:d}});return t.createElement("span",{onClick:this._triggerPopup},t.createElement("div",{"aria-label":"Chat widget toggle",tabIndex:"0",role:"button",id:"reamaze-widget",onKeyDown:this.ariaShouboxTrigger,style:u.widget,className:"whoop "+h+" "+(this.props.img?"rmz-custom":"")},c,t.createElement("span",{id:"reamaze-widget-icon"},e),"rmz-static"==h&&t.createElement("span",{id:"reamaze-widget-label-container"},t.createElement("div",{id:"reamaze-widget-label"},f)),this.state.unreadCount>0&&t.createElement("span",{style:u.unreadPill,id:"reamaze-unread-count",onClick:this._triggerPopup},this.state.unreadCount>99?"99+":this.state.unreadCount)),"rmz-chat-bubble"==h&&this.props.label&&!this.state.hideLabel&&t.createElement("div",{style:{zIndex:this.props.zindex,position:"relative",cursor:"pointer"}},t.createElement(Reamaze.Widget.Label,{size:this.props.size,label:this.props.label,position:this.props.position,color:this.props.color,iconColor:this.props.iconColor})))},getStyleTag:function(e){
var n=Math.min(this.props.size/2,16)+"px",r="\n        #reamaze-widget:hover {\n          opacity: 1;\n          transform: translate3d(0, -4px, 0);\n          box-shadow: 0 2px 0px rgba(0,0,0,.09),0 4px 10px rgba(0,0,0,.24) !important;\n        }\n        #reamaze-widget-label-container {\n          overflow: hidden;\n        }\n\n        .rmz-label-text {\n          color: "+this.props.iconColor+';\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          font-size: '+n+";\n          line-height: "+this.props.size+"px;\n        }\n\n        #reamaze-widget-label {\n          vertical-align: top;\n          display: inline-block;\n          padding-right: "+n+";\n          margin-right: 0;\n        }\n        #reamaze-widget-icon img {\n          width: 100%;\n          height: 100%;\n          background: transparent;\n          opacity: 1;\n          display: inline-block;\n        }\n        #reamaze-widget #reamaze-widget-icon {\n          display: block;\n          overflow: hidden;\n          width: "+this.props.size+"px;\n          height: "+this.props.size+"px;\n          border-radius: "+this.props.size+"px;\n        }\n        #reamaze-widget.rmz-static {\n          max-width: calc(100vw - 40px);\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          display: flex;\n        }\n        #reamaze-widget.rmz-custom.rmz-static #reamaze-widget-icon {\n          margin-right: 10px;\n        }\n        #reamaze-widget.rmz-static #reamaze-widget-icon {\n          display: inline-block;\n          border-radius: "+this.props.size+"px;\n          -webkit-flex-shrink: 0;\n          -moz-flex-shrink: 0;\n          -ms-flex: 0 1 auto;\n          flex-shrink: 0;\n        }\n        #reamaze-widget.rmz-static .rmz-label-text {\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n        #reamaze-widget.rmz-static #rmz-widget-label {\n          display: block;\n        }\n      ";if(e){var a=function(e){return"            -webkit-transform: scale("+e+");            transform: scale("+e+");          "},o=function(e){return"            -moz-animation: "+e+";            -webkit-animation: "+e+";            animation: "+e+";          "},i=function(e,t){return"            @-moz-keyframes "+e+" {"+t+"}            @-webkit-keyframes "+e+" {"+t+"}            @keyframes "+e+" {"+t+"}          "},s="          0% {"+a(0)+"}          50% {"+a(1.3)+"}          100% {"+a(1)+"}        ",p="          0% { opacity: 0; }          40% { opacity: 0; }          100% { opacity: 1; }        ";r+="          .whoop { "+o("0.4s whoop 0s")+"}          .whoop #reamaze-widget-icon { "+o("0.6s toothpaste 0s")+"}        ",r+=i("whoop",s)+i("toothpaste",p)}return t.createElement("style",{dangerouslySetInnerHTML:{__html:r}})},getStyles:function(){var e=this.props.color;this.props.gradient&&(e="linear-gradient(135deg, "+e+" 0%, "+(Reamaze.Utils.pSBC(.3,e)||e)+" 100%)");var t={widget:{position:"fixed",height:this.props.size+"px",cursor:"pointer",opacity:.95,zIndex:this.props.zindex,background:e,borderRadius:this.props.size+"px",boxShadow:"0px 3px 3px rgba(0, 0, 0, 0.2)",perspective:"1000px",backfaceVisibility:"hidden",transition:"all 0.2s ease-in-out"},unreadPill:{position:"absolute",top:"-5px",right:"-5px",padding:"5px 7px 4px",minWidth:"12px",borderRadius:"20px",fontSize:"11px",lineHeight:"11px",textAlign:"center",backgroundColor:"#F00",fontFamily:"Nunito, Helvetica, Arial, sans-serif",color:"#fdfdfd",boxShadow:"0 0 1px #b00"}};for(var n in this.props.position)t.widget[n]=this.props.position[n];return t},_triggerPopup:function(){this.props.label&&(-1!==(this.props.label.mode?this.props.label.mode:"prompt-3").indexOf("prompt")&&this.setState({hideLabel:!0}));if(this.props.appContext.shoutbox.open)this.props.closePopupFunc(e);else{var e={source:"widget"};Reamaze.Analytics.track("Shoutbox Trigger Clicked"),this.props.openPopupFunc(e)}}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){var a=ReactTransitionGroup.CSSTransitionGroup;Reamaze.Widget.Label=n({displayName:"Reamaze.Widget.Label",mixins:[TimerMixin],propTypes:{size:r.number,position:r.object,label:r.shape({text:r.string,mode:r.oneOf(["default","slideout","fadein","prompt-1","prompt-2","prompt-3"]),delay:r.number,duration:r.number}),color:r.string,iconColor:r.string},getInitialState:function(){return{visible:!1}},componentDidMount:function(){if(this.props.label){var e=0;"object"==typeof this.props.label&&(e=parseInt(this.props.label.delay,10)),e>0?this.setTimeout(function(){this.isMounted()&&this.showLabel()}.bind(this),1e3*e):this.showLabel()}},componentDidUpdate:function(e,t){!t.visible&&this.state.visible&&Reamaze.Analytics.track("Shoutbox Prompt Shown",this.props.label.text,void 0,!0)},render:function(){if(this.props.label){var e=this.getStyleTag(),n=this.props.label.text,r=this.props.label.mode?this.props.label.mode:"prompt-3",o="rmz-label-"+r,i=o;this.state.hover&&(i+=" rmz-hover");var s=t.createElement("div",{className:"rmz-label-text",dangerouslySetInnerHTML:{__html:n}}),p=null;return this.state.visible&&n&&(p=t.createElement("span",{key:"label",id:"reamaze-widget-label",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,className:i},-1!==r.indexOf("prompt")&&t.createElement("span",{className:"rmz-closeX",onClick:this.hideLabel},String.fromCharCode(215)),s)),t.createElement("span",{id:"reamaze-widget-label-container"},e,t.createElement(a,{transitionName:o,transitionEnterTimeout:750,transitionLeaveTimeout:750},p))}return null},getStyleTag:function(){var e=Math.min(this.props.size/2,16)+"px",n={__html:"\n        #reamaze-widget-label-container {\n          overflow: hidden;\n        }\n        #reamaze-widget-label {\n          color: "+this.props.iconColor+';\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          font-size: '+e+";\n          line-height: "+this.props.size+"px;\n          vertical-align: top;\n          display: inline-block;\n          padding-right: "+e+";\n          margin-right: 0;\n        }\n        #reamaze-widget-label.rmz-label-slideout-enter {\n          float: right;\n          margin-right: -1000px;\n          -webkit-transition: margin-right 0.75s ease-out;\n          -moz-transition: margin-right 0.75s ease-out;\n          -o-transition: margin-right 0.75s ease-out;\n          transition: margin-right 0.75s ease-out;\n        }\n        #reamaze-widget-label.rmz-label-slideout-enter-active {\n          margin-right: 0;\n        }\n        #reamaze-widget-label.rmz-label-fadein-enter {\n          opacity: 0;\n          -webkit-transition: opacity 0.75s;\n          -moz-transition: opacity 0.75s;\n          -o-transition: opacity 0.75s;\n          transition: opacity 0.75s;\n        }\n        #reamaze-widget-label.rmz-label-fadein-enter-active {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt] {\n          position: fixed;\n          background: "+this.props.color+";\n          padding: 10px 15px;\n          border-radius: 5px;\n          color: #fff;\n          margin-"+(this.props.position.left?"right":"left")+": 15px;\n          line-height: 1.5em;\n          -webkit-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          -moz-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          -o-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt],\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-enter.rmz-label-prompt-2-enter-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+parseInt(this.props.size,10)+10)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+parseInt(this.props.size,10)+10)+"px;":"")+"\n          "+(this.props.position.left?"left: "+parseInt(this.props.position.left,10)+"px;":"")+"\n          "+(this.props.position.right?"right: "+parseInt(this.props.position.right,10)+"px;":"")+"\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt]:after {\n          content: '';\n          position: absolute;\n          "+(this.props.position.top?"bottom":"top")+": 100%;\n          "+(this.props.position.left?"left":"right")+": 10px;\n          border-"+(this.props.position.top?"bottom":"top")+": 5px solid "+this.props.color+";\n          border-left: 5px solid transparent;\n          border-right: 5px solid transparent;\n        }\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-enter,\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-leave-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+this.props.size/2)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+this.props.size/2)+"px;":"")+"\n        }\n\n        #reamaze-widget-label .rmz-label-text {\n          line-height: 1.5em;\n          font-size: 14px;\n          color: #585858;\n        }\n\n        #reamaze-widget-label.rmz-label-prompt-3 {\n          position: fixed;\n          background: white;\n          padding: 10px 15px;\n          border-radius: 5px;\n          margin-"+(this.props.position.left?"right":"left")+": 15px;\n          -webkit-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          -moz-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          -o-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          transition: left 0.4s, right 0.4s, opacity 0.75s;\n          box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.2);\n          border: 1px solid rgb(195, 195, 195)\n        }\n        #reamaze-widget-label.rmz-label-prompt-3,\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-enter.rmz-label-prompt-3-enter-active,\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-leave-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+(this.props.size-44)/2)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+(this.props.size-44)/2)+"px;":"")+"\n          "+(this.props.position.left?"left: "+(parseInt(this.props.position.left,10)+parseInt(this.props.size,10)+15)+"px;":"")+"\n          "+(this.props.position.right?"right: "+(parseInt(this.props.position.right,10)+parseInt(this.props.size,10)+15)+"px;":"")+"\n        }\n        #reamaze-widget-label.rmz-label-prompt-3:after {\n          content: '';\n          position: absolute;\n          "+(this.props.position.top?"bottom":"top")+": 39%;\n          "+(this.props.position.left?"left":"right")+": -5px;\n          box-shadow: "+(this.props.position.left?"-1px -1px":"1px 1px")+" 0px #D6D6D6;\n          width: 10px;\n          height: 10px;\n          background: white;\n          border: none;\n          transform: rotate(-45deg)\n        }\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-enter {\n          "+(this.props.position.left?"left: "+(parseInt(this.props.position.left,10)+this.props.size/2)+"px;":"")+"\n          "+(this.props.position.right?"right: "+(parseInt(this.props.position.right,10)+this.props.size/2)+"px;":"")+"\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=enter] {\n          opacity: 0;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=enter-active] {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=leave] {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=leave-active] {\n          opacity: 0;\n        }\n        #reamaze-widget-label .rmz-closeX {\n          position: absolute;\n          width: 1em;\n          height: 1em;\n          line-height: 0.9;\n          font-size: 13px;\n          display: block;\n          top: -9px;\n          right: -9px;\n          text-align: center;\n          background: rgba(0, 0, 0, 0.5);\n          border-radius: 20px;\n          color: white;\n          padding: 3px;\n          box-sizing: content-box;\n        }\n      "};return t.createElement("style",{dangerouslySetInnerHTML:n})},mouseOver:function(){this.setState({hover:!0})},mouseOut:function(){this.setState({hover:!1})},showLabel:function(){this.setState({visible:!0},function(){if(Reamaze.sessionStorage.setItem("seenLabel","true"),this.props.label){var e=0;"object"==typeof this.props.label&&(e=parseInt(this.props.label.duration,10)),e>0&&this.setTimeout(function(){this.isMounted()&&this.hideLabel()}.bind(this),1e3*e)}}.bind(this))},hideLabel:function(e){e&&(e.stopPropagation(),e.preventDefault()),this.setState({visible:!1})}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Shared"),Reamaze.Shared.Card=r({displayName:"Reamaze.Shared.Card",propTypes:{appContext:a.object.isRequired,id:a.string.isRequired,loading:a.bool},contextTypes:{window:a.object},getDefaultProps:function(){return{}},render:function(){var e=this.props.appContext.brand.styles,n=Reamaze.Utils.pSBC(.95,e.headerBgColor)||"#fafafa";return t.createElement("div",{id:this.props.id,className:"card"},this.props.loading&&t.createElement(Reamaze.Spinner,{xColor:e.widgetColor,bgColor:n,style:{margin:"1em auto",width:"30px",height:"30px",transform:"scale(0.8)"}}),t.createElement("div",{style:{display:this.props.loading?"none":"block"}},this.props.children))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Shared"),Reamaze.Shared.Header=r({mixins:[TimerMixin],displayName:"Reamaze.Shared.Header",propTypes:{enableKb:a.bool,appContext:a.object.isRequired,chatIsLive:a.bool,backButton:a.bool,onBackButtonClicked:a.func,header:a.any,secondaryHeader:a.any},contextTypes:{window:a.object},getDefaultProps:function(){return{header:!1,secondaryHeader:!1}},getHeader:function(){var e=!1!==this.props.header?this.props.header&&this.props.header:this.props.appContext.brand.preferences.trans_popup_header;return this.props.appContext.shoutboxHeaderLogo&&"string"==typeof this.props.appContext.brand.brandLogoUrl?t.createElement("div",{id:"nav-c-header"},t.createElement("img",{src:this.props.appContext.brand.brandLogoUrl,alt:this.props.appContext.brand.name,style:{maxHeight:"50px",maxWidth:"150px"}})):this.props.allowHtmlHeader&&"string"==typeof e?t.createElement("div",{id:"nav-c-header",dangerouslySetInnerHTML:{__html:e}}):t.createElement("div",{id:"nav-c-header"},e)},getSecondaryHeader:function(){if(!1!==this.props.secondaryHeader)return this.props.secondaryHeader&&t.createElement("div",{id:"secondary-header"},this.props.secondaryHeader);var e=this.props.appContext.brand.facebook.show_facebook_messenger||this.props.appContext.brand.facebook.show_facebook_page||this.props.appContext.brand.twitter||this.props.appContext.brand.instagram||this.props.appContext.brand.voice||this.props.appContext.brand.whatsapp||this.props.appContext.fullScreen&&this.props.appContext.brand.sms,n=this.props.enableKb&&this.props.appContext.brand.kb,r=this.props.appContext.brand.allowIncidents&&this.props.appContext.brand.activeIncidents.length>0,a=!!e||n,o=[];a&&(this.props.appContext.brand.facebook.show_facebook_messenger&&o.push(t.createElement("a",{href:"https://m.me/"+this.props.appContext.brand.facebook.messenger_slug,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Facebook"),title:"Facebook Messenger",key:"1"},t.createElement("i",{className:"fab rmzfa rmzfa-facebook-messenger"}))),this.props.appContext.brand.facebook.show_facebook_page&&o.push(t.createElement("a",{href:"https://facebook.com/"+this.props.appContext.brand.facebook.slug,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Facebook"),title:"Facebook",key:"2"},t.createElement("i",{className:"fab rmzfa rmzfa-facebook"}))),this.props.appContext.brand.twitter&&o.push(t.createElement("a",{href:"https://www.twitter.com/"+this.props.appContext.brand.twitter,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Twitter"),title:"Twitter",key:"3"},t.createElement("i",{className:"fab rmzfa rmzfa-x-twitter"}))),this.props.appContext.brand.instagram&&o.push(t.createElement("a",{href:"https://www.instagram.com/"+this.props.appContext.brand.instagram,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Instagram"),title:"Instagram",key:"4"},t.createElement("i",{className:"fab rmzfa rmzfa-instagram"}))),this.props.appContext.brand.inOffice&&this.props.appContext.brand.voice&&o.push(t.createElement("a",{href:"tel:"+this.props.appContext.brand.voice,className:"anim-btn",onClick:this.onChannelClick.bind(this,"Phone"),title:"Phone",key:"5"},t.createElement("i",{className:"fas rmzfa rmzfa-phone",style:{fontSize:"0.9em"}}))),this.props.appContext.brand.inOffice&&this.props.appContext.brand.sms&&this.props.appContext.fullScreen&&o.push(t.createElement("a",{href:"sms:"+this.props.appContext.brand.sms,className:"anim-btn",title:"SMS",onClick:this.onChannelClick.bind(this,"SMS"),key:"6"},t.createElement("i",{className:"fas rmzfa rmzfa-sms"}))),this.props.appContext.brand.whatsapp&&o.push(t.createElement("a",{href:"https://wa.me/"+this.props.appContext.brand.whatsapp.replace("+",""),className:"anim-btn",target:"_blank",onClick:this.onChannelClick.bind(this,"WhatsApp"),title:"WhatsApp",key:"7"},t.createElement("i",{className:"fab rmzfa rmzfa-whatsapp"}))),n&&o.push(t.createElement("a",{href:"javascript:void(0)",className:"anim-btn",onClick:this._goToKB,title:"FAQ",key:"8"},t.createElement("i",{className:"fas rmzfa rmzfa-question-circle"}))),r&&o.push(t.createElement("a",{href:"javascript:void(0)",className:"anim-btn",onClick:this._goToStatusPage,title:"Status",key:"9"},t.createElement("i",{className:"fas rmzfa rmzfa-exclamation-circle"}))));var i=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces,this.props.appContext.shoutboxFacesMode);return t.createElement("div",{id:"secondary-header"},i.length&&t.createElement("div",{className:"staff-avatars"},i.map(function(e,n){return t.createElement("img",{key:n,title:e.displayName,src:e.avatarUrl,style:{position:"relative",zIndex:3-n}})}.bind(this))),t.createElement(Reamaze.Conversations.Availability,{chatIsLive:this.props.chatIsLive,brand:this.props.appContext.brand}),a&&t.createElement("div",{id:"misc-channels",className:"misc-channels-"+(o.length>6?"smaller":"larger")},o))},onChannelClick:function(e){Reamaze.Analytics.track("Channel Link Clicked",e)},_goToKB:function(){this.onChannelClick("FAQ"),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index"}})},_goToStatusPage:function(){this.onChannelClick("Status Page"),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index"}})},render:function(){return t.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"15px",paddingRight:"15px",position:"relative",zIndex:"1"}},t.createElement("div",{style:{display:"table",width:"100%"}},t.createElement("div",{style:{display:"table-row"}},t.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons",style:{position:"relative"}},this.props.backButton?[t.createElement("div",{key:"stub",style:{width:"35px",height:"1px"}}),t.createElement("div",{key:"hleft",style:{width:"35px",position:"absolute",top:0,bottom:0}},t.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.onBackButtonClicked(e)}.bind(this),className:"anim-btn","aria-label":this.props.appContext.brand.preferences.trans_navigation_back},t.createElement("i",{className:"fas rmzfa rmzfa-chevron-left"})))]:t.createElement("div",{style:{width:"35px",height:"1px"}})),t.createElement("div",{className:"nav-c",style:{width:"100%"}},this.getHeader()),t.createElement("div",{className:"nav-c-r"}))),this.getSecondaryHeader())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.Status"),Reamaze.Status.App=r({propTypes:{enableKb:a.bool,currentUser:a.object,active:a.bool,popupOptions:a.object,onAppMounted:a.func,conversations:a.object,appContext:a.object.isRequired,chatIsLive:a.bool,videoCallInformation:a.object},contextTypes:{window:a.object},getDefaultProps:function(){return{}},getInitialState:function(){return{statusLoaded:!1}},onContactUsClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{}}})},onHomeClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},onViewConversationHistoryClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},getPath:function(){return this.props.appContext.routeParams&&this.props.appContext.routeParams.path?this.props.appContext.routeParams.path:"/"},getHeader:function(){return t.createElement("div",{id:"nav-c-header"},this.props.appContext.brand.preferences.trans_status_header)},getContent:function(){var n,r=e.param({sso:this.props.currentUser.ssoData(),popup:1}),a=this.getPath();n=(a=a+(a.indexOf("?")>0?"&":"?")+r).match(/^http/)?a:this.props.appContext.baseUrl+(0!==a.indexOf("/status")?"/status":"")+a,n+="&fontSize="+this.props.appContext.shoutboxFontSize;var o={width:"100%",height:"100%",overflowY:"hidden"},i={position:"relative"};return t.createElement("div",{style:o},!this.state.statusLoaded&&t.createElement(Reamaze.Popup.Spinner,{xColor:this.props.appContext.brand.styles.widgetColor}),t.createElement("iframe",{title:this.props.appContext.brand.preferences.trans_status_header,style:i,src:n,width:"100%",height:"100%",scrolling:"no",frameBorder:"0",allowtransparency:"true",allowFullScreen:"true",name:"_popup",onLoad:function(){this.setState({statusLoaded:!0})}.bind(this)}))},render:function(){if(!this.props.active)return null;var e={};return!1!==this.props.appContext.brand.attribution&&(e={boxShadow:"none",border:"none",paddingTop:"8px"}),t.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},t.createElement("style",null,"\n          #content {\n            margin-right: 0;\n          }\n        "),t.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"10px",paddingRight:"10px",position:"relative",zIndex:"1"}},t.createElement("div",{style:{display:"table",width:"100%"}},t.createElement("div",{style:{display:"table-row"}},t.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons"},t.createElement("div",null,function(){if(this.props.conversations&&Object.keys(this.props.conversations).length>0){var e=0;for(var n in this.props.conversations)this.props.conversations[n].unread&&e++;return t.createElement("a",{href:"javascript:;",className:"anim-btn",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onViewConversationHistoryClicked,title:this.props.appContext.brand.preferences.trans_contact_us_past_conversations,"aria-label":this.props.appContext.brand.preferences.trans_contact_us_past_conversations},t.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),e>0&&t.createElement("span",{style:{verticalAlign:"middle",marginLeft:"4px",fontSize:"13px"}},e))}return t.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onHomeClicked,"aria-label":this.props.appContext.brand.preferences.trans_navigation_home},t.createElement("i",{className:"fas rmzfa rmzfa-bars",style:{fontSize:"17px",verticalAlign:"middle"}}))}.bind(this)())),t.createElement("div",{className:"nav-c",style:{width:"100%",fontSize:"1.1em"}},this.getHeader()),t.createElement("div",{className:"nav-c-r"})))),t.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed",style:{height:"100%",position:"relative",paddingBottom:!1===this.props.appContext.brand.attribution?"0":"26px"}},this.getContent(),t.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",padding:"8px 10px 0px 6px",position:"absolute",width:"100%",bottom:"0px",boxShadow:"0 5px 25px 0 rgba(0,0,0,0.05)",borderTop:"1px solid rgba(0,0,0,0.05)"}})),t.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,onSubmit:this.onNewMessageSubmit,buttonMode:!0,style:e,showConversationsCount:!0,conversationsCount:Object.keys(this.props.conversations).length,onConversationsCountClick:this.onViewConversationHistoryClicked,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,a){e.namespace("Reamaze.VideoCall"),Reamaze.VideoCall.App=r({propTypes:{enableKb:a.bool,currentUser:a.object,active:a.bool,popupOptions:a.object,onAppMounted:a.func,conversations:a.object,appContext:a.object.isRequired,chatIsLive:a.bool,videoCallInformation:a.object},contextTypes:{window:a.object},getDefaultProps:function(){return{}},getInitialState:function(){return{answered:!1}},onAnswerClick:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_ANSWERED,payload:{}})},onDeclineClick:function(){this.triggerVideoCallDeclined()},_onVideoCallEnded:function(){this.setState({answered:!1}),this.triggerVideoCallDeclined()},triggerVideoCallDeclined:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.VIDEO_CALL_DECLINED,payload:{}})},render:function(){var e=this,n=this.props,r=n.videoCallInformation,a=(n.videoCallAnswered,n.appContext);this.state.answered;return void 0===r.offer?null:this.props.videoCallAnswered?t.createElement("div",{id:"rmz-video-call-wrapper"},t.createElement(Reamaze.Conversations.VideoCall,{appContext:a,currentUser:this.props.currentUser,offer:r.offer,channel:r.channel,remoteUser:r.user,peerConnection:r.peerConnection,onCallEnded:this._onVideoCallEnded})):"conversations:show"===a.route?null:t.createElement("div",{id:"rmz-video-call-wrapper"},t.createElement("style",{type:"text/css"},"\n            #rmz-video-call-wrapper {\n              position: fixed;\n              top: 16px;\n              left: 8px;\n              width: calc(100% - 16px);\n              z-index: 2147483647;\n            }\n\n            @supports ((-webkit-backdrop-filter: blur(15px)) or (backdrop-filter: blur(15px))) {\n              #rmz-video-call-notification {\n                -webkit-backdrop-filter: blur(15px);\n                backdrop-filter: blur(15px);\n              }\n            }\n\n            #rmz-video-call-notification {\n              box-shadow: 0 2px 0px rgba(0,0,0,.09),0 4px 10px rgba(0,0,0,.24) !important;\n              background: rgba(255, 255, 255, 0.8);\n              width: 100%;\n              border-radius: 8px;\n              padding: 12px;\n              display: flex;\n            }\n\n            .video-call-message-user {\n              width: 40px;\n            }\n\n            .video-call-message-user img {\n              width: 32px;\n              height: 32px;\n              border-radius: 50%;\n            }\n\n            .video-call-message-wrap {\n              flex: 1;\n            }\n\n            .video-call-message {\n              margin-bottom: 16px;\n            }\n          "),t.createElement("div",{id:"rmz-video-call-notification"},t.createElement("div",{className:"video-call-message-user"},t.createElement("img",{src:r.user.avatar,alt:r.user.name})),t.createElement("div",{className:"video-call-message-wrap"},t.createElement("div",{className:"video-call-message"},this.props.appContext.brand.preferences.trans_video_prompt_text),t.createElement("button",{className:"btn btn-primary anim-btn",onClick:this.onAnswerClick},this.props.appContext.brand.preferences.trans_video_answer_button_text),t.createElement("button",{className:"btn btn-link anim-btn",onClick:this.onDeclineClick},this.props.appContext.brand.preferences.trans_video_decline_button_text))),t.createElement("audio",{src:"/audio/video-call/client_ringing.mp3",autoPlay:!0,ref:function(t){return e.ringingAudio=t},loop:!0,volume:.1,controls:!1}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.extend(Reamaze,{Analytics:{track:function(e,t,n,r){var a="Reamaze";this._trackGtag(a,e,t,n,r).then(function(o){return o.tracked?o:this._trackGa(a,e,t,n,r)}.bind(this)).then(function(o){return o.tracked?o:this._trackGaq(a,e,t,n,r)}.bind(this)).catch((function(e){console.log(e)})),this._trackCallbacks(a,e,t,n,r)},_trackGtag:function(e,t,n,r,a){return new Promise((function(o){if("function"!=typeof window.gtag||!window.dataLayer||!window.dataLayer.find((function(e){return!!(e.length>2&&"config"===e[0]&&e[1].match(/^UA-/))||!!(e.length>=2&&"config"===e[0]&&e[1].match(/^G-/))})))return o({tracked:!1});var i={event_category:e,non_interaction:!!a};n&&(i.event_label=n),"number"==typeof r&&(i.event_value=r);try{return window.gtag("event",t,i),o({tracked:!0})}catch(e){return console.log("Re:amaze GA logging cancelled due to gtag error"),o({tracked:!1})}}))},_trackGa:function(e,t,n,r,a){return new Promise((function(o){if("function"!=typeof window.ga)return o({tracked:!1});n||(n=void 0),"number"!=typeof r&&(r=void 0),window.ga((function(i){var s=i;if(s||(s=window.ga.getAll()[0]),s)return s.send("event",e,t,n,r,{nonInteraction:!!a}),o({tracked:!0})}))}))},_trackGaq:function(e,t,n,r,a){return new Promise((function(o){return window._gaq&&window._gaq.push?("number"!=typeof r&&(r=void 0),window._gaq.push(["_trackEvent",e,t,n,r,!!a]),o({tracked:!0})):o({tracked:!1})}))},_trackCallbacks:function(e,t,n,r,a){return new Promise((function(o){if(Reamaze._callbacks&&"function"==typeof Reamaze._callbacks.analytics_track_callback){var i={category:e,name:t,nonInteraction:!!a};return n&&(i.label=n),"number"==typeof r&&(i.value=r),Reamaze._callbacks.analytics_track_callback(i),o({tracked:!0})}return o({tracked:!1})}))}}}),jQuery(document).on("Reamaze.init",(function(e,t){window.InstantClick&&t&&window.InstantClick.on("change",(function(e){e||Reamaze&&Reamaze.reload&&Reamaze.reload()}))})),jQuery.extend(Reamaze,{ec:function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function r(e,r,a,o,i,s){return t(n(t(t(r,e),t(o,s)),i),a)}function a(e,t,n,a,o,i,s){return r(t&n|~t&a,e,t,o,i,s)}function o(e,t,n,a,o,i,s){return r(t&a|n&~a,e,t,o,i,s)}function i(e,t,n,a,o,i,s){return r(t^n^a,e,t,o,i,s)}function s(e,t,n,a,o,i,s){return r(n^(t|~a),e,t,o,i,s)}function p(e,n){var r,p,l,c,u;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var d=1732584193,h=-271733879,f=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)p=d,l=h,c=f,u=m,d=a(d,h,f,m,e[r],7,-680876936),m=a(m,d,h,f,e[r+1],12,-389564586),f=a(f,m,d,h,e[r+2],17,606105819),h=a(h,f,m,d,e[r+3],22,-1044525330),d=a(d,h,f,m,e[r+4],7,-176418897),m=a(m,d,h,f,e[r+5],12,1200080426),f=a(f,m,d,h,e[r+6],17,-1473231341),h=a(h,f,m,d,e[r+7],22,-45705983),d=a(d,h,f,m,e[r+8],7,1770035416),m=a(m,d,h,f,e[r+9],12,-1958414417),f=a(f,m,d,h,e[r+10],17,-42063),h=a(h,f,m,d,e[r+11],22,-1990404162),d=a(d,h,f,m,e[r+12],7,1804603682),m=a(m,d,h,f,e[r+13],12,-40341101),f=a(f,m,d,h,e[r+14],17,-1502002290),d=o(d,h=a(h,f,m,d,e[r+15],22,1236535329),f,m,e[r+1],5,-165796510),m=o(m,d,h,f,e[r+6],9,-1069501632),f=o(f,m,d,h,e[r+11],14,643717713),h=o(h,f,m,d,e[r],20,-373897302),d=o(d,h,f,m,e[r+5],5,-701558691),m=o(m,d,h,f,e[r+10],9,38016083),f=o(f,m,d,h,e[r+15],14,-660478335),h=o(h,f,m,d,e[r+4],20,-405537848),d=o(d,h,f,m,e[r+9],5,568446438),m=o(m,d,h,f,e[r+14],9,-1019803690),f=o(f,m,d,h,e[r+3],14,-187363961),h=o(h,f,m,d,e[r+8],20,1163531501),d=o(d,h,f,m,e[r+13],5,-1444681467),m=o(m,d,h,f,e[r+2],9,-51403784),f=o(f,m,d,h,e[r+7],14,1735328473),d=i(d,h=o(h,f,m,d,e[r+12],20,-1926607734),f,m,e[r+5],4,-378558),m=i(m,d,h,f,e[r+8],11,-2022574463),f=i(f,m,d,h,e[r+11],16,1839030562),h=i(h,f,m,d,e[r+14],23,-35309556),d=i(d,h,f,m,e[r+1],4,-1530992060),m=i(m,d,h,f,e[r+4],11,1272893353),f=i(f,m,d,h,e[r+7],16,-155497632),h=i(h,f,m,d,e[r+10],23,-1094730640),d=i(d,h,f,m,e[r+13],4,681279174),m=i(m,d,h,f,e[r],11,-358537222),f=i(f,m,d,h,e[r+3],16,-722521979),h=i(h,f,m,d,e[r+6],23,76029189),d=i(d,h,f,m,e[r+9],4,-640364487),m=i(m,d,h,f,e[r+12],11,-421815835),
f=i(f,m,d,h,e[r+15],16,530742520),d=s(d,h=i(h,f,m,d,e[r+2],23,-995338651),f,m,e[r],6,-198630844),m=s(m,d,h,f,e[r+7],10,1126891415),f=s(f,m,d,h,e[r+14],15,-1416354905),h=s(h,f,m,d,e[r+5],21,-57434055),d=s(d,h,f,m,e[r+12],6,1700485571),m=s(m,d,h,f,e[r+3],10,-1894986606),f=s(f,m,d,h,e[r+10],15,-1051523),h=s(h,f,m,d,e[r+1],21,-2054922799),d=s(d,h,f,m,e[r+8],6,1873313359),m=s(m,d,h,f,e[r+15],10,-30611744),f=s(f,m,d,h,e[r+6],15,-1560198380),h=s(h,f,m,d,e[r+13],21,1309151649),d=s(d,h,f,m,e[r+4],6,-145523070),m=s(m,d,h,f,e[r+11],10,-1120210379),f=s(f,m,d,h,e[r+2],15,718787259),h=s(h,f,m,d,e[r+9],21,-343485551),d=t(d,p),h=t(h,l),f=t(f,c),m=t(m,u);return[d,h,f,m]}function l(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){return l(p(c(e),8*e.length))}function d(e,t){var n,r,a=c(e),o=[],i=[];for(o[15]=i[15]=void 0,a.length>16&&(a=p(a,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^a[n],i[n]=1549556828^a[n];return r=p(o.concat(c(t)),512+8*t.length),l(p(i.concat(r),640))}function h(e){var t,n,r="0123456789abcdef",a="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),a+=r.charAt(t>>>4&15)+r.charAt(15&t);return a}function f(e){return unescape(encodeURIComponent(e))}function m(e){return u(f(e))}function g(e){return h(m(e))}function v(e,t){return d(f(e),f(t))}function y(e,t){return h(v(e,t))}function b(e,t,n){return t?n?v(t,e):y(t,e):n?m(e):g(e)}return b(e+"f34c9278042a")}}),function(e,t,n){e.extend(Reamaze,{seq_id:0,embed:function(r,a,o,i){var s=this.seq_id++,p=(i=i||{},{sso:this._visitor.ssoData(),framed:1}),l=!0;top!=self?l=!1:void 0!==i.trackHistory&&(l=i.trackHistory),l||(s=s+"-"+parseInt(1e4*Math.random(),10)),p=e.extend(p,{no_subject:!1===o||i.hideSubject?1:0,require_attachment:i.requireAttachment?1:0,form_id:i.formId?i.formId:null}),p=i.channel?e.extend(p,{category_id:i.channel}):e.extend(p,{category_id:""}),o&&(p=e.extend(p,{conversation:{subject:o}}));var c=function(){var t="/";"contact"==a?t="/conversations/new":"conversations"==a?t="/conversations":i.path&&(t=i.path);var n=new RegExp("^#reamaze#"+s+"#"),r=new RegExp("^#reamaze%23"+s+"%23");l&&(window.location.hash.match(n)?t=window.location.hash.substring(n.toString().length-3):window.location.hash.match(r)?(t=window.location.hash.substring(r.toString().length-3),t=decodeURIComponent(t)):window.location.hash.match(/^#!/)&&(t=window.location.hash.substring(2)));var o=(t+=(t.indexOf("?")>-1?"&":"?")+e.param(p)).match(/(\#.*)(\?)/);return o&&o.length&&(t=t.replace(o[1],""),t+=o[1]),t},u=function(){var e=c();return e.match(/^http/)?e:this._baseUrl+e}.bind(this),d=function(t){var n=t.match(/(\#.*)(\?|$)/);n&&n.length&&e("iframe").each((function(t,r){var a={_command:"reamaze:getAnchorHeight",_anchor:n[1]};e.postMessage(a,r.src,r.contentWindow)}))}.bind(this);e(window).on("Reamaze.anchorHeight",(function(t,n){if(e("iframe[name="+n._name+"]").length){var r=document.querySelector("iframe[name="+n._name+"]").getBoundingClientRect().top;window.scrollTo(0,r+parseInt(n._anchorHeight))}}));var h=e(r).data("embed-ele");if(e(r).length>0&&!h){var f={title:"FAQ",width:"100%",src:u(),scrolling:"no",frameborder:"0",allowtransparency:"true",name:"_embed_"+s,allowfullscreen:"true"};/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(f.style="width:1px;min-width:100%;*width:100%;"),h=e("<iframe/>").attr(f),e(r).empty();var m=e('<div class="rmz-embed-container" style="width: 100%; position: relative;"></div>'),g=e('<span class="reamaze-rect-spinner-container"></span>');m.append(g),e(r).html(m),n.render(t.createElement(Reamaze.RectSpinner,{xColor:i.loadingColor||Reamaze.styles.widgetColor||"#ccc",style:{position:"absolute",width:"15px",height:"20px",top:"50%",left:"50%",marginLeft:"-10px",marginTop:"-13px"}}),g.get(0)),m.append(h),e(r).data("embed-ele",h),h[0].onload=function(){d(c())}.bind(this);var v;e(document).on("Reamaze.resize",(function(t,r){r._height&&r._name=="_embed_"+s&&(e(h).height(r._height),n.unmountComponentAtNode(g.get(0)))})),e(document).on("Reamaze.navigate",(function(t,n){n._url&&n._name=="_embed_"+s&&l&&(v=n._url,window.location.replace(window.location.pathname+window.location.search+"#reamaze#"+s+"#"+n._url)),n._height&&n._name=="_embed_"+s&&e(h).height(n._height),window.location.hash&&-1!=window.location.hash.indexOf("#reamaze#"+s+"#")&&window.scrollTo(0,e(h).offset().top<350?0:e(h).offset().top)})),e(window).on("hashchange",(function(){if(!window.location.hash||0===window.location.hash.indexOf("#!")||0===window.location.hash.indexOf("#reamaze#"+s+"#")){var e=u(),t=window.location.hash.split("#reamaze#"+s+"#")[1];v!=t&&(h[0].contentWindow.location.replace(e),v=t)}}))}else h&&(h[0].src=u());if(h&&(this._contactCustomFields||this._customFields)&&"contact"===a){var y=c();if(!y.match(/^http/)){var b=new Reamaze._iframeform(u(),h),C=this._contactCustomFields||this._customFields;C=this._contactCustomFields&&i.formId?C["rmz_form_id_"+i.formId]:C,b.addParameter("sparams",e.param({sso:this._visitor.ssoData(),custom_fields:C,framed:1})),b.addParameter("destination",y),b.send()}}},_registerEmbedListeners:function(){var t=this;this._ui.embed&&this._ui.embed.container&&this.embed(e(this._ui.embed.container),this._ui.embed.mode,this._ui.embed.subject),e("[data-reamaze-embed]").each((function(n,r){t.embed(e(r),e(r).data("reamaze-embed"),e(r).data("reamaze-embed-subject"),{path:e(r).data("reamaze-embed-path"),trackHistory:"off"!==e(r).data("reamaze-embed-track-history"),channel:e(r).data("reamaze-embed-channel"),allowfullscreen:!!e(r).data("reamaze-embed-allowfullscreen"),loadingColor:e(r).data("reamaze-embed-loading-color")||"#ccc",formId:e(r).data("reamaze-embed-form-id"),hideSubject:!!e(r).data("reamaze-embed-disable-subject"),requireAttachment:!!e(r).data("reamaze-embed-require-attachment")})}))}}),e(document).on("Reamaze.init",(function(){Reamaze.seq_id=0,Reamaze._registerEmbedListeners()}))}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e){e.extend(Reamaze,{event:function(t){var n={sso:this._visitor.ssoData(),event:t};e.ajax(this._baseDataUrl+"/data/events.json",{type:"POST",dataType:"json",data:e.param(n)})}})}(jQuery),function(e){e.extend(Reamaze,{notify:function(t){setTimeout((function(){e(window).trigger("Reamaze.notify",[t])}),0)},cue:function(t){e(document).trigger("Reamaze.Outbounds.new",t)},removeCue:function(t){e(document).trigger("Reamaze.Outbounds.remove",t)},removeAllCues:function(){e(document).trigger("Reamaze.Outbounds.removeAll")}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e){e.extend(Reamaze,{closePopup:function(){e(document).trigger("Reamaze.closePopup")},popup:function(t,n,r){e(document).trigger("Reamaze.openPopup",[e.extend({},r,{path:t,minimized:!1,anchor:n})])}})}(jQuery),jQuery.extend(Reamaze,{eligibleForPushPrompt:function(){return"serviceWorker"in navigator&&"PushManager"in window&&"default"==Notification.permission},promptPushPermissions:function(){return new Promise((function(e,t){if(Reamaze.eligibleForPushPrompt()){var n=Notification.requestPermission((function(t){e(t)}));n&&n.then(e,t)}else e("denied")}))}}),function(e){e.extend(Reamaze,{setupPusher:function(t){Reamaze.Pusher||(Reamaze.Pusher=t,function(e){function t(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function n(e,t,n){var r=0,a="&socket_id="+encodeURIComponent(t);for(var o in e)a+="&channel_name["+r+"]="+encodeURIComponent(o),r++;for(var i in n.params)a+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n.params[i]);return a}function r(t,r,a,o,i){var s=e.Runtime.createXHR();s.open("POST",o,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var p=a;for(var l in"function"==typeof a&&(p=a()),p.headers)s.setRequestHeader(l,p.headers[l]);s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var e,t=!1;try{e=JSON.parse(s.responseText),t=!0}catch(e){i(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+s.responseText)}t&&i(!1,e)}else i(!0,s.status)},s.send(n(t,r,p))}var a=function(e){this.options=e,this.authOptions=e.authOptions||{},this.requests={},this.setRequestTimeout()};a.prototype.add=function(e,t){this.requests[e]=t,this.requestTimeout||this.setRequestTimeout()},a.prototype.setRequestTimeout=function(){clearTimeout(this.requestTimeout),this.requestTimeout=setTimeout(function(){Object.keys(this.requests).length?(this.executeRequests(),this.setRequestTimeout()):this.requestTimeout=null}.bind(this),this.options.authDelay||0)},a.prototype.executeRequests=function(){var e=this.requests;this.requests={},r(e,this.options.socketId,this.authOptions,this.options.authEndpoint,(function(n,r){t(e,n?function(e){e(!0,r)}:function(e,t){r[t]?r[t].status&&200!==r[t].status?e(!0,r[t].status):e(null,r[t].data):e(!0,404)})}))};var o={},i=function(e,t,n){var r=this.options.authEndpoint,i=t+":"+r,s=o[i];s||(s=o[i]=new a({socketId:t,authEndpoint:r,authDelay:this.options.authDelay,authOptions:this.options.auth})),s.add(this.channel.name,n)},s=e.Runtime.getAuthorizers();e.Runtime.getAuthorizers=function(){return s.buffered=i,s}}(Reamaze.Pusher),e(window).trigger("Reamaze.pusherSetupComplete"))}}),e(document).on("Reamaze.init",(function(){Reamaze.Pusher=void 0}))}(jQuery),function(e){LS_KEY_PREFIX="rmz.",e.extend(Reamaze,{localStorage:{getItem:function(e){try{return localStorage.getItem(LS_KEY_PREFIX+e)}catch(e){return null}},setItem:function(e,t){try{return localStorage.setItem(LS_KEY_PREFIX+e,t)}catch(e){return null}},removeItem:function(e){try{return localStorage.removeItem(LS_KEY_PREFIX+e)}catch(e){return null}},reset:function(){try{var e=Object.keys(localStorage);for(var t in e){var n=e[t];0===n.indexOf(LS_KEY_PREFIX)&&localStorage.removeItem(n)}}catch(e){}}},sessionStorage:{getItem:function(e){try{return sessionStorage.getItem(LS_KEY_PREFIX+e)}catch(e){return null}},setItem:function(e,t){try{return sessionStorage.setItem(LS_KEY_PREFIX+e,t)}catch(e){return null}},removeItem:function(e){try{return sessionStorage.removeItem(LS_KEY_PREFIX+e)}catch(e){return null}},reset:function(){try{var e=Object.keys(sessionStorage);for(var t in e){var n=e[t];0===n.indexOf(LS_KEY_PREFIX)&&sessionStorage.removeItem(n)}}catch(e){}}}})}(jQuery),function(e){var t="_vd",n=function(n,r,a,o,i){n=n||{},this.preview=!!o,this.isSetup=!!i,function(){try{this._data=JSON.parse(Reamaze.localStorage.getItem(t)),this._session=Reamaze.sessionStorage.getItem(t)}catch(e){return!0}if(!this._data)return!0;if(this._data&&this._data.ts&&(new Date).getTime()>parseInt(this._data.ts)+6048e5)return!0;if(n.id){if(this.getExternalRefId()!=n.id)return!0}else if(this.getExternalRefId())return!0;return!1}.bind(this)()&&(this.reset(),Reamaze.reset()),this._data=e.extend(this._data,n),this.cache(),this.set("parent_url",window.location.href);var s=!1;if(n.data){var p=function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r}(e.param(n.data));s=this.get("ud_fp")!=p,this.set("ud_fp",p)}!n.id&&!n.authpath||!s&&this._session?a&&window.setTimeout(a,0):new Promise(function(t,r){n.authkey?t(this.ssoData()):n.authpath?e.ajax(n.authpath,{success:function(n){n&&n.constructor===Object&&0!==Object.keys(n).length||r(),this._data=e.extend(this._data,n),this.cache(),t(n)}.bind(this),error:function(){r()}.bind(this)}):r()}.bind(this)).then(function(o){var i={};this._session||(i.session="_new"),i.sso=o,i.sso.data=n.data,this.preview||e.ajax(r+"/data/users.json",{type:"POST",data:e.param(i),success:function(e){this._session=1,Reamaze.sessionStorage.setItem(t,this._session),this.set("_id",e.id)}.bind(this),error:function(){this.reset()}.bind(this),complete:function(){a&&window.setTimeout(a,0)}.bind(this)})}.bind(this)).catch((function(){a&&window.setTimeout(a,0)}))};n.prototype.getExternalRefId=function(){return this.get("id")},n.prototype.isIdentified=function(){return this.get("_id")||this.get("email")||this.getExternalRefId()},n.prototype.hasEmail=function(){return!!this.get("email")},n.prototype.getAnonymousId=function(){return this.get("anon_id")},n.prototype.setAnonymousId=function(e){return this.set("anon_id",e)},n.prototype.getTimezoneOffset=function(){return(new Date).getTimezoneOffset()},n.prototype.getTimezoneName=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},n.prototype.getConversationTokens=function(){return this.get("cts")||[]},n.prototype.setConversationTokens=function(e){return this.set("cts",e||null)},n.prototype.get=function(e){return this._data[e]},n.prototype.set=function(e,t){(!this.isSSOUser()||"email"!=e&&"id"!=e)&&(this._data[e]=t,this.cache())},n.prototype.isSSOUser=function(){return this.get("authkey")&&this.getExternalRefId()&&this.get("email")},n.prototype.cache=function(){this._data.visits=this._data.visits||1,this._data.ts&&(new Date).getTime()-this._data.ts>36e5&&this._data.visits++,this._data.ts=(new Date).getTime();var e={id:this.getExternalRefId(),email:this._data.email,anon_id:this.getAnonymousId(),first_seen:this._data.first_seen,ts:this._data.ts,ud_fp:this._data.ud_fp,cts:this.getConversationTokens(),visits:this._data.visits};this._data.shop&&(e.shop=this._data.shop),this._data.phone&&(e.phone=this._data.phone),Reamaze.localStorage.setItem(t,JSON.stringify(e))},n.prototype.ssoData=function(){var e=this._data.avatar;e&&"/"==e[0]&&(e="https://"+window.location.hostname+e);var t={id:this.getExternalRefId(),anon_id:this.getAnonymousId(),first_seen:this._data.first_seen,name:this._data.name,avatar:e,email:this._data.email,authkey:this._data.authkey,authpath:this._data.authpath,parent_url:this._data.parent_url,tz_offset:this.getTimezoneOffset(),tz_name:this.getTimezoneName(),cts:this.getConversationTokens()};return this.preview&&(t.preview=1),this.isSetup&&(t.setup=1),this._data.shop&&(t.shop=this._data.shop),this._data.phone&&(t.phone=this._data.phone),t},n.prototype.reset=function(){Reamaze.localStorage.removeItem(t),Reamaze.sessionStorage.removeItem(t),this._session=null;var e=new Date;this._data={first_seen:e.toISOString?e.toISOString():e.toUTCString()},this.set("parent_url",window.location.href),this.cache()},Reamaze.Visitor=n}(jQuery),function(e,t,n){e.extend(Reamaze,{_registerWidgetListeners:function(){var r=document.getElementById("reamazejs-container");r?n.unmountComponentAtNode(r):r=e('<div id="reamazejs-container"></div>').appendTo(document.body)[0];var a=!1,o="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,i=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),s=i&&o;this._ui.widget&&("mobile"!=this._ui.widget.displayOn&&!s||"desktop"!=this._ui.widget.displayOn&&s)&&(a=e.extend(!0,{},this._ui.widget),s&&(void 0!==a.mobilePosition&&(a.position=a.mobilePosition),void 0!==a.mobileSize?a.size=a.mobileSize:a.size=Math.max(.8*parseInt(a.size,10),44)),void 0===a.label&&(this._ui.popup&&"kb"==this._ui.popup.mode?a.label={text:"Find help here!",delay:3,duration:30}:a.label={text:"Ask us a question!",delay:3,duration:30}),"string"==typeof a.label&&(a.label={text:a.label,delay:0,duration:0,mode:"default"}),a.size||(a.size=58),a.position&&"bottom-right"!=a.position?"bottom-left"==a.position&&(a.position={bottom:"22px",left:"22px"}):a.position={bottom:"22px",right:"22px"});var p=!0;this._ui.widget&&(p=void 0===this._ui.widget.allowBotProcessing||!0===this._ui.widget.allowBotProcessing||"true"==this._ui.widget.allowBotProcessing);var l=this._ui.faces||[];this._ui.faces&&"string"==typeof this._ui.faces&&(l=JSON.parse(this._ui.faces).filter((function(e){return!!e})));var c={widgetOpts:a,popupOpts:this._ui.popup,baseUrl:this._baseUrl,baseDataUrl:this._baseDataUrl,account:this._settings.account,appDomain:"reamaze.com",cdnDomain:"cdn.reamaze.com",pusherAppKey:this._pusherAppKey,currentUser:this._visitor,customFields:this._customFields,trans:this._translations,contactMode:this._ui.contactMode||"default",allowBotProcessing:p,shoutboxFacesMode:this._ui.shoutboxFacesMode,shoutboxFontSize:this._ui.widget.fontSize,shoutboxHeaderLogo:this._ui.shoutboxHeaderLogo,faces:l,enableKb:this._ui.enableKb,enableBrowserTabAlerting:this._ui.enableBrowserTabAlerting,pushNotifications:this._ui.pushNotifications,unreadCallbackFunc:Reamaze._callbacks.unread_callback,route:this._settings._route,routeParams:this._settings._routeParams,styles:this.styles,outbounds:this.outbounds||[],pushPrompt:this._ui.pushPrompt,hasTouch:o,isMobileBrowser:i,isMobileDevice:s,apps:this.apps||{},appOrder:this._ui.appOrder||["faq","orders","shopper","recentConversations"],_preview:this._preview,disableAudio:this._ui.disableAudio,previewOptions:this.previewOptions||{},overrides:this._ui.overrides},u=function(){n.render(t.createElement(Reamaze.ReamazeJS,c),r),this._settings.openPopup&&e(window).trigger("Reamaze.openPopup")}.bind(this);e.ajax({url:"https://"+this._settings.cdn_domain+"/data/brands/"+this._settings.account+"/ping",cache:!this._preview,success:function(e){c.brandData=e}.bind(this),complete:u})}}),e(document).on("Reamaze.init",(function(){Reamaze._registerWidgetListeners()}))}(jQuery,React,ReactDOM,createReactClass,PropTypes),window.export=window._original_export,window.exports=window._original_exports,window.require=window._original_require,window.requirejs=window._original_requirejs,window.module=window._original_module,window.define=window._original_define,window._original_export=window._original_require=window._original_requirejs=window._original_module=window._original_define=void 0,function(e){var t=function(){_support.ui=_support.ui||{};var e,t={account:_support.account,app_domain:"reamaze.com",data_domain:"reamaze.io",cdn_domain:"cdn.reamaze.com",protocol:"https://",pusherAppKey:"4ad5621db51f93f2100f",ui:{popup:_support.ui.popup||{zIndex:_support.ui.zIndex,width:_support.ui.width,height:_support.ui.height,trigger:_support.ui.trigger,category:_support.ui.mailbox,mode:_support.ui.lightbox_mode},embed:_support.ui.embed||{container:_support.ui.container,mode:_support.ui.mode,subject:_support.ui.subject},appOrder:_support.ui.appOrder,bar:_support.ui.bar||"bar"==_support.ui.extension,widget:_support.ui.widget||!1,contactMode:_support.ui.contactMode||_support.ui.anonymousMode||"default",shoutboxFacesMode:_support.ui.shoutboxFacesMode,shoutboxFontSize:_support.ui.shoutboxFontSize,faces:_support.ui.faces||[],shoutboxHeaderLogo:_support.ui.shoutboxHeaderLogo||!1,styles:_support.ui.styles||{},pushPrompt:_support.ui.push_prompt||!1,pushNotifications:_support.ui.pushNotifications||void 0===_support.ui.pushNotifications||!0===_support.ui.pushNotifications,enableKb:void 0===_support.ui.enableKb||!0===_support.ui.enableKb||"true"==_support.ui.enableKb,enableBrowserTabAlerting:void 0===_support.ui.enableBrowserTabAlerting||!0===_support.ui.enableBrowserTabAlerting||"true"==_support.ui.enableBrowserTabAlerting,disableAudio:!0===_support.ui.disableAudio||"true"==_support.ui.disableAudio},translations:_support.translations||{messagePrompt:{reply:"Reply",close:"Close"}},_preview:_support._preview,_setup:_support._setup,openPopup:_support.openPopup,_route:_support._route,_routeParams:_support._routeParams||{},outbounds:_support.outbounds,apps:_support.apps,previewOptions:_support.previewOptions||{}};t.ui.popup&&!t.ui.popup.mode&&(t.ui.popup.mode=_support.ui.lightbox_mode),_support.user&&(_support.user.email||_support.user.authpath)&&(e=_support.user),t.ui.overrides={},_support.ui.overrides&&(t.ui.overrides.confirmationMessage=_support.ui.overrides.confirmationMessage),!e&&(_support.email||_support.authkey||_support.id)&&(e={id:_support.id,authkey:_support.authkey,email:_support.email,name:_support.name,avatar:_support.avatar,created:_support.created,data:_support.data});var n={};n.widget=_support.custom_fields||null,n.contact=_support.contact_custom_fields||null;var r=_support.callbacks||{unread_callback:_support.unread_callback,analytics_track_callback:_support.analytics_track_callback};Reamaze.initialize(t,e,n,r)};reamaze?Reamaze=reamaze:(reamaze=Reamaze,e((function(){Reamaze.jQuery=e;var n=e.throttle(300,t);if(Reamaze.reload=n,_support){_support.outbounds||(_support.outbounds=[]);var r=_support.outbounds.push;_support.outbounds.push=function(t){r.apply(_support.outbounds,t),e(document).trigger("Reamaze.Outbounds.new",t)},n()}})))}(jQuery.noConflict(!0)),Reamaze.React=window.React,Reamaze.ReactDOM=window.ReactDOM,Reamaze.createReactClass=window.createReactClass,Reamaze.PropTypes=window.PropTypes,window.React=window._ReactOriginal,window.ReactDOM=window._ReactDOMOriginal,window.createReactClass=window._createReactClassOriginal,window.PropTypes=window._PropTypesOriginal,delete window._ReactOriginal,delete window._ReactDOMOriginal,delete window._createReactClassOriginal,delete window._PropTypesOriginal;